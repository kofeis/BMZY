{"version":3,"sources":["file:///D:/Cocos/XHAT/BMZY/assets/Script/Button/Scene_Change_Script.ts"],"names":["_decorator","Component","find","Node","Label","Enum","Resoure_Data","Scene_Change_Type","ScreenMode","Tool_Event","ccclass","property","Script_Scene_Change","tooltip","type","onLoad","getComponent","start","Automatic","Scene_Jump_Automatic","instance","On_Event_TOUCH_END","node","Scene_Jump_Manual","Scene_Name_Next","Path","SceneGame","Load_Scene","Progress_Mask","Progress_Bar","Value","Director_Run","Finish","Game_End","Manual","Horizontal"],"mappings":"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","sourcesContent":["import { _decorator, Component, v3, tween, Prefab, Input, director, find, Animation, game, CCBoolean, CCInteger, Node, UITransform, Tween, Label, ProgressBar, Enum, log, NodeEventType } from 'cc';\n\n\nimport { Resoure_Data, Scene_Change_Type, ScreenMode, } from '../Tool/Resoure_Data';\nimport { Tool_Event } from '../Tool/Tool_Event';\n\n\nconst { ccclass, property } = _decorator;\n\n@ccclass('Script_Scene_Change')\nexport default class Script_Scene_Change extends Component {\n\n    Resoure_Data: Resoure_Data = null;\n\n    @property({ tooltip: \"路径\" })\n    Path: string = \"\";\n\n    /**屏幕模式 */\n    @property({ type: Enum(ScreenMode), tooltip: \"横屏 竖屏\" })\n    ScreenMode: ScreenMode = ScreenMode.Horizontal;\n\n    /**场景改变类型 */\n    @property({ type: Enum(Scene_Change_Type), tooltip: \"自动跳转 手动跳转 结束游戏\" })\n    Scene_Change_Type: Scene_Change_Type = Scene_Change_Type.Automatic;\n\n    /**进度遮罩 */\n    @property({ type: Node, tooltip: \"进度遮罩\" })\n    Progress_Mask: Node = null;\n\n    /**进度条 */\n    @property({ type: Node, tooltip: \"进度条\" })\n    Progress_Bar: Node = null;\n\n    /**进度值 */\n    @property({ type: Label, tooltip: \"进度值\" })\n    Value: Label = null;\n\n\n\n    async onLoad() {\n        this.Resoure_Data = find(\"Resoure_Data\").getComponent(Resoure_Data);\n    }\n\n    start() {\n        if (this.Scene_Change_Type == Scene_Change_Type.Automatic) {\n            this.Scene_Jump_Automatic();\n        } else {\n            Tool_Event.instance.On_Event_TOUCH_END(this.node, this.Scene_Jump_Manual, this);\n        }\n    }\n\n    /**自动跳转 */\n    async Scene_Jump_Automatic() {\n        this.Resoure_Data.Scene_Name_Next = this.Path;\n        let SceneGame = await this.Resoure_Data.Load_Scene(this.Resoure_Data.Scene_Name_Next, this.Progress_Mask, this.Progress_Bar, this.Value, this.ScreenMode);\n        this.Resoure_Data.Director_Run(SceneGame);\n\n    }\n\n    /**手动跳转 */\n    async Scene_Jump_Manual() {\n        if (this.Scene_Change_Type == Scene_Change_Type.Finish) {\n            this.Resoure_Data.Game_End();\n        } else if (this.Scene_Change_Type == Scene_Change_Type.Manual) {\n            this.Resoure_Data.Scene_Name_Next = this.Path;\n            let SceneGame = await this.Resoure_Data.Load_Scene(this.Resoure_Data.Scene_Name_Next);\n            this.Resoure_Data.Director_Run(SceneGame);\n            return;\n\n        }\n    }\n\n\n}\n\n"]}