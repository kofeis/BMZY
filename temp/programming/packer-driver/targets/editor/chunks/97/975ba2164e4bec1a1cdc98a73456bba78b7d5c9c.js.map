{"version":3,"sources":["file:///Users/jingfaxie/Documents/UGit/minigame3/Aby/assets/Script/Tool/Tool_UI.ts"],"names":["_decorator","Component","find","isValid","sys","UITransform","v3","view","Widget","instantiate","Sprite","color","UIOpacity","ccclass","property","Tool_UI","Component_Get","Node_Set","Class_Constructor","getComponent","addComponent","Component_Check","Component_On","enabled","Component_Off","Get_Platform","platform","Platform","UNKNOWN","console","log","EDITOR_PAGE","EDITOR_CORE","MOBILE_BROWSER","DESKTOP_BROWSER","WIN32","ANDROID","IOS","MACOS","OHOS","OPENHARMONY","WECHAT_GAME","WECHAT_MINI_PROGRAM","XIAOMI_QUICK_GAME","ALIPAY_MINI_GAME","BYTEDANCE_MINI_GAME","OPPO_MINI_GAME","VIVO_MINI_GAME","HUAWEI_QUICK_GAME","MIGU_MINI_GAME","HONOR_MINI_GAME","warn","isWechatPlatform","isMobile","indexOf","isNative","Get_Height_Design","getDesignResolutionSize","height","Get_Width_Design","width","Get_Height_Visible","getVisibleSize","Get_Width_Visible","Get_Node_Is_Valid","Strict_Mode","Get_Touch_Position","Event","HalfScreenWidth","HalfScreenHeight","getUILocation","x","y","Set_SpriteFrame","Sprite_Frame","Component_Sprite","spriteFrame","Set_Color","Sprite_Color","Set_UIOpacity","Opacity","Component_UIOpacity","opacity","Set_Pos","Pos","setPosition","updateWorldTransform","Set_Pos_X","X","position","z","Set_Pos_Y","Y","Set_Pos_Z","Z","Set_Pos_Word_Same","Target_Node","Get_Target_Node_Local_Pos","Pool_Put","Pool_Get","Get_Pos_Is_Equal","Pos_Target","precision","FloatIs_Equal","A","B","Precision","Math","abs","Target_World_Pos","worldPosition","Local_Pos","parent","convertToNodeSpaceAR","Node_Index_Set","Index","Lenth","children","length","min","setSiblingIndex","Node_Index_Swap","Node_1","Node_2","Index_1","getSiblingIndex","Index_2","Arr_Increase","Arrays","Element","push","Arr_Increase_Multiple","Elements","Arr_Delete","Arr_Check_Index","splice","Arr_Revise","Element_Old","Element_New","Arr_Filter","predicate","filter","Arr_Merge","Arrays_A","Arrays_B","Arr_Swap","Element_A","Element_B","Index_A","Index_B","Hide_Node_Children","forEach","active","Hide_Node_Children_Except","Except_Node","element","i","Set_Prefab_Node","Prefab","Parent_Node","Position","Name","Call","Node_Prefab","name","Set_Pos_Word","setWorldPosition","Get_Pos_Word","getWorldPosition","instance"],"mappings":"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","sourcesContent":["import { _decorator, Component, Constructor, find, isValid, Node, sys, UITransform, v3, Vec3, view, Widget, Prefab, instantiate, Sprite, SpriteFrame, Color, color, UIOpacity, Layers } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('Tool_UI')\nexport class Tool_UI extends Component {\n\n    public static readonly instance = new Tool_UI();\n\n    /**获取组件 */\n    Component_Get<T extends Component>(Node_Set: Node, Class_Constructor: Constructor<T>): T | null {\n        if (!Node_Set || !isValid(Node_Set, true)) {\n            return null;\n        }\n        let Component = Node_Set.getComponent(Class_Constructor);\n        if (!Component) {\n            Component = Node_Set.addComponent(Class_Constructor);\n        }\n        return Component;\n    }\n\n    /**检查组件 */\n    Component_Check<T extends Component>(Node_Set: Node, Class_Constructor: Constructor<T>): boolean {\n        if (!Node_Set || !isValid(Node_Set, true)) {\n            return false;\n        }\n        let Component = Node_Set.getComponent(Class_Constructor);\n        if (!Component) {\n            return false;\n        }\n        return true;\n    }\n\n    /**启用组件 */\n    Component_On<T extends Component>(Node_Set: Node, Class_Constructor: Constructor<T>) {\n        let Component = this.Component_Get(Node_Set, Class_Constructor);\n        Component.enabled = true;\n    }\n\n    /**禁用组件 */\n    Component_Off<T extends Component>(Node_Set: Node, Class_Constructor: Constructor<T>) {\n        let Component = this.Component_Get(Node_Set, Class_Constructor);\n        Component.enabled = false;\n    }\n\n    /**获取 运行 平台 */\n    Get_Platform() {\n        return sys.platform;\n        switch (sys.platform) {\n            case sys.Platform.UNKNOWN:\n                console.log(\"[Platform] 未知平台\");\n                return \"UNKNOWN\";\n            case sys.Platform.EDITOR_PAGE:\n                console.log(\"[Platform] Cocos编辑器网页预览模式\");\n                return \"EDITOR_PAGE\";\n            case sys.Platform.EDITOR_CORE:\n                console.log(\"[Platform] Cocos编辑器核心模式\");\n                return \"EDITOR_CORE\";\n            case sys.Platform.MOBILE_BROWSER:\n                console.log(\"[Platform] 移动端浏览器\");\n                return \"MOBILE_BROWSER\";\n            case sys.Platform.DESKTOP_BROWSER:\n                console.log(\"[Platform] PC浏览器\");\n                return \"DESKTOP_BROWSER\";\n            case sys.Platform.WIN32:\n                console.log(\"[Platform] Windows系统\");\n                return \"WIN32\";\n            case sys.Platform.ANDROID:\n                console.log(\"[Platform] Android设备\");\n                return \"ANDROID\";\n            case sys.Platform.IOS:\n                console.log(\"[Platform] iOS设备\");\n                return \"IOS\";\n            case sys.Platform.MACOS:\n                console.log(\"[Platform] macOS系统\");\n                return \"MACOS\";\n            case sys.Platform.OHOS:\n                console.log(\"[Platform] 鸿蒙系统(旧版)\");\n                return \"OHOS\";\n            case sys.Platform.OPENHARMONY:\n                console.log(\"[Platform] OpenHarmony系统\");\n                return \"OPENHARMONY\";\n            case sys.Platform.WECHAT_GAME:\n                console.log(\"[Platform] 微信小游戏\");\n                return \"WECHAT_GAME\";\n            case sys.Platform.WECHAT_MINI_PROGRAM:\n                console.log(\"[Platform] 微信小程序\");\n                return \"WECHAT_MINI_PROGRAM\";\n            case sys.Platform.XIAOMI_QUICK_GAME:\n                console.log(\"[Platform] 小米快游戏\");\n                return \"XIAOMI_QUICK_GAME\";\n            case sys.Platform.ALIPAY_MINI_GAME:\n                console.log(\"[Platform] 支付宝小游戏\");\n                return \"ALIPAY_MINI_GAME\";\n            case sys.Platform.BYTEDANCE_MINI_GAME:\n                console.log(\"[Platform] 字节跳动小游戏\");\n                return \"BYTEDANCE_MINI_GAME\";\n            case sys.Platform.OPPO_MINI_GAME:\n                console.log(\"[Platform] OPPO小游戏\");\n                return \"OPPO_MINI_GAME\";\n            case sys.Platform.VIVO_MINI_GAME:\n                console.log(\"[Platform] vivo小游戏\");\n                return \"VIVO_MINI_GAME\";\n            case sys.Platform.HUAWEI_QUICK_GAME:\n                console.log(\"[Platform] 华为快游戏\");\n                return \"HUAWEI_QUICK_GAME\";\n            case sys.Platform.MIGU_MINI_GAME:\n                console.log(\"[Platform] 咪咕快游\");\n                return \"MIGU_MINI_GAME\";\n            case sys.Platform.HONOR_MINI_GAME:\n                console.log(\"[Platform] 荣耀小游戏\");\n                return \"HONOR_MINI_GAME\";\n            default:\n                console.warn(\"[Platform] 未识别的平台:\", sys.platform);\n                return \"UNRECOGNIZED\";\n        }\n    }\n    /**\n    * 检查是否是微信平台（小游戏或小程序）\n    */\n    public isWechatPlatform(): boolean {\n        return sys.platform === sys.Platform.WECHAT_GAME || sys.platform === sys.Platform.WECHAT_MINI_PROGRAM;\n    }\n    /**\n     * 检查是否是移动端\n     */\n    public isMobile(): boolean {\n        return [\n            sys.Platform.MOBILE_BROWSER,\n            sys.Platform.ANDROID,\n            sys.Platform.IOS,\n            sys.Platform.OHOS,\n            sys.Platform.OPENHARMONY\n        ].indexOf(sys.platform) !== -1;\n    }\n    /**\n     * 检查是否是原生平台\n     */\n    public isNative(): boolean {\n        return [\n            sys.Platform.ANDROID,\n            sys.Platform.IOS,\n            sys.Platform.WIN32,\n            sys.Platform.MACOS,\n            sys.Platform.OHOS,\n            sys.Platform.OPENHARMONY\n        ].indexOf(sys.platform) !== -1;\n    }\n\n    /**获取 设计 高度 */\n    Get_Height_Design() {\n        return view.getDesignResolutionSize().height;\n    }\n    /**获取 设计 宽度 */\n    Get_Width_Design() {\n        return view.getDesignResolutionSize().width;\n    }\n    /**获取 可见 高度 */\n    Get_Height_Visible() {\n        return view.getVisibleSize().height;\n        return find(\"Canvas\").getComponent(UITransform).height;\n    }\n    /**获取 可见 宽度 */\n    Get_Width_Visible() {\n        return view.getVisibleSize().width;\n        return find(\"Canvas\").getComponent(UITransform).width;\n    }\n\n    /**获取 节点 是否 有效 */\n    Get_Node_Is_Valid(Node_Set: Node, Strict_Mode?: boolean) {\n        return isValid(Node_Set);\n    }\n\n    /**获取触摸坐标 */\n    Get_Touch_Position(Event: any): Vec3 {\n        // 设计分辨率\n        const HalfScreenWidth = this.Get_Width_Design() / 2;\n        const HalfScreenHeight = this.Get_Height_Design() / 2;\n        // 工具函数：计算触摸位置相对于屏幕中心的位置\n        return v3(\n            Event.getUILocation().x - HalfScreenWidth,\n            Event.getUILocation().y - HalfScreenHeight,\n            0\n        );\n    }\n\n    /**设置精灵帧 */\n    Set_SpriteFrame(Node_Set: Node, Sprite_Frame: SpriteFrame | null) {\n        let Component_Sprite = this.Component_Get(Node_Set, Sprite);\n        Component_Sprite.spriteFrame = Sprite_Frame;\n    }\n\n    /**设置精灵颜色 */\n    Set_Color(Node_Set: Node, Sprite_Color: Color = color(255, 255, 255, 255)) {\n        let Component_Sprite = this.Component_Get(Node_Set, Sprite);\n        Component_Sprite.color = Sprite_Color;\n    }\n\n    /**设置不透明度 */\n    Set_UIOpacity(Node_Set: Node, Opacity: number = 255) {\n        let Component_UIOpacity = this.Component_Get(Node_Set, UIOpacity);\n        Component_UIOpacity.opacity = Opacity;\n    }\n\n    /**设置节点坐标 */\n    Set_Pos(Node_Set: Node, Pos: Vec3) {\n        Node_Set.setPosition(Pos);\n        Node_Set.updateWorldTransform();\n    }\n    /**设置节点 X 坐标 */\n    Set_Pos_X(Node_Set: Node, X: number) {\n        Node_Set.setPosition(v3(X, Node_Set.position.y, Node_Set.position.z));\n        Node_Set.updateWorldTransform();\n    }\n    /**设置节点 Y 坐标 */\n    Set_Pos_Y(Node_Set: Node, Y: number) {\n        Node_Set.setPosition(v3(Node_Set.position.x, Y, Node_Set.position.z));\n        Node_Set.updateWorldTransform();\n    }\n    /**设置节点 Z 坐标 */\n    Set_Pos_Z(Node_Set: Node, Z: number) {\n        Node_Set.setPosition(v3(Node_Set.position.x, Node_Set.position.y, Z));\n        Node_Set.updateWorldTransform();\n    }\n\n    /**设置坐标一致 */\n    Set_Pos_Word_Same(Node_Set: Node, Target_Node: Node) {\n        Node_Set.position = this.Get_Target_Node_Local_Pos(Node_Set, Target_Node);\n        Node_Set.updateWorldTransform();\n    }\n\n\n    /**添加 */\n    Pool_Put(Node_Set: Node) {\n        this.Set_UIOpacity(Node_Set, 0);\n        if (this.Component_Check(Node_Set, Widget)) {\n            this.Component_Off(Node_Set, Widget);\n        }\n        this.Set_Pos(Node_Set, v3(99999, 99999, 99999));\n    }\n\n    /**获取 */\n    Pool_Get(Node_Set: Node) {\n        this.Set_UIOpacity(Node_Set, 255);\n        if (this.Component_Check(Node_Set, Widget)) {\n            this.Component_On(Node_Set, Widget);\n        }\n        this.Set_Pos(Node_Set, v3(0, 0, 0));\n    }\n\n    /**\n     * 判断两个三维坐标是否一致（考虑浮点数精度）\n     * @param Pos 第一个坐标（Vec3 类型）\n     * @param Pos_Target 第二个坐标（Vec3 类型）\n     * @param precision 精度范围，默认为 0.0001\n     * @returns 如果两个坐标在精度范围内一致，返回 true；否则返回 false\n     */\n    Get_Pos_Is_Equal(Pos: Vec3, Pos_Target: Vec3, precision: number = 0.0001): boolean {\n        return (\n            this.FloatIs_Equal(Pos.x, Pos_Target.x, precision) &&\n            this.FloatIs_Equal(Pos.y, Pos_Target.y, precision) &&\n            this.FloatIs_Equal(Pos.z, Pos_Target.z, precision)\n        );\n    }\n\n    /**\n     * 判断两个浮点数是否在精度范围内相等\n     * @param a 第一个数\n     * @param b 第二个数\n     * @param precision 精度范围，默认为 0.0001\n     * @returns 如果两个数在精度范围内相等，返回 true；否则返回 false\n     */\n    FloatIs_Equal(A: number, B: number, Precision: number = 0.0001): boolean {\n        return Math.abs(A - B) < Precision;\n    }\n\n    /**\n     * 获取 Target_Node 相对于 Node_Set 的局部坐标\n     * @param Node_Set 参考节点（局部坐标系的参考点）\n     * @param Target_Node 目标节点（需要获取其局部坐标的节点）\n     * @returns 返回 Target_Node 相对于 Node_Set 的局部坐标（Vec3）\n     */\n    Get_Target_Node_Local_Pos(Node_Set: Node, Target_Node: Node): Vec3 {\n        // 获取 Target_Node 的世界坐标\n        const Target_World_Pos = Target_Node.worldPosition;\n        // 将世界坐标转换为 Node_Set 的局部坐标\n        const Local_Pos = Node_Set.parent ? Node_Set.parent.getComponent(UITransform).convertToNodeSpaceAR(Target_World_Pos) : Target_World_Pos;\n        return Local_Pos;\n    }\n    /**节点 索引 设置 */\n    Node_Index_Set(Node_Set: Node, Index: number) {\n        let Lenth = Node_Set.parent.children.length - 1;\n        Index = Math.min(Lenth, Index);;\n        if (Index >= 0) {\n            Node_Set.setSiblingIndex(Index);\n        } else {\n            Node_Set.setSiblingIndex(Lenth);\n        }\n    }\n    /**节点 索引 交换 */\n    Node_Index_Swap(Node_1: Node, Node_2: Node): void {\n        // 检查两个节点是否有相同的父节点\n        if (Node_1.parent !== Node_2.parent) {\n            return;\n        }\n        // 获取两个节点的当前层级索引\n        const Index_1 = Node_1.getSiblingIndex();\n        const Index_2 = Node_2.getSiblingIndex();\n        // 索引相同，无需交换\n        if (Index_1 === Index_2) {\n            return;\n        }\n        // 交换两个节点的层级索引\n        Node_1.setSiblingIndex(Index_2);\n        Node_2.setSiblingIndex(Index_1);\n    }\n\n\n\n\n    /** 数组 元素 增加 */\n    Arr_Increase<T>(Arrays: T[], Element: T) {\n        Arrays.push(Element);\n    }\n\n    /** 数组 元素 批量增加 */\n    Arr_Increase_Multiple<T>(Arrays: T[], Elements: T[]) {\n        Arrays.push(...Elements);\n    }\n\n    /** 数组 元素 删除 */\n    Arr_Delete<T>(Arrays: T[], Element: T) {\n        const Index = this.Arr_Check_Index(Arrays, Element);\n        if (Index === -1) {\n            return;\n        }\n        Arrays.splice(Index, 1);\n    }\n\n    /** 数组 元素 修改 */\n    Arr_Revise<T>(Arrays: T[], Element_Old: T, Element_New: T | null) {\n        const Index = this.Arr_Check_Index(Arrays, Element_Old);\n        if (Index === -1) {\n            return;\n        }\n        Arrays[Index] = Element_New;\n    }\n\n    /** 数组 元素 查找 索引 */\n    Arr_Check_Index<T>(Arrays: T[], Element: T): number {\n        return Arrays.indexOf(Element);\n    }\n\n    /** 数组 元素 过滤 */\n    Arr_Filter<T>(Arrays: T[], predicate: (Element: T) => boolean): T[] {\n        return Arrays.filter(predicate);\n    }\n\n    /** 数组 元素 合并 */\n    Arr_Merge<T>(Arrays_A: T[], Arrays_B: T[]): T[] {\n        return [...Arrays_A, ...Arrays_B];\n    }\n\n    /** 数组 元素 交换位置 */\n    Arr_Swap<T>(Arrays: T[], Element_A: T, Element_B: T) {\n        const Index_A = this.Arr_Check_Index(Arrays, Element_A);\n        const Index_B = this.Arr_Check_Index(Arrays, Element_B);\n        if (Index_A === -1 || Index_B === -1) {\n            return;\n        }\n        [Arrays[Index_A], Arrays[Index_B]] = [Arrays[Index_B], Arrays[Index_A]];\n    }\n\n\n    /**隐藏节点子节点 */\n    Hide_Node_Children(Node_Set: Node) {\n        Node_Set.children.forEach(Node_Set => {\n            Node_Set.active = false;\n        });\n    }\n    /** \n     * 隐藏节点子节点 \n     * @param {Node} Node_Set - 要隐藏的节点 \n     * @param {Node[]} Except_Node - 不隐藏的节点 \n     */\n    Hide_Node_Children_Except(Node_Set: Node, Except_Node: Node[]) {\n        Node_Set.children.forEach(element => {\n            for (let i = 0; i < Except_Node.length; i++) {\n                element.active = Except_Node.indexOf(element) !== -1;\n            }\n        });\n    }\n\n\n\n    /**\n     *@param 设置预制体节点\n     *@param Prefab 预制体\n     *@param Parent_Node 父节点\n     *@param Position 坐标\n     *@param Name 名字\n     *@param Call 回调\n     *@returns 返回此预制体\n     */\n    Set_Prefab_Node(Prefab: Prefab, Parent_Node: Node, Position: Vec3, Name: string | number, Call: Function = () => { }) {\n        const Node_Prefab: Node = instantiate(Prefab);\n        Node_Prefab.parent = Parent_Node;\n        Node_Prefab.name = Name + \"\";\n        this.Set_Pos(Node_Prefab, Position);\n        Call?.();\n        return Node_Prefab;\n    }\n\n\n\n\n\n    /**设置世界坐标 */\n    Set_Pos_Word(Set_Pos: Vec3, Target_Node: Node) {\n        Target_Node.setWorldPosition(Set_Pos);\n    }\n    /**获取世界坐标 */\n    Get_Pos_Word(Target_Node: Node) {\n        return Target_Node.getWorldPosition(Target_Node.position);\n    }\n\n\n\n\n\n\n\n\n\n\n\n\n}\n\n\n"]}