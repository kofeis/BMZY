{"version":3,"sources":["file:///D:/CYDW/WoChengYuTeNiu/assets/Script/Button/Scene_Change_Script.ts"],"names":["_decorator","Component","find","Label","ProgressBar","Resoure_Data","Scene_Change_Type","ccclass","property","Script_Scene_Change","tooltip","type","onLoad","getComponent","Automatic","Scene_Jump_Automatic","start","node","on","Scene_Jump_Manual","Scene_Name_Next","Path","SceneGame","Load_Scene","Progress_Bar","Value","Director_Run","Finish"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAA+CC,MAAAA,I,OAAAA,I;AAAuEC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,W,OAAAA,W;;AAGzIC,MAAAA,Y,iBAAAA,Y;AAAcC,MAAAA,iB,iBAAAA,iB;;;;;;;;;OAGjB;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;;yBAGTS,mB,WADpBF,OAAO,CAAC,qBAAD,C,UAKHC,QAAQ,CAAC,EAAD,C,UAKRA,QAAQ,CAAC;AAAEE,QAAAA,OAAO,EAAE;AAAX,OAAD,C,UAGRF,QAAQ,CAAC;AAAEG,QAAAA,IAAI,EAAEP;AAAR,OAAD,C,UAGRI,QAAQ,CAAC;AAAEG,QAAAA,IAAI,EAAER;AAAR,OAAD,C,2BAhBb,MACqBM,mBADrB,SACiDR,SADjD,CAC2D;AAAA;AAAA;AAAA,eAEvDI,YAFuD,GAE1B,IAF0B;;AAAA;;AAOvD;;AACA;AARuD;;AAAA;;AAAA;AAAA;;AAkB3C,cAANO,MAAM,GAAG;AACX,eAAKP,YAAL,GAAoBH,IAAI,CAAC,cAAD,CAAJ,CAAqBW,YAArB;AAAA;AAAA,2CAApB;;AACA,cAAI,KAAKP,iBAAL,IAA0B;AAAA;AAAA,sDAAkBQ,SAAhD,EAA2D;AACvD,iBAAKC,oBAAL;AACH;AACJ;;AAEDC,QAAAA,KAAK,GAAG;AACJ;AACA,eAAKC,IAAL,CAAUC,EAAV,CAAa,WAAb,EAA0B,KAAKC,iBAA/B,EAAkD,IAAlD;AACH;AAED;;;AAC0B,cAApBJ,oBAAoB,GAAG;AACzB,eAAKV,YAAL,CAAkBe,eAAlB,GAAoC,KAAKC,IAAzC;AAEA,cAAIC,SAAS,GAAG,MAAM,KAAKjB,YAAL,CAAkBkB,UAAlB,CAA6B,KAAKlB,YAAL,CAAkBe,eAA/C,EAAgE,KAAKI,YAArE,EAAmF,KAAKC,KAAxF,CAAtB;AAEA,eAAKpB,YAAL,CAAkBqB,YAAlB,CAA+BJ,SAA/B;AACH;AAED;;;AACAH,QAAAA,iBAAiB,GAAG;AAGhB,cAAI,KAAKb,iBAAL,IAA0B;AAAA;AAAA,sDAAkBqB,MAAhD,EAAwD,CAAC;AAIxD,WAJD,MAIO,IAAI,KAAKrB,iBAAL,IAA0B;AAAA;AAAA,sDAAkBQ,SAAhD,EAA2D;AAAE;AAAS,WAP7D,CAO6D;;AAGhF;;AAlDsD,O;;;;;iBAKxC,E;;;;;;;iBAKwB;AAAA;AAAA,sDAAkBA,S;;;;;;;iBAG7B,I;;;;;;;iBAGb,I","sourcesContent":["import { _decorator, Component, v3, tween, Prefab, Input, director, find, Animation, game, CCBoolean, CCInteger, Node, UITransform, Tween, Label, ProgressBar } from 'cc';\r\n\r\n\r\nimport { Resoure_Data, Scene_Change_Type, } from '../Tool/Resoure_Data';\r\n\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Script_Scene_Change')\r\nexport default class Script_Scene_Change extends Component {\r\n\r\n    Resoure_Data: Resoure_Data = null;\r\n\r\n    @property({})\r\n    Path: string = \"\"\r\n\r\n    /**@param 0:退出游戏 1:自动跳转 2:手动跳转*/\r\n    /**场景改变类型 */\r\n    @property({ tooltip: \"0:自动跳转 1:手动跳转 2:结束游戏\" })\r\n    Scene_Change_Type: Scene_Change_Type = Scene_Change_Type.Automatic;\r\n\r\n    @property({ type: ProgressBar })\r\n    Progress_Bar: ProgressBar = null;\r\n\r\n    @property({ type: Label })\r\n    Value: Label = null;\r\n\r\n    async onLoad() {\r\n        this.Resoure_Data = find(\"Resoure_Data\").getComponent(Resoure_Data);\r\n        if (this.Scene_Change_Type == Scene_Change_Type.Automatic) {\r\n            this.Scene_Jump_Automatic();\r\n        }\r\n    }\r\n\r\n    start() {\r\n        // Input.EventType.TOUCH_START= \"touch-start\";\r\n        this.node.on(\"touch-end\", this.Scene_Jump_Manual, this);\r\n    }\r\n\r\n    /**自动跳转 */\r\n    async Scene_Jump_Automatic() {\r\n        this.Resoure_Data.Scene_Name_Next = this.Path;\r\n        \r\n        let SceneGame = await this.Resoure_Data.Load_Scene(this.Resoure_Data.Scene_Name_Next, this.Progress_Bar, this.Value);\r\n\r\n        this.Resoure_Data.Director_Run(SceneGame);\r\n    }\r\n\r\n    /**手动跳转 */\r\n    Scene_Jump_Manual() {\r\n\r\n\r\n        if (this.Scene_Change_Type == Scene_Change_Type.Finish) {//退出游戏\r\n\r\n\r\n\r\n        } else if (this.Scene_Change_Type == Scene_Change_Type.Automatic) { return; }//加载页\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n"]}