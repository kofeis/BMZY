{"version":3,"sources":["file:///D:/Tool/Project/MathMatchs/assets/Script/Game/Game_Script_Template.ts"],"names":["_decorator","Component","find","Resoure_Data","Tool_Other","ccclass","property","ConfigSidebarState","ConfigShareState","Game_Script_Template","onLoad","getComponent","InterfacePannel","InterfaceView","SubContextView","active","BlockInputEvents","constructor","openId","openIdTest","ShareRewardCount","InvitedCount","ShareRewardState","Share","ShareTime","DateLast","SidebarSwitch","SidebarState","Ok","PlaceBarId","TopicData","TopicDataId","TopicCount","TopicIndex","TopicIndexMin","PropNum","PropNumUse","PropNumUseMax","HighestRecord","HighestRecordLast","MathMatchLevel","MathMatchScore","start","DataGet","DataSet","Data_Get","undefined","instance","Get_Random_Int","Data_Set","console","log"],"mappings":"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","sourcesContent":["import { _decorator, assetManager, Button, Component, find, instantiate, Label, Node, Prefab, Sprite, tween, Tween, UIOpacity, v3, Animation, director, Vec3, log } from 'cc';\n\nimport { Resoure_Data } from '../Tool/Resoure_Data';\nimport { Tool_Other } from '../Tool/Tool_Other';\n\nconst { ccclass, property } = _decorator;\n\n/**菜数据 */\nexport interface DataDish {\n    Factor: number;\n    Id: number;\n    Level: number;\n    Region: string;\n    /**正确名字 */\n    CorrectName: string;\n    /**错误名字 */\n    WrongName: string;\n}\n/**地区菜配置 */\nexport interface ConfigRegionDish {\n    Id: number;\n    /**中文名 */\n    City: string;\n    /**拼音名 */\n    NamePinYin: string;\n    /**是否限免 */\n    IsFree: boolean,\n    /**是否成功 */\n    IsSuccess: boolean,\n    /**星星等级 */\n    StarsLevel: number,\n    /**通关人数 */\n    SuccessCount: number,\n}\n/**地区排行配置 */\nexport interface ConfigRegionRanking {\n    Id: number,\n    /**中文名 */\n    City: string;\n    /**星星数量 */\n    StarsNumber: number,\n    /**排行名次 */\n    Ranking?: number,\n}\n/**每日奖励状态配置 */\nexport enum ConfigSidebarState {\n    /**知道了 */\n    Ok,\n    /**待领取 */\n    Get,\n    /**已领取 */\n    Other,\n}\n/**分享奖励状态配置 */\nexport enum ConfigShareState {\n    /**邀请 */\n    Share,\n    /**领取 */\n    Get,\n}\n\n/**影视数据类型 */\n// type TypeFilmData = {\n//     Correct: string;\n//     Wrong: string;\n//     Hints: string,\n//     Movie: string,\n// }\n\n@ccclass('Game_Script_Template')\nexport class Game_Script_Template extends Component {\n\n    Resoure_Data: Resoure_Data = null;\n\n    openId: string = null;\n\n    openIdTest: string = null;\n\n    /**分享奖励次数 */\n    ShareRewardCount: number = 0;\n    /**邀请人数 */\n    InvitedCount: number = 0;\n\n    /**分享奖励状态 */\n    ShareRewardState: ConfigShareState = ConfigShareState.Share;\n\n    /**分享时间 */\n    ShareTime: number = -1;\n    /**上一次日期 */\n    DateLast: number = null;\n\n\n    /**侧边栏开关(true表示可以领取奖励) */\n    SidebarSwitch: boolean = null;\n    /**侧边栏状态 */\n    SidebarState: ConfigSidebarState = ConfigSidebarState.Ok;\n\n    /**防触摸节点 */\n    BlockInputEvents: Node = null;\n    /**界面面板 */\n    InterfacePannel: Node = null;\n    /**界面视图 */\n    InterfaceView: Node = null;\n\n    /**排行榜 */\n    SubContextView: Node = null;\n\n    /**地区栏Id */\n    PlaceBarId: number = null;\n\n    /**题目数据 */\n    TopicData: DataDish[] = null;\n    /**题目数据Id */\n    TopicDataId: number = null;\n    /**题目数量 */\n    TopicCount: number = null;\n    /**题目索引 */\n    TopicIndex: number = null;\n    /**最小题目索引(盖楼模式) */\n    TopicIndexMin: number = 20;\n\n    /**道具数量 */\n    PropNum: number = 0;\n    /**道具使用数量 */\n    PropNumUse: number = 0;\n    /**最大道具使用数量 */\n    PropNumUseMax: number = 3;\n\n    /**最高记录 */\n    HighestRecord: number = 0;\n    /**上一次最高记录 */\n    HighestRecordLast: number = 0;\n\n\n\n    /**数学消消关卡 */\n    MathMatchLevel: number = 0;\n    /**数学消消分数 */\n    MathMatchScore: number = 0;\n\n\n\n    onLoad() {\n        this.Resoure_Data = find(\"Resoure_Data\").getComponent(Resoure_Data);\n        this.InterfacePannel = find(\"Canvas/InterfacePannel\");\n        this.InterfaceView = find(\"Canvas/InterfaceView\");\n        this.SubContextView = find(\"Canvas/SubContextView\");\n        this.SubContextView.active = false;\n        this.BlockInputEvents = find(\"Canvas/BlockInputEvents\");\n        this.BlockInputEvents.active = false;\n    }\n\n    constructor() {\n        super();\n    }\n\n    start() {\n        /**初始数据 */\n        this.DataGet();\n        this.DataSet();\n\n        let openIdTest = this.Resoure_Data.Data_Get(\"openIdTest\");\n        if (openIdTest == null || openIdTest == undefined) {\n            this.openIdTest = \"openIdTest\" + Tool_Other.instance.Get_Random_Int(10000, 99999);\n            this.Resoure_Data.Data_Set(\"openIdTest\", this.openIdTest);\n            openIdTest = this.Resoure_Data.Data_Get(\"openIdTest\");\n        }\n        this.openIdTest = openIdTest;\n\n    }\n    /**获取数据 */\n    DataGet() {\n\n        let PropNum = this.Resoure_Data.Data_Get(\"PropNum\");\n        if (PropNum == null || PropNum == undefined) {\n            this.PropNum = 0;\n            this.Resoure_Data.Data_Set(\"PropNum\", this.PropNum);\n            PropNum = this.Resoure_Data.Data_Get(\"PropNum\");\n        }\n        this.PropNum = PropNum;\n\n        /**数学消消关卡 */\n        let MathMatchLevel = this.Resoure_Data.Data_Get(\"MathMatchLevel\");\n        if (MathMatchLevel == null || MathMatchLevel == undefined) {\n            this.MathMatchLevel = 0;\n            this.Resoure_Data.Data_Set(\"MathMatchLevel\", this.MathMatchLevel);\n            MathMatchLevel = this.Resoure_Data.Data_Get(\"MathMatchLevel\");\n        }\n        this.MathMatchLevel = MathMatchLevel;\n        /**数学消消分数 */\n        let MathMatchScore = this.Resoure_Data.Data_Get(\"MathMatchScore\");\n        if (this.MathMatchScore == null || MathMatchScore == undefined) {\n            this.MathMatchScore = 0;\n            this.Resoure_Data.Data_Set(\"MathMatchScore\", this.MathMatchScore);\n            MathMatchScore = this.Resoure_Data.Data_Get(\"MathMatchScore\");\n        }\n        this.MathMatchScore = MathMatchScore;\n\n\n    }\n    /**保存数据 */\n    DataSet() {\n        console.log(\"保存数据\");\n        /**数学消消 */\n        this.Resoure_Data.Data_Set(\"MathMatchLevel\", this.MathMatchLevel);\n        this.Resoure_Data.Data_Set(\"MathMatchScore\", this.MathMatchScore);\n\n        this.Resoure_Data.Data_Set(\"PropNum\", this.PropNum);\n    }\n\n\n\n}\n\n\n"]}