{"version":3,"sources":["file:///D:/Ugit_Project/ZhiShangGouBuDao/assets/Script/Game/GameMode/PanelMathMatch.ts"],"names":["_decorator","color","find","Label","tween","v3","Animation","Sprite","RichText","sys","sp","PanelTemplate","Tool_Event","Tool_Animation","Tool_UI","Tool_Other","Tool_Console","PlatformApi","GravityPlatform","ccclass","property","PanelMathMatch","Interactable","GameTimeAll","GameTimeIng","GameTime","JGTime","BtnBreak","PanelFH","GameData","KeyTarget","KeyExitState","KeyExitValue","KeyShadowIndex","LastKeyIndex","ValueTarget","ValuePos","ValueTargetC","KeyShadow","OnDistance","AnimCorrectNode","AnimWrongNode","TouchNode","TipLabel","TipNode","TipAnim","Obj_Start","num","Time","Time_Max","Step","onLoad","onEnable","IsInit","LoadPanel","GameStart","start","Timing","instance","Async_Function_Target","Anim_Frame_Play_Plus","BtnTip","getChildByName","getComponent","TimStop","Tween_Stop_Target","Promise","resolve","reject","BtnSetting","node","PanelTip","BtnTipClose","BtnTipGet","PanelVictory","PanelFail","BtnNext","BtnExit","OnBtn","Game_Script","AnimSwitch","Resoure_Data","Load_Prefab","BtnContinue","TimerIng","On_Event_TOUCH_END","PanelSetting","BtnSettingCall","Sound_Play","Vibration_Switch_Get","vibrateShort","UpdatePanelSetting","TimerPause","BtnBreakCall","active","IsShare","Event_On","MathMatchLevel","MathMatchScore","Score","DataSet","Music_Resume","BtnReStartCall","shareAppMessage","window","wx","console","log","BtnNextCall","BlockInputEvents","StarsData","Pos","Angle","Stars","AddScoreAnim","I","Star","children","parent","to","position","x","y","angle","scale","Async_Wait","ScoreLabel2","TPos","Get_Target_Node_Local_Pos","ScoreLabel1","Animation_Node_Move_Time","call","by","string","Number","BtnTipCall","grayscale","PropNum","TipCall","BtnTipCloseCall","BtnTipGetCall","showVideoAd","P","N","Set_Prefab_Node","easing","add","a","b","Animation_Node_Move_Bezier_Time","UpdateProp","destroy","TimerInit","ValueNumber","i","length","push","undefined","NullGIndex","Get_Random_Int","j","Result","Obj","Get_Min_Distance_Node","worldPosition","Distance","Num","Index","warn","Set_Color_Label","indexOf","IsExit","Arr_Check_Index","Key","Value","Temp","ColorOff","ColorOn","Set_SpriteFrame","Load_SpriteFrame","Node_Index_Set","OriginalNode","OriginalLastKeyIndex","CurrentLastKeyIndex","TipStart","Arr_Increase","KeyNodeIndexT","KeyNodeValueT","Set_Color_Sprite","UpdateUIValue","GameFailed","Set_Btn_Event_Anim","clone","ComponentLabel","Seconds_To_Time_String","substring","Async_Function_Id","play","Tween_Stop_Tag","TimerResume","TimerStop","InitData","UpdateScore","F","Json","Load_Json","JsonData","OnMessage","Copy_Deep","IsHint","IsContinue","InitInterface","Hand","Anim_Frame_Play","destroyAllChildren","Str","Shadow","ComponentLabel1","Off_Event_TOUCH_All","Check_Shadow","On_Event_TOUCH_START","On_Event_TOUCH_Drag","Event","Pos_Touch_Start","Pos_Touch_End","MoveNode","PosStart","PosEnd","AnimA","TipReset","OriginalNodePos","LastKeyIndexTemp","KeyNodeIndexL","KeyNodeValueL","FindAllEquationIndices_","Arr_Delete","error","Wait","Len","Set_Pos_Word_Same","IsAudio","sort","valueA","parseFloat","valueB","platform","Platform","WECHAT_GAME","WECHAT_MINI_PROGRAM","onLevelStart","GameVictory","onLevelSuccess","T","StarsAnim","CD","Anim_Skeleton_Play","Skeleton","GameResult","BreakNode","SetNode","Spine","SpineNode1","SpineNode2","repeatForever","delay","Rows","Cols","Count","CorrectIndex","WrongIndex","ResultAll","CheckResult","GetResult","expression","processed","op","left","right","result","Error","splice","toString","ErrorChar","ValueResult","isNaN","Indexs","Chars","Sort_Reverse","KeyResult","IsEqual","Math","floor","KeyP","ValueP","AnimReset","AnimV","AnimF","ICall","IsPlay","name","Speed","Console_Style","Font_Color","Font_Size","Font_Weight","Font_Style","Font_Family","Text_Decoration","Text_Shadow","Background_Color","Padding","Margin","Border","Border_Radius"],"mappings":"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","sourcesContent":["import { _decorator, color, Component, find, Label, Layout, log, math, Node, Prefab, Tween, tween, v3, Vec3, Animation, Sprite, RichText, sys, sp, easing } from 'cc';\r\nimport { PanelTemplate } from './PanelTemplate';\r\nimport { Tool_Event } from '../../Tool/Tool_Event';\r\nimport { Tool_Animation } from '../../Tool/Tool_Animation';\r\nimport { Tool_UI } from '../../Tool/Tool_UI';\r\nimport { Tool_Other } from '../../Tool/Tool_Other';\r\nimport { Tool_Console } from '../../Tool/Tool_Console';\r\nimport { PlatformApi } from '../../Other/SDK/PlatformApi';\r\nimport { GravityPlatform } from '../../Other/GeSdk/GravityPlatform';\r\nconst { ccclass, property } = _decorator;\r\n\r\n\r\n\r\n/** */\r\nexport interface DataMathMatch {\r\n    Level: number, Key: string[], Value: number[], Result: number[], Count: number;\r\n}\r\n\r\n@ccclass('PanelMathMatch')\r\nexport class PanelMathMatch extends PanelTemplate {\r\n\r\n    Interactable: boolean = true;\r\n\r\n\r\n    //\r\n    GameTimeAll: number = 180;\r\n    //\r\n    GameTimeIng: number = 0\r\n    //\r\n    GameTime: number = 0;\r\n\r\n    JGTime: number = 30;\r\n\r\n\r\n    /** */\r\n    BtnBreak: Node = null;\r\n    PanelFH: Node = null;\r\n    GameData: DataMathMatch = null;\r\n\r\n    /** */\r\n    KeyTarget: Node[] = [];\r\n    /** */\r\n    KeyExitState: boolean[] = [];\r\n\r\n    /** */\r\n    KeyExitValue: Node[] = [];\r\n\r\n\r\n    /** */\r\n    KeyShadowIndex: number = -1;\r\n\r\n\r\n    //ValueKey\r\n    LastKeyIndex: number[] = [];\r\n    /** */\r\n    ValueTarget: Node[] = [];\r\n    ValuePos: Vec3[] = [];\r\n    /**Value */\r\n    ValueTargetC: Node[] = [];\r\n\r\n    KeyShadow: Prefab = null;\r\n    /** */\r\n    OnDistance: number = 50;\r\n\r\n\r\n    /** */\r\n    AnimCorrectNode: Node[] = [];\r\n    /** */\r\n    AnimWrongNode: Node[] = [];\r\n    TouchNode: Node = null;\r\n\r\n    TipLabel: Node = null;\r\n    TipNode: Node = null;\r\n\r\n\r\n    TipAnim: Node[] = [];\r\n\r\n    Obj_Start = { num: 0 }\r\n    Time: number = 0;\r\n    Time_Max: number = 15;//15\r\n\r\n\r\n    Step = -1;\r\n\r\n\r\n\r\n    async onLoad() {\r\n        super.onLoad();\r\n    }\r\n\r\n    async onEnable() {\r\n        if (!this.IsInit) {\r\n            await this.LoadPanel();\r\n        }\r\n        this.GameStart();\r\n        //    this.Resoure_Data.Music_Play(\"Audio/BgmGame\");\r\n    }\r\n\r\n    start() {\r\n\r\n    }\r\n\r\n    Timing() {\r\n        this.Obj_Start = { num: 0 };\r\n        Tool_Animation.instance.Async_Function_Target(this.Time_Max, this.Obj_Start, () => {\r\n            //console.log(\"\");\r\n            Tool_Animation.instance.Anim_Frame_Play_Plus(this.BtnTip.getChildByName(\"Icon\").getComponent(Animation), null, null, null, null, null, 3, 0, () => {\r\n                this.Timing();\r\n            });\r\n        })\r\n    }\r\n    TimStop() {\r\n        //console.log(\"\");\r\n        Tool_Animation.instance.Tween_Stop_Target(this.Obj_Start);\r\n        this.Timing();\r\n    }\r\n\r\n\r\n\r\n    /** */\r\n    async LoadPanel(): Promise<void> {\r\n        return new Promise(async (resolve, reject) => {\r\n            /** */\r\n            this.BtnSetting = find(\"BtnSetting\", this.node);\r\n\r\n            this.PanelTip = find(\"PanelTip\", this.node);\r\n            this.BtnTip = find(\"BtnTip\", this.node);\r\n            this.BtnTipClose = find(\"BtnTipClose\", this.PanelTip);\r\n            this.BtnTipGet = find(\"BtnTipGet\", this.PanelTip);\r\n\r\n            this.PanelFH = find(\"PanelFH\", this.node);\r\n\r\n\r\n            this.PanelVictory = find(\"PanelVictory\", this.node);\r\n            this.PanelFail = find(\"PanelFail\", this.node);\r\n            this.BtnNext = find(\"BtnNext\", this.PanelVictory);\r\n\r\n            // this.BtnGet = find(\"BtnGet\", this.PanelTip);\r\n            this.BtnExit = find(\"BtnExit\", this.node);\r\n            /** */\r\n            await this.OnBtn(this.Game_Script.AnimSwitch);\r\n            this.IsInit = true;\r\n            resolve();\r\n            this.KeyShadow = await this.Resoure_Data.Load_Prefab(\"Prefab/PanelMathMatch/KeyShadow\");\r\n        });\r\n    }\r\n\r\n    /** */\r\n    async OnBtn(AnimSwitch: boolean = false) {\r\n\r\n\r\n        /** */\r\n        const BtnContinue = () => {\r\n            this.TimerIng();\r\n        }\r\n\r\n\r\n        Tool_Event.instance.On_Event_TOUCH_END(this.Game_Script.PanelSetting.getChildByName(\"BtnLayout\").getChildByName(\"BtnContinue\"), BtnContinue);\r\n\r\n        /** */\r\n        const BtnSettingCall = () => {\r\n            this.Resoure_Data.Sound_Play(\"Audio/BtnClick\");\r\n            if (this.Resoure_Data.Vibration_Switch_Get()) {\r\n                PlatformApi.instance.vibrateShort();\r\n            }\r\n            this.Game_Script.UpdatePanelSetting(true);\r\n            this.TimerPause();\r\n        }\r\n\r\n        /** */\r\n        const BtnBreakCall = () => {\r\n            this.Resoure_Data.Sound_Play(\"Audio/BtnClick\");\r\n            if (this.Resoure_Data.Vibration_Switch_Get()) {\r\n                PlatformApi.instance.vibrateShort();\r\n            }\r\n            this.node.active = false;\r\n        }\r\n\r\n\r\n        let IsShare: boolean = false;\r\n        Tool_Event.instance.Event_On(\"WXOnShow\", () => {\r\n            if (!IsShare) {\r\n                return;\r\n            }\r\n            IsShare = false;\r\n            this.Game_Script.MathMatchLevel--;\r\n            this.Game_Script.MathMatchScore -= this.Score;\r\n            this.Game_Script.DataSet();\r\n            this.GameStart();\r\n            this.Resoure_Data.Music_Resume();\r\n        }, this);\r\n\r\n        /** */\r\n        const BtnReStartCall = async () => {\r\n            this.Resoure_Data.Sound_Play(\"Audio/BtnClick\");\r\n            if (this.Resoure_Data.Vibration_Switch_Get()) {\r\n                PlatformApi.instance.vibrateShort();\r\n            }\r\n            PlatformApi.instance.shareAppMessage(() => { });\r\n            if (window.wx) {\r\n                IsShare = true;\r\n                console.log(\"wx\");\r\n            } else {\r\n                console.log(\"\");\r\n                //  await Tool_Animation.instance.Async_Wait(2);\r\n                console.log(this.Game_Script.MathMatchLevel);\r\n\r\n                this.Game_Script.MathMatchLevel--;\r\n                console.log(this.Game_Script.MathMatchLevel);\r\n                this.Game_Script.MathMatchScore -= this.Score;\r\n                this.Game_Script.DataSet();\r\n                this.GameStart();\r\n            }\r\n\r\n        }\r\n        /** */\r\n        const BtnNextCall = async () => {\r\n            this.Resoure_Data.Sound_Play(\"Audio/BtnClick\");\r\n            if (this.Resoure_Data.Vibration_Switch_Get()) {\r\n                PlatformApi.instance.vibrateShort();\r\n            }\r\n            this.Game_Script.BlockInputEvents.active = true;\r\n            let StarsData: { Pos: Vec3[], Angle: number[] } = {\r\n                Pos: [\r\n                    v3(-175, 150, 0), v3(0, 180, 0), v3(175, 150, 0),\r\n                ], Angle: [\r\n                    50, 25, 0\r\n                ]\r\n            };\r\n            let Stars = find(\"WinBanner/Stars\", this.PanelVictory)\r\n            const AddScoreAnim = async () => {\r\n                for (let I = 0; I < this.Score; I++) {\r\n                    let Star = Stars.children[I].children[0].parent;\r\n                    tween(Star)\r\n                        .to(0.25, { position: v3(StarsData.Pos[1].x, StarsData.Pos[1].y - 50, 0) })\r\n                        .start();\r\n                    tween(Star)\r\n                        .to(0.25, { angle: StarsData.Angle[1] })\r\n                        .start();\r\n                    tween(Star)\r\n                        .to(0.25, { scale: v3(0.5, 0.5, 1) })\r\n                        .start();\r\n                }\r\n                await Tool_Animation.instance.Async_Wait(0.3);\r\n                for (let I = 0; I < this.Score; I++) {\r\n                    let Star = Stars.children[I].children[0].parent;\r\n                    console.log(this.Game_Script.ScoreLabel2.node.parent.getChildByName(\"Icon\"));\r\n\r\n                    let TPos = Tool_UI.instance.Get_Target_Node_Local_Pos(Star, this.Game_Script.ScoreLabel1.node.parent.getChildByName(\"Icon\"));\r\n\r\n                    Tool_Animation.instance.Animation_Node_Move_Time(Star, TPos, 0.25);\r\n                    tween(Star)\r\n                        .to(0.25, { scale: v3(0.25, 0.25, 1) })\r\n                        .call(() => {\r\n                            tween(this.Game_Script.ScoreLabel1.node.parent.getChildByName(\"Icon\"))\r\n                                .by(0.1, { scale: v3(-0.2, -0.2, 0) })\r\n                                .by(0.1, { scale: v3(0.2, 0.2, 0) })\r\n                                .start();\r\n                            this.Game_Script.ScoreLabel1.string = Number(this.Game_Script.ScoreLabel1.string) + 1 + \"\";\r\n                            this.Resoure_Data.Sound_Play(\"Audio/AddScore\");\r\n                        })\r\n                        .start();\r\n                    await Tool_Animation.instance.Async_Wait(0.15);\r\n                }\r\n            }\r\n            await AddScoreAnim();\r\n            await Tool_Animation.instance.Async_Wait(0.6);\r\n            this.GameStart();\r\n        }\r\n\r\n        const BtnTipCall = async () => {\r\n            if (this.BtnTip.getComponent(Sprite).grayscale) {//this.ValueTarget.length \r\n                return;\r\n            }\r\n            this.Resoure_Data.Sound_Play(\"Audio/BtnClick\");\r\n            if (this.Resoure_Data.Vibration_Switch_Get()) {\r\n                PlatformApi.instance.vibrateShort();\r\n            }\r\n            if (this.Game_Script.PropNum > 0) {\r\n                TipCall();\r\n            } else {\r\n                this.PanelTip.active = true;\r\n            }\r\n\r\n        }\r\n        const BtnTipCloseCall = async () => {\r\n            this.Resoure_Data.Sound_Play(\"Audio/BtnClick\");\r\n            if (this.Resoure_Data.Vibration_Switch_Get()) {\r\n                PlatformApi.instance.vibrateShort();\r\n            }\r\n            this.PanelTip.active = false;\r\n        }\r\n        const BtnTipGetCall = async () => {\r\n            this.Resoure_Data.Sound_Play(\"Audio/BtnClick\");\r\n            if (this.Resoure_Data.Vibration_Switch_Get()) {\r\n                PlatformApi.instance.vibrateShort();\r\n            }\r\n            this.TimerPause();\r\n            PlatformApi.instance.showVideoAd(async () => {\r\n                this.Resoure_Data.Music_Resume()\r\n                this.TimerIng();\r\n\r\n                this.PanelTip.active = false;\r\n                let P = await this.Resoure_Data.Load_Prefab(\"Prefab/PanelMathMatch/Icon\");\r\n                let N = Tool_UI.instance.Set_Prefab_Node(P, this.node, v3(0, 0, 0));\r\n                // N.scale = v3(0, 0, 1);\r\n\r\n                this.Game_Script.PropNum += 2;\r\n                this.Game_Script.DataSet();\r\n                this.Resoure_Data.Sound_Play(\"Audio/PropA\");\r\n                //console.log(\"\");\r\n\r\n                tween(N)\r\n                    .to(0.1, { angle: -10 }, { easing: \"backInOut\" })\r\n                    .to(0.1, { angle: 10 }, { easing: \"backInOut\" })\r\n                    .to(0.1, { angle: -10 }, { easing: \"backInOut\" })\r\n                    .to(0.1, { angle: 10 }, { easing: \"backInOut\" })\r\n                    .to(0.1, { angle: -10 }, { easing: \"backInOut\" })\r\n                    .call(() => {\r\n                        tween(N)\r\n                            .to(0.5, { scale: v3(0.5, 0.5, 1) })\r\n                            .start()\r\n                        let Pos = Tool_UI.instance.Get_Target_Node_Local_Pos(N, this.BtnTip).add(v3(10, 40, 0));\r\n                        let a = v3(Pos.x + 250, 1000, 0)\r\n                        let b = v3(N.position.x, -200, 0)\r\n                        Tool_Animation.instance.Animation_Node_Move_Bezier_Time(N, Pos, 1, a, b, 0.5, () => {\r\n                            this.Resoure_Data.Sound_Play(\"Audio/PropGet\");\r\n                            //console.log(\"\");\r\n                            this.UpdateProp();\r\n                            N.destroy();\r\n                        })\r\n\r\n                    })\r\n                    .start()\r\n            }, () => {\r\n                this.Resoure_Data.Music_Resume()\r\n                this.TimerInit();\r\n            })\r\n        }\r\n\r\n\r\n        /** */\r\n        const TipCall = async () => {\r\n\r\n            // this.Game_Script.OnMessage(\"\");\r\n            //console.error(this.ValueTarget);\r\n\r\n            if (this.TipLabel != null || this.TipNode != null) {\r\n                return;\r\n            }\r\n\r\n            //\r\n            let ValueNumber: number[] = [];\r\n            for (let i = 0; i < this.ValueTarget.length; i++) {\r\n                ValueNumber.push(Number(this.ValueTarget[i].getChildByName(\"Label\").getComponent(Label).string));\r\n            }\r\n            if (ValueNumber == undefined) {\r\n                // Tool_UI.instance.Set_Color_Label(this.TipLabel, color(0, 0, 0, 255));\r\n                // this.TipLabel.getComponent(Label).string = \"\";\r\n                // this.TipLabel.scale = v3(1, 1, 1);\r\n                // Tool_Animation.instance.Tween_Stop_Target(this.TipLabel);\r\n                this.TipLabel = null;\r\n                this.TipNode = null;\r\n                return;\r\n            }\r\n\r\n            this.Game_Script.PropNum--;\r\n            this.Game_Script.DataSet();\r\n            this.UpdateProp();\r\n\r\n            //console.log(\"\", ValueNumber);\r\n\r\n            let NullGIndex = Tool_Other.instance.Get_Random_Int(0, ValueNumber.length - 1);\r\n\r\n            //\r\n            //console.log(\"V\", NullGIndex);\r\n            //\r\n            //console.log(\"\", ValueNumber[NullGIndex]);\r\n\r\n            for (let j = 0; j < this.GameData.Result.length; j++) {\r\n                //\r\n                if (this.GameData.Result[j] == ValueNumber[NullGIndex]) {\r\n                    let Obj = Tool_Animation.instance.Get_Min_Distance_Node(this.KeyTarget[j].worldPosition, this.ValueTargetC);\r\n                    if (Obj.Distance < this.OnDistance) {\r\n                        let Num = Number(this.ValueTargetC[Obj.Index].getChildByName(\"Label\").getComponent(Label).string);\r\n                        console.warn(\"\", Num);\r\n                        if (Num == ValueNumber[NullGIndex]) {\r\n                            continue;\r\n                        } else {\r\n                            this.TipLabel = this.KeyTarget[j].getChildByName(\"Label\");\r\n                            this.TipLabel.getComponent(Label).string = ValueNumber[NullGIndex] + \"\";\r\n                            Tool_UI.instance.Set_Color_Label(this.TipLabel, color(0, 155, 0, 255));\r\n                            //console.error(\"K\", j);\r\n                            //console.error(Obj);\r\n                            this.TipNode = this.ValueTarget[NullGIndex];\r\n                            let TouchNode = this.ValueTargetC[Obj.Index];\r\n                            Obj = Tool_Animation.instance.Get_Min_Distance_Node(TouchNode.worldPosition, this.KeyTarget);\r\n                            let i = this.ValueTargetC.indexOf(TouchNode);\r\n                            console.log(\"i------\", i);\r\n\r\n                            let IsExit: boolean = Tool_UI.instance.Arr_Check_Index(this.ValueTarget, TouchNode) == -1 ? false : true;\r\n                            let Key = find(\"Key\", this.node);\r\n                            let Value = find(\"Value\", this.node);\r\n                            let Temp = find(\"Temp\", this.node);\r\n                            let ColorOff: math.Color = color(255, 255, 155, 255);\r\n                            let ColorOn: math.Color = color(155, 255, 155, 255);\r\n                            Tool_Animation.instance.Tween_Stop_Target(TouchNode);\r\n                            TouchNode.scale = v3(1, 1, 1);\r\n                            TouchNode.angle = 0;\r\n                            Tool_UI.instance.Set_SpriteFrame(TouchNode.getChildByName(\"Bg\"), await this.Resoure_Data.Load_SpriteFrame(\"SpriteFrame/Panel/PanelMathMatch/BoxC\"));\r\n                            Tool_UI.instance.Set_Color_Label(TouchNode.getChildByName(\"Label\"), color(0, 155, 0, 255));\r\n                            Tool_UI.instance.Node_Index_Set(TouchNode, -1);\r\n\r\n                            // 1. \r\n                            const OriginalNode = this.KeyExitValue[Obj.Index];\r\n                            // 2.  LastKeyIndex \r\n                            //\r\n                            let OriginalLastKeyIndex = Tool_UI.instance.Arr_Check_Index(this.ValueTargetC, OriginalNode)\r\n                            //\r\n                            let CurrentLastKeyIndex = Tool_UI.instance.Arr_Check_Index(this.ValueTargetC, TouchNode)\r\n                            // //console.log(OriginalLastKeyIndex, CurrentLastKeyIndex);\r\n                            // //console.log(\"\", this.LastKeyIndex[OriginalLastKeyIndex], \"\", this.LastKeyIndex[CurrentLastKeyIndex]);\r\n\r\n                            this.TipStart();\r\n                            // //console.log(\"\", IsExit);\r\n                            if (!IsExit) {\r\n                                Tool_UI.instance.Arr_Increase(this.ValueTarget, TouchNode);\r\n                                //\r\n                                let KeyNodeIndexT: number = Key.children.indexOf(this.KeyTarget[this.LastKeyIndex[CurrentLastKeyIndex]]);\r\n                                let KeyNodeValueT: string = \"N\";\r\n                                this.GameData.Key[KeyNodeIndexT] = KeyNodeValueT;\r\n                                console.log(\"\", KeyNodeIndexT, \"\", KeyNodeValueT);\r\n                                // //console.log(this.GameData);\r\n                                if (this.LastKeyIndex[i] != null) {\r\n                                    this.KeyExitState[this.LastKeyIndex[i]] = false;\r\n                                    this.KeyExitValue[this.LastKeyIndex[i]] = null;\r\n                                    Tool_UI.instance.Set_Color_Sprite(this.KeyTarget[this.LastKeyIndex[i]].getChildByName(\"Bg\").getChildByName(\"Sp\"), ColorOff);\r\n                                }\r\n                                // \r\n                                if (this.KeyExitState[Obj.Index]) {\r\n                                    this.KeyExitState[Obj.Index] = false;\r\n                                    //console.error(this.KeyExitState[Obj.Index], \"1---------------------\", Obj.Index);\r\n                                    this.KeyExitValue[Obj.Index] = null;\r\n                                    Tool_UI.instance.Set_Color_Sprite(this.KeyTarget[Obj.Index].getChildByName(\"Bg\").getChildByName(\"Sp\"), ColorOff);\r\n                                }\r\n\r\n                                this.LastKeyIndex[i] = null;\r\n                                console.log(this.LastKeyIndex, i);\r\n\r\n                            }\r\n                            this.UpdateUIValue();\r\n                            return;\r\n                        }\r\n\r\n                    } else {\r\n                        this.TipLabel = this.KeyTarget[j].getChildByName(\"Label\");\r\n                        this.TipLabel.getComponent(Label).string = ValueNumber[NullGIndex] + \"\";\r\n                        Tool_UI.instance.Set_Color_Label(this.TipLabel, color(0, 155, 0, 255));\r\n                        // //console.error(\"K\", j);\r\n                        // //console.error(Obj);\r\n                        this.TipNode = this.ValueTarget[NullGIndex];\r\n                        this.TipStart();\r\n                        return\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n        /** */\r\n        Tool_Event.instance.On_Event_TOUCH_END(this.BtnSetting, BtnSettingCall);\r\n\r\n        Tool_Event.instance.On_Event_TOUCH_END(this.BtnTip, BtnTipCall);\r\n        Tool_Event.instance.On_Event_TOUCH_END(this.BtnTipClose, BtnTipCloseCall);\r\n        Tool_Event.instance.On_Event_TOUCH_END(this.BtnTipGet, BtnTipGetCall);\r\n\r\n\r\n        Tool_Event.instance.On_Event_TOUCH_END(this.BtnNext, BtnNextCall);\r\n\r\n        Tool_Event.instance.On_Event_TOUCH_END(this.BtnExit, BtnBreakCall);\r\n\r\n\r\n\r\n        Tool_Event.instance.On_Event_TOUCH_END(this.PanelVictory.getChildByName(\"BtnNext\"), BtnNextCall);\r\n        Tool_Event.instance.On_Event_TOUCH_END(this.PanelVictory.getChildByName(\"BtnReStart\"), BtnReStartCall);\r\n\r\n        Tool_Event.instance.On_Event_TOUCH_END(this.PanelFail.getChildByName(\"BtnNext\"), () => {\r\n            this.GameStart();\r\n        });\r\n        Tool_Event.instance.On_Event_TOUCH_END(this.PanelFail.getChildByName(\"BtnBreak\"), BtnBreakCall);\r\n\r\n        //\r\n        Tool_Event.instance.On_Event_TOUCH_END(this.PanelFH.getChildByName(\"Btn\"), () => {\r\n            this.Resoure_Data.Sound_Play(\"Audio/BtnClick\");\r\n            if (this.Resoure_Data.Vibration_Switch_Get()) {\r\n                PlatformApi.instance.vibrateShort();\r\n            }\r\n            PlatformApi.instance.showVideoAd(() => {\r\n                this.Resoure_Data.Music_Resume()\r\n                this.PanelFH.active = false;\r\n\r\n\r\n                this.TimerInit();\r\n\r\n\r\n\r\n            }, () => {\r\n                this.Resoure_Data.Music_Resume()\r\n            })\r\n\r\n\r\n        });\r\n        Tool_Event.instance.On_Event_TOUCH_END(this.PanelFH.getChildByName(\"BtnClose\"), () => {\r\n            this.Resoure_Data.Sound_Play(\"Audio/BtnClick\");\r\n            if (this.Resoure_Data.Vibration_Switch_Get()) {\r\n                PlatformApi.instance.vibrateShort();\r\n            }\r\n            this.PanelFH.active = false;\r\n            this.GameFailed();\r\n        });\r\n\r\n        /** */\r\n        Tool_Event.instance.Set_Btn_Event_Anim(this.BtnSetting, AnimSwitch);\r\n        Tool_Event.instance.Set_Btn_Event_Anim(this.BtnTip, AnimSwitch);\r\n        Tool_Event.instance.Set_Btn_Event_Anim(this.BtnTipClose, AnimSwitch);\r\n        Tool_Event.instance.Set_Btn_Event_Anim(this.BtnTipGet, AnimSwitch);\r\n        Tool_Event.instance.Set_Btn_Event_Anim(this.BtnNext, AnimSwitch);\r\n\r\n        Tool_Event.instance.Set_Btn_Event_Anim(this.BtnExit, AnimSwitch);\r\n        Tool_Event.instance.Set_Btn_Event_Anim(this.PanelFail.getChildByName(\"BtnNext\"), AnimSwitch);\r\n        Tool_Event.instance.Set_Btn_Event_Anim(this.PanelFail.getChildByName(\"BtnBreak\"), AnimSwitch);\r\n\r\n        Tool_Event.instance.Set_Btn_Event_Anim(this.PanelFH.getChildByName(\"Btn\"), AnimSwitch);\r\n        Tool_Event.instance.Set_Btn_Event_Anim(this.PanelFail.getChildByName(\"BtnBreak\"), AnimSwitch);\r\n\r\n\r\n        let Key = find(\"Key\", this.node);\r\n        let Value = find(\"Value\", this.node);\r\n        for (let i = 0; i < Value.children.length; i++) {\r\n            this.ValuePos.push(Value.children[i].position.clone());\r\n        }\r\n    }\r\n\r\n\r\n    TimerInit() {\r\n        this.GameTime = this.GameTimeAll;\r\n        this.TimerIng();\r\n    }\r\n\r\n\r\n    TimerIng() {\r\n        let ComponentLabel = find(\"Title/Bgg/Timer\", this.node).getComponent(Label);\r\n        ComponentLabel.string = Tool_Other.instance.Seconds_To_Time_String(this.GameTime).substring(1);\r\n        Tool_Animation.instance.Async_Function_Id(1, 0, () => {\r\n            this.GameTimeIng++;\r\n            this.GameTime--;\r\n            ComponentLabel.string = Tool_Other.instance.Seconds_To_Time_String(this.GameTime).substring(1);\r\n\r\n            if (this.GameTime <= this.JGTime && !find(\"JG\", this.node).active) {\r\n                find(\"JG\", this.node).active = true;\r\n                find(\"JG\", this.node).getComponent(Animation).play();\r\n            }\r\n\r\n            if (this.GameTime <= 0) {\r\n                this.PanelFH.active = true;\r\n                this.Resoure_Data.Sound_Play(\"Audio/FH\");\r\n                find(\"JG\", this.node).active = false;\r\n            } else {\r\n                this.TimerIng();\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n\r\n    TimerPause() {\r\n        Tool_Animation.instance.Tween_Stop_Tag(0);\r\n    }\r\n    TimerResume() {\r\n        this.TimerIng();\r\n    }\r\n    TimerStop() {\r\n        Tool_Animation.instance.Tween_Stop_Tag(0);\r\n    }\r\n\r\n\r\n    /** */\r\n    async InitData() {\r\n\r\n        this.Game_Script.UpdateScore();\r\n\r\n        //console.log(\"\");\r\n        /** */\r\n        // await this.OnBtn(this.Game_Script.AnimSwitch);\r\n        this.KeyTarget = [];\r\n        this.KeyExitState = [];\r\n        this.KeyExitValue = [];\r\n\r\n        this.ValueTarget = [];\r\n        this.ValueTargetC = [];\r\n        this.LastKeyIndex = [];\r\n\r\n        this.AnimCorrectNode = [];\r\n        this.AnimWrongNode = [];\r\n\r\n        this.Interactable = true;\r\n\r\n        this.TouchNode = null;\r\n        this.TipLabel = null;\r\n        this.TipNode = null;\r\n        this.GameTimeIng = 0;\r\n\r\n        // this.Game_Script.MathMatchLevel = 7;\r\n\r\n        let F = {\r\n            \"Level\": 6,\r\n            \"Key\": [\r\n                \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\",\r\n                \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\",\r\n                \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\",\r\n                \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\",\r\n                \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\",\r\n                \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\",\r\n                \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\",\r\n                \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\",\r\n                \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\",\r\n                \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\",\r\n                \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\"\r\n            ],\r\n            \"Value\": [],\r\n            \"Result\": [],\r\n            \"Count\": 0\r\n        }\r\n\r\n\r\n        const Json = await this.Resoure_Data.Load_Json(\"Json/mathmatch\");\r\n        const JsonData = Json[\"Data\"];\r\n        console.log(`:${Json[\"Version\"]}`);\r\n        console.log(`:${this.Game_Script.MathMatchLevel + 1}`);\r\n\r\n        this.GameData = null;\r\n\r\n        if (this.Game_Script.MathMatchLevel < 0) {\r\n            this.Game_Script.MathMatchLevel = 0;\r\n            //console.log(\"\");\r\n            this.Game_Script.DataSet();\r\n        }\r\n\r\n        if (this.Game_Script.MathMatchLevel >= JsonData.length) {\r\n            this.Game_Script.OnMessage(\"\");\r\n            this.Game_Script.MathMatchLevel = JsonData.length;\r\n            // let Ran = Tool_Other.instance.Get_Random_Int(20, 35);\r\n            // if (Ran < JsonData.length - 1) {\r\n            //     this.GameData = this.Resoure_Data.Copy_Deep(JsonData[Ran]);\r\n            // } else {\r\n            this.GameData = this.Resoure_Data.Copy_Deep(JsonData[JsonData.length - 1]);\r\n            // }\r\n        } else {\r\n            this.GameData = this.Resoure_Data.Copy_Deep(JsonData[this.Game_Script.MathMatchLevel]);\r\n        }\r\n\r\n\r\n        console.log(``);\r\n        let a: string[][] = [];\r\n\r\n        for (let i = 0; i < 11; i++) {\r\n            a[i] = [];\r\n\r\n            for (let j = 0; j < 11; j++) {\r\n                a[i].push(this.GameData.Key[i * 11 + j])\r\n            }\r\n        }\r\n\r\n\r\n        console.log(a);\r\n\r\n        console.log(``);\r\n        console.log(this.GameData.Value);\r\n\r\n        console.log(``);\r\n        console.log(this.GameData.Result);\r\n\r\n\r\n        //console.log(this.GameData);\r\n\r\n        this.Game_Script.IsHint = false;\r\n        this.Game_Script.IsContinue = false;\r\n\r\n\r\n\r\n        this.TimerInit();\r\n\r\n\r\n\r\n    }\r\n\r\n    /** */\r\n    async InitInterface() {\r\n        this.PanelVictory.active = false;\r\n        this.PanelFail.active = false;\r\n        this.PanelTip.active = false;\r\n        this.PanelFH.active = false;\r\n\r\n        let Hand = find(\"Hand\", this.node);\r\n        Hand.active = false;\r\n        find(\"ND\", this.node).active = false;\r\n        find(\"JG\", this.node).active = false;\r\n\r\n\r\n        if (this.Game_Script.MathMatchLevel == 1) {\r\n            find(\"ND\", this.node).active = true;\r\n\r\n            Tool_Animation.instance.Anim_Frame_Play(find(\"ND\", this.node).getComponent(Animation), null, null, () => {\r\n                find(\"ND\", this.node).active = false;\r\n            })\r\n        }\r\n\r\n        this.UpdateProp();\r\n        if (this.Game_Script.MathMatchLevel >= 200) {\r\n            this.node.getChildByName(\"Title\").getChildByName(\"Leves\").getComponent(Label).string = `${this.Game_Script.MathMatchLevel}`;\r\n        } else {\r\n            this.node.getChildByName(\"Title\").getChildByName(\"Leves\").getComponent(Label).string = `${this.Game_Script.MathMatchLevel + 1}`;\r\n        }\r\n        find(\"Temp\", this.node).destroyAllChildren();\r\n        let Key = find(\"Key\", this.node);\r\n        let Value = find(\"Value\", this.node);\r\n\r\n        for (let i = 0; i < Key.children.length; i++) {\r\n            Key.children[i].active = false;\r\n            Tool_UI.instance.Set_Color_Sprite(Key.children[i].getChildByName(\"Bg\").getChildByName(\"Sp\"), color(255, 255, 155, 255));\r\n        }\r\n\r\n        for (let i = 0; i < Value.children.length; i++) {\r\n            Value.children[i].active = false;\r\n            Value.children[i].scale = v3(1, 1, 1);\r\n            Value.children[i].angle = 0;\r\n\r\n            Tool_UI.instance.Set_SpriteFrame(Value.children[i].getChildByName(\"Bg\"), await this.Resoure_Data.Load_SpriteFrame(\"SpriteFrame/Panel/PanelMathMatch/BoxC\"));\r\n            Tool_UI.instance.Set_Color_Label(Value.children[i].getChildByName(\"Label\"), color(0, 155, 0, 255));\r\n\r\n        }\r\n\r\n        if (this.GameData == null) {\r\n            //console.log(\"\");\r\n            return;\r\n        }\r\n\r\n        for (let i = 0; i < Key.children.length; i++) {\r\n            Key.children[i].active = true;\r\n            switch (this.GameData.Key[i]) {\r\n                case \"U\":\r\n                    Key.children[i].active = false;\r\n                    break;\r\n                case \"N\":\r\n                    Key.children[i].getChildByName(\"Label\").getComponent(Label).string = \"\";\r\n                    this.KeyTarget.push(Key.children[i]);\r\n                    this.KeyExitState.push(false);\r\n                    this.KeyExitValue.push(null);\r\n                    Tool_UI.instance.Set_SpriteFrame(Key.children[i].getChildByName(\"Bg\"), await this.Resoure_Data.Load_SpriteFrame(\"SpriteFrame/Panel/PanelMathMatch/BoxN\"));\r\n                    break;\r\n                default:\r\n                    let Str: string = \"\";\r\n                    switch (this.GameData.Key[i]) {\r\n                        // case \"/\":\r\n                        //     Str = \"\";\r\n                        // break;\r\n                        case \"X\":\r\n                            Str = \"x\";\r\n                            break;\r\n                        default:\r\n                            Str = this.GameData.Key[i];\r\n                            break;\r\n                    }\r\n                    Key.children[i].getChildByName(\"Label\").getComponent(Label).string = Str\r\n\r\n                    Tool_UI.instance.Set_SpriteFrame(Key.children[i].getChildByName(\"Bg\"), await this.Resoure_Data.Load_SpriteFrame(\"SpriteFrame/Panel/PanelMathMatch/BoxU\"));\r\n                    break;\r\n            }\r\n        }\r\n\r\n\r\n\r\n        let Temp = find(\"Temp\", this.node);\r\n        let ColorOff: math.Color = color(255, 255, 155, 255);\r\n        let ColorOn: math.Color = color(155, 255, 155, 255);\r\n\r\n\r\n        for (let i = 0; i < Value.children.length; i++) {\r\n            const Shadow = Value.children[i].getChildByName(\"Shadow\");\r\n            const ComponentLabel1 = Value.children[i].getChildByName(\"Label\").getComponent(Label);\r\n            Shadow.active = false;\r\n            // Value.children[i].active = i < this.GameData.Value.length ? true : false;\r\n            if (i < this.GameData.Value.length ? true : false) {\r\n                this.ValueTarget.push(Value.children[i]);\r\n                this.ValueTargetC.push(Value.children[i]);\r\n                this.LastKeyIndex.push(null);\r\n                Value.children[i].position = this.ValuePos[i];\r\n                ComponentLabel1.string = this.GameData.Value[i] + \"\";\r\n\r\n                Tool_Event.instance.Off_Event_TOUCH_All(Value.children[i]);\r\n\r\n                const TouchNode = Value.children[i];\r\n                const Shadow = TouchNode.getChildByName(\"Shadow\");\r\n                const ComponentLabel = TouchNode.getChildByName(\"Label\").getComponent(Label);\r\n                const Check_Shadow = () => {\r\n                    let Obj = Tool_Animation.instance.Get_Min_Distance_Node(TouchNode.worldPosition, this.KeyTarget);\r\n                    if (Obj.Distance <= this.OnDistance) {\r\n                        if (this.KeyShadowIndex == Obj.Index) {\r\n                            return;\r\n                        }\r\n                        Temp.destroyAllChildren();\r\n                        this.KeyShadowIndex = Obj.Index;\r\n                        Tool_UI.instance.Set_Prefab_Node(this.KeyShadow, Temp, this.KeyTarget[Obj.Index], \"\")\r\n                    } else {\r\n                        Temp.destroyAllChildren();\r\n                        this.KeyShadowIndex = -1;\r\n                    }\r\n                }\r\n\r\n                Tool_Event.instance.On_Event_TOUCH_START(TouchNode, () => {\r\n                    //console.log(this.Game_Script.MathMatchLevel, this.Step, TouchNode.getChildByName(\"Label\").getComponent(Label).string);\r\n\r\n                    if (this.Game_Script.MathMatchLevel == 0) {\r\n                        if (this.Step == 0) {\r\n                            if (TouchNode.getChildByName(\"Label\").getComponent(Label).string != \"1\") {\r\n                                this.Interactable = false;\r\n                                return;\r\n                            } else {\r\n                                this.Interactable = true;\r\n                            }\r\n                        }\r\n                        if (this.Step == 1) {\r\n                            if (TouchNode.getChildByName(\"Label\").getComponent(Label).string != this.KeyExitValue[2].getChildByName(\"Label\").getComponent(Label).string) {\r\n                                this.Interactable = false;\r\n                                return;\r\n                            } else {\r\n                                this.Interactable = true;\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n\r\n                Tool_Event.instance.On_Event_TOUCH_Drag(TouchNode, () => this.Interactable, async (Event, Pos_Touch_Start) => {\r\n                    /** */\r\n\r\n                    if (this.GameData == null) {\r\n                        this.Interactable = false;\r\n                        //console.log(\"\");\r\n                        return;\r\n                    }\r\n                    this.TouchNode = TouchNode;\r\n                    //console.log(this.LastKeyIndex, i, this.ValueTargetC.indexOf(TouchNode));\r\n                    this.Resoure_Data.Sound_Play(\"Audio/NumClick\");\r\n                    if (this.Resoure_Data.Vibration_Switch_Get()) {\r\n                        PlatformApi.instance.vibrateShort();\r\n                    }\r\n                    let Obj = Tool_Animation.instance.Get_Min_Distance_Node(TouchNode.worldPosition, this.KeyTarget);\r\n                    Tool_Animation.instance.Tween_Stop_Target(this.KeyTarget[Obj.Index]);\r\n                    this.KeyTarget[Obj.Index].scale = v3(1, 1, 1);\r\n                    this.KeyTarget[Obj.Index].angle = 0;\r\n                    Tool_Animation.instance.Tween_Stop_Target(TouchNode);\r\n                    TouchNode.scale = v3(1, 1, 1);\r\n                    TouchNode.angle = 0;\r\n                    Tool_UI.instance.Set_SpriteFrame(TouchNode.getChildByName(\"Bg\"), await this.Resoure_Data.Load_SpriteFrame(\"SpriteFrame/Panel/PanelMathMatch/BoxC\"));\r\n                    Tool_UI.instance.Set_Color_Label(TouchNode.getChildByName(\"Label\"), color(0, 155, 0, 255));\r\n\r\n                    Tool_UI.instance.Node_Index_Set(TouchNode, -1);\r\n                    Shadow.active = true;\r\n                    Tool_Animation.instance.Animation_Node_Move_Time(TouchNode, Pos_Touch_Start.clone().add(v3(0, 25, 0)), 0.02, null, \"smooth\");\r\n                    let IsExit: boolean = Tool_UI.instance.Arr_Check_Index(this.ValueTarget, TouchNode) == -1 ? false : true;\r\n                    if (!IsExit) {\r\n                        tween(TouchNode)\r\n                            .to(0.25, { scale: v3(1, 1, 1) }, { easing: \"backOut\" })\r\n                            .start();\r\n                    }\r\n                    Check_Shadow();\r\n\r\n                    //console.error(this.TouchNode == this.TipNode);\r\n\r\n                    if (this.TouchNode == this.TipNode) {\r\n                        for (let i = 0; i < this.TipAnim.length; i++) {\r\n                            this.TipAnim[i].destroy();\r\n                        }\r\n                        this.TipAnim = [];\r\n                    }\r\n\r\n                }, (Event, Pos_Touch_Start) => {\r\n                    /** */\r\n                    Check_Shadow();\r\n                }, async (Event, Pos_Touch_Start, Pos_Touch_End) => {\r\n                    /** */\r\n\r\n                    Shadow.active = false;\r\n                    let IsExit: boolean = Tool_UI.instance.Arr_Check_Index(this.ValueTarget, TouchNode) == -1 ? false : true;\r\n                    let Obj = Tool_Animation.instance.Get_Min_Distance_Node(TouchNode.worldPosition, this.KeyTarget);\r\n\r\n                    // 1. \r\n                    const OriginalNode = this.KeyExitValue[Obj.Index];\r\n                    // 2.  LastKeyIndex \r\n                    //\r\n                    let OriginalLastKeyIndex = Tool_UI.instance.Arr_Check_Index(this.ValueTargetC, OriginalNode)\r\n                    //\r\n                    let CurrentLastKeyIndex = Tool_UI.instance.Arr_Check_Index(this.ValueTargetC, TouchNode)\r\n                    //console.log(OriginalLastKeyIndex, CurrentLastKeyIndex);\r\n                    //console.log(\"\", this.LastKeyIndex[OriginalLastKeyIndex], \"\", this.LastKeyIndex[CurrentLastKeyIndex]);\r\n                    if (this.Game_Script.MathMatchLevel == 0) {\r\n                        this.Step++;\r\n                        if (this.Step == 1) {\r\n                            Tool_Animation.instance.Tween_Stop_Target(Hand);\r\n                            let MoveNode = this.KeyExitValue[2];\r\n                            this.Game_Script.OnMessage(\"\");\r\n                            let PosStart = Tool_UI.instance.Get_Target_Node_Local_Pos(Hand, MoveNode).add(v3(30, -50));\r\n                            let PosEnd = Tool_UI.instance.Get_Target_Node_Local_Pos(Hand, this.KeyTarget[3]).add(v3(30, -50));\r\n                            const AnimA = () => {\r\n                                Hand.position = PosStart;\r\n                                Tool_Animation.instance.Animation_Node_Move_Time(Hand, PosEnd, 1, () => {\r\n                                    if (this.Step == 1) {\r\n                                        Tool_Animation.instance.Animation_Node_Move_Time(Hand, PosStart, 0.5, () => {\r\n                                            if (this.Step == 1) {\r\n                                                AnimA();\r\n                                            }\r\n                                        });\r\n                                    }\r\n                                });\r\n                            }\r\n                            AnimA();\r\n                        } else {\r\n                            Hand.active = false;\r\n                        }\r\n                    }\r\n                    if (Obj.Distance <= this.OnDistance) {\r\n\r\n                        this.TipReset();\r\n                        //\r\n                        //console.error(this.KeyExitState[Obj.Index], this.LastKeyIndex[i], Obj.Index);\r\n                        if (this.KeyExitState[Obj.Index] && this.LastKeyIndex[i] != Obj.Index) {//\r\n                            if (this.LastKeyIndex[i] != null) {\r\n                                this.KeyTarget[Obj.Index].active = false;\r\n                                this.KeyTarget[this.LastKeyIndex[i]].active = false;\r\n                                //  LastKeyIndex \r\n                                const OriginalNodePos = Tool_UI.instance.Get_Target_Node_Local_Pos(OriginalNode, this.KeyTarget[this.LastKeyIndex[i]]);\r\n                                // this.Interactable = false;\r\n                                Tool_Animation.instance.Animation_Node_Move_Time(OriginalNode, OriginalNodePos, 0.25, async () => {\r\n                                    // this.Interactable = true;\r\n                                    this.KeyTarget[Obj.Index].active = true;\r\n                                    this.KeyTarget[this.LastKeyIndex[i]].active = true;\r\n                                    //\r\n                                    //console.log(this.LastKeyIndex, 1);\r\n                                    //console.error(OriginalLastKeyIndex, this.LastKeyIndex[OriginalLastKeyIndex]);\r\n                                    //console.error(CurrentLastKeyIndex, this.LastKeyIndex[CurrentLastKeyIndex]);\r\n                                    const LastKeyIndexTemp = this.LastKeyIndex[OriginalLastKeyIndex];\r\n                                    this.LastKeyIndex[OriginalLastKeyIndex] = this.LastKeyIndex[CurrentLastKeyIndex];\r\n                                    this.LastKeyIndex[CurrentLastKeyIndex] = LastKeyIndexTemp;\r\n                                    //\r\n                                    let KeyNodeIndexL = Key.children.indexOf(this.KeyTarget[this.LastKeyIndex[OriginalLastKeyIndex]]);\r\n                                    let KeyNodeValueL = OriginalNode.getChildByName(\"Label\").getComponent(Label).string;\r\n                                    //\r\n                                    let KeyNodeIndexT = Key.children.indexOf(this.KeyTarget[Obj.Index]);\r\n                                    let KeyNodeValueT = TouchNode.getChildByName(\"Label\").getComponent(Label).string;\r\n                                    this.GameData.Key[KeyNodeIndexL] = KeyNodeValueL;\r\n                                    this.GameData.Key[KeyNodeIndexT] = KeyNodeValueT;\r\n                                    // console.log(\"\", KeyNodeIndexL, \"\", KeyNodeValueL);\r\n                                    // console.log(\"\", KeyNodeIndexT, \"\", KeyNodeValueT);\r\n                                    // console.log(this.GameData);\r\n                                    this.FindAllEquationIndices_(this.GameData.Key);\r\n                                    Tool_Animation.instance.Tween_Stop_Target(OriginalNode);\r\n                                    OriginalNode.scale = v3(0.9, 0.9, 1);\r\n                                    OriginalNode.angle = 0;\r\n                                    Tool_UI.instance.Set_SpriteFrame(OriginalNode.getChildByName(\"Bg\"), await this.Resoure_Data.Load_SpriteFrame(\"SpriteFrame/Panel/PanelMathMatch/BoxC\"));\r\n                                    Tool_UI.instance.Set_Color_Label(OriginalNode.getChildByName(\"Label\"), color(0, 155, 0, 255));\r\n                                    // //console.error(OriginalNode, TouchNode);\r\n                                    await Tool_Animation.instance.Async_Wait(0.05);\r\n                                    this.TouchNode = OriginalNode;\r\n                                    this.FindAllEquationIndices_(this.GameData.Key);\r\n\r\n                                }, \"smooth\");\r\n                                //  LastKeyIndex\r\n                                this.KeyExitState[this.LastKeyIndex[i]] = true;\r\n                                this.KeyExitValue[this.LastKeyIndex[i]] = OriginalNode;\r\n                            } else {\r\n                                //  LastKeyIndex  null ValueTarget \r\n                                Tool_UI.instance.Arr_Increase(this.ValueTarget, OriginalNode);\r\n\r\n                                Tool_UI.instance.Set_SpriteFrame(OriginalNode.getChildByName(\"Bg\"), await this.Resoure_Data.Load_SpriteFrame(\"SpriteFrame/Panel/PanelMathMatch/BoxC\"));\r\n                                Tool_UI.instance.Set_Color_Label(OriginalNode.getChildByName(\"Label\"), color(0, 155, 0, 255));\r\n\r\n                                //\r\n                                //console.log(this.LastKeyIndex, 2);\r\n                                //console.error(OriginalLastKeyIndex, this.LastKeyIndex[OriginalLastKeyIndex]);\r\n                                //console.error(CurrentLastKeyIndex, this.LastKeyIndex[CurrentLastKeyIndex]);\r\n\r\n\r\n                                const LastKeyIndexTemp = this.LastKeyIndex[OriginalLastKeyIndex];\r\n                                this.LastKeyIndex[OriginalLastKeyIndex] = this.LastKeyIndex[CurrentLastKeyIndex];\r\n                                this.LastKeyIndex[CurrentLastKeyIndex] = LastKeyIndexTemp;\r\n\r\n                                //\r\n                                let KeyNodeIndexT: number = Key.children.indexOf(this.KeyTarget[Obj.Index]);\r\n                                let KeyNodeValueT: string = TouchNode.getChildByName(\"Label\").getComponent(Label).string;\r\n                                this.GameData.Key[KeyNodeIndexT] = KeyNodeValueT;\r\n                                console.log(\"\", KeyNodeIndexT, \"\", KeyNodeValueT);\r\n                                //console.log(this.GameData);\r\n\r\n\r\n                                this.FindAllEquationIndices_(this.GameData.Key, 0.2);\r\n                            }\r\n                            // 3. (TouchNode)Obj.Index\r\n                            this.KeyExitState[Obj.Index] = true;\r\n                            this.KeyExitValue[Obj.Index] = TouchNode;\r\n                            // 4. \r\n                            Tool_UI.instance.Set_Color_Sprite(this.KeyTarget[Obj.Index].getChildByName(\"Bg\").getChildByName(\"Sp\"), ColorOn);\r\n                            if (this.LastKeyIndex[i] != null) {\r\n                                Tool_UI.instance.Set_Color_Sprite(this.KeyTarget[this.LastKeyIndex[i]].getChildByName(\"Bg\").getChildByName(\"Sp\"), ColorOn);\r\n                            }\r\n                            // \r\n                            Tool_UI.instance.Arr_Delete(this.ValueTarget, TouchNode);\r\n                            Temp.destroyAllChildren();\r\n                            this.KeyShadowIndex = -1;\r\n                            for (let i = 0; i < this.TipAnim.length; i++) {\r\n                                this.TipAnim[i].destroy();\r\n                            }\r\n                            // 6.  UI\r\n                            this.UpdateUIValue();\r\n                            let Pos = Tool_UI.instance.Get_Target_Node_Local_Pos(TouchNode, this.KeyTarget[Obj.Index]);\r\n                            await Tool_Animation.instance.Animation_Node_Move_Time(TouchNode, Pos, 0.2, null, \"smooth\");\r\n                            tween(TouchNode)\r\n                                .to(0.25, { scale: v3(0.9, 0.9, 1) }, { easing: \"backOut\" })\r\n                                .start();\r\n                            return;\r\n                        }\r\n\r\n                        if (IsExit) {\r\n                            // \r\n                            Tool_UI.instance.Arr_Delete(this.ValueTarget, TouchNode);\r\n                            //\r\n                            let KeyNodeIndexT: number = Key.children.indexOf(this.KeyTarget[Obj.Index]);\r\n                            let KeyNodeValueT: string = TouchNode.getChildByName(\"Label\").getComponent(Label).string;\r\n                            this.GameData.Key[KeyNodeIndexT] = KeyNodeValueT;\r\n                            console.log(\"\", KeyNodeIndexT, \"\", KeyNodeValueT);\r\n                            //console.log(this.GameData);\r\n                            this.UpdateUIValue();\r\n\r\n                        } else {\r\n                            let KeyNodeIndexL: number = Key.children.indexOf(this.KeyTarget[this.LastKeyIndex[CurrentLastKeyIndex]]);\r\n                            if (KeyNodeIndexL == -1) {\r\n                                //console.log(CurrentLastKeyIndex);//\r\n                                //console.log(this.LastKeyIndex[CurrentLastKeyIndex]);\r\n                                //console.log(this.KeyTarget[this.LastKeyIndex[CurrentLastKeyIndex]]);\r\n                            }\r\n\r\n                            let KeyNodeValueL: string = \"N\";\r\n                            this.GameData.Key[KeyNodeIndexL] = KeyNodeValueL;\r\n\r\n                            //\r\n                            let KeyNodeIndexT: number = Key.children.indexOf(this.KeyTarget[Obj.Index]);\r\n                            let KeyNodeValueT: string = TouchNode.getChildByName(\"Label\").getComponent(Label).string;\r\n                            this.GameData.Key[KeyNodeIndexT] = KeyNodeValueT;\r\n\r\n                            console.log(\"\", KeyNodeIndexL, \"\", KeyNodeValueL);\r\n                            console.log(\"\", KeyNodeIndexT, \"\", KeyNodeValueT);\r\n                            //console.log(this.GameData);\r\n                        }\r\n                        this.KeyExitState[Obj.Index] = true;\r\n                        this.KeyExitValue[Obj.Index] = TouchNode;\r\n                        //console.error(this.LastKeyIndex[i], this.LastKeyIndex[i], this.KeyExitState[this.LastKeyIndex[i]]);\r\n\r\n                        if (this.LastKeyIndex[i] != null && this.LastKeyIndex[i] != Obj.Index) {\r\n                            console.error(this.KeyExitState[this.LastKeyIndex[i]], \"2---------------------\", Obj.Index);\r\n                            this.KeyExitState[this.LastKeyIndex[i]] = false;\r\n                            this.KeyExitValue[this.LastKeyIndex[i]] = null;\r\n\r\n                        }\r\n                        //Key\r\n                        this.LastKeyIndex[i] != null && Tool_UI.instance.Set_Color_Sprite(this.KeyTarget[this.LastKeyIndex[i]].getChildByName(\"Bg\").getChildByName(\"Sp\"), ColorOff);\r\n                        this.LastKeyIndex[i] = Obj.Index;\r\n\r\n                        // this.LastKeyIndex[this.ValueTargetC.indexOf(TouchNode)] != null && Tool_UI.instance.Set_Color_Sprite(this.KeyTarget[this.LastKeyIndex[i]].getChildByName(\"Bg\").getChildByName(\"Sp\"), ColorOff);\r\n                        // this.LastKeyIndex[this.ValueTargetC.indexOf(TouchNode)] = Obj.Index;\r\n\r\n                        //console.error(Obj.Index, this.LastKeyIndex[i], i, Value.children.indexOf(TouchNode));\r\n\r\n                        Tool_UI.instance.Set_Color_Sprite(this.KeyTarget[Obj.Index].getChildByName(\"Bg\").getChildByName(\"Sp\"), ColorOn);\r\n                        Temp.destroyAllChildren();\r\n                        for (let i = 0; i < this.TipAnim.length; i++) {\r\n                            this.TipAnim[i].destroy();\r\n                        }\r\n                        this.KeyShadowIndex = -1;\r\n                        let Pos = Tool_UI.instance.Get_Target_Node_Local_Pos(TouchNode, this.KeyTarget[Obj.Index]);\r\n                        this.UpdateUIValue();\r\n                        await Tool_Animation.instance.Animation_Node_Move_Time(TouchNode, Pos, 0, null, \"smooth\");\r\n                        tween(TouchNode)\r\n                            .to(0.25, { scale: v3(0.9, 0.9, 1) }, { easing: \"backOut\" })\r\n                            .start();\r\n                    } else {\r\n                        if (!IsExit) {\r\n                            Tool_UI.instance.Arr_Increase(this.ValueTarget, TouchNode);\r\n\r\n                            //\r\n                            let KeyNodeIndexT: number = Key.children.indexOf(this.KeyTarget[this.LastKeyIndex[CurrentLastKeyIndex]]);\r\n                            let KeyNodeValueT: string = \"N\";\r\n                            this.GameData.Key[KeyNodeIndexT] = KeyNodeValueT;\r\n                            console.log(\"\", KeyNodeIndexT, \"\", KeyNodeValueT);\r\n                            //console.log(this.GameData);\r\n\r\n                            if (this.LastKeyIndex[i] != null && this.LastKeyIndex[i] != Obj.Index) {\r\n                                this.KeyExitState[this.LastKeyIndex[i]] = false;\r\n                                this.KeyExitValue[this.LastKeyIndex[i]] = null;\r\n                                Tool_UI.instance.Set_Color_Sprite(this.KeyTarget[this.LastKeyIndex[i]].getChildByName(\"Bg\").getChildByName(\"Sp\"), ColorOff);\r\n                            }\r\n                            // \r\n                            if (this.KeyExitState[Obj.Index]) {\r\n                                this.KeyExitState[Obj.Index] = false;\r\n                                //console.error(this.KeyExitState[Obj.Index], \"3---------------------\", Obj.Index);\r\n                                this.KeyExitValue[Obj.Index] = null;\r\n                                Tool_UI.instance.Set_Color_Sprite(this.KeyTarget[Obj.Index].getChildByName(\"Bg\").getChildByName(\"Sp\"), ColorOff);\r\n                            }\r\n\r\n\r\n                            this.LastKeyIndex[i] = null;\r\n                        }\r\n                        // await Tool_Animation.instance.Async_Wait(0.05);\r\n                        this.UpdateUIValue();\r\n                        await Tool_Animation.instance.Async_Wait(0.25);\r\n                        this.TipStart();\r\n\r\n                    }\r\n                    //console.log(\"this.KeyExitState\", this.KeyExitState);\r\n                    //console.log(\"this.KeyExitValue\", this.KeyExitValue);\r\n                    //console.log(\"this.ValueTarget\", this.ValueTarget);\r\n\r\n                    this.FindAllEquationIndices_(this.GameData.Key);\r\n\r\n\r\n                });\r\n            }\r\n        }\r\n\r\n\r\n        // this.UpdateUIValue(0);\r\n\r\n\r\n        // await Tool_Animation.instance.Async_Wait(0.1);\r\n\r\n\r\n\r\n        for (let i = 0; i < this.ValueTarget.length; i++) {\r\n            this.ValueTarget[i].active = false;\r\n        }\r\n        for (let i = 0; i < this.ValueTarget.length; i++) {\r\n            this.ValueTarget[i].active = true;\r\n            this.ValueTarget[i].position = this.ValueTarget[i].position.clone().add(v3(1000, 0, 0));\r\n        }\r\n\r\n        let Time = 0;\r\n        let Wait = 0;\r\n\r\n        let Len = this.GameData.Value.length;\r\n\r\n        Time = 1.2 / Len;\r\n        Wait = Time / 2\r\n\r\n        if (this.Game_Script.MathMatchLevel == 0) {\r\n            this.Game_Script.BlockInputEvents.active = true;\r\n            this.Step = 0;\r\n            let N = this.ValueTarget[2];\r\n            N.active = true;\r\n            N.scale = v3(0.9, 0.9, 1)\r\n            Tool_UI.instance.Set_Pos_Word_Same(N, this.KeyTarget[2]);\r\n            let TouchNode = this.ValueTarget[2]\r\n            let i = this.ValueTargetC.indexOf(TouchNode);\r\n\r\n            // Shadow.active = false;\r\n            let IsExit: boolean = Tool_UI.instance.Arr_Check_Index(this.ValueTarget, TouchNode) == -1 ? false : true;\r\n            let Obj = Tool_Animation.instance.Get_Min_Distance_Node(TouchNode.worldPosition, this.KeyTarget);\r\n\r\n            // 1. \r\n            const OriginalNode = this.KeyExitValue[Obj.Index];\r\n            // 2.  LastKeyIndex \r\n            //\r\n            let OriginalLastKeyIndex = Tool_UI.instance.Arr_Check_Index(this.ValueTargetC, OriginalNode)\r\n            //\r\n            let CurrentLastKeyIndex = Tool_UI.instance.Arr_Check_Index(this.ValueTargetC, TouchNode)\r\n\r\n            if (Obj.Distance <= this.OnDistance) {\r\n                this.TipReset();\r\n                //\r\n\r\n                if (IsExit) {\r\n                    // \r\n                    Tool_UI.instance.Arr_Delete(this.ValueTarget, TouchNode);\r\n                    //\r\n                    let KeyNodeIndexT: number = Key.children.indexOf(this.KeyTarget[Obj.Index]);\r\n                    let KeyNodeValueT: string = TouchNode.getChildByName(\"Label\").getComponent(Label).string;\r\n                    this.GameData.Key[KeyNodeIndexT] = KeyNodeValueT;\r\n                } else {\r\n                    let KeyNodeIndexL: number = Key.children.indexOf(this.KeyTarget[this.LastKeyIndex[CurrentLastKeyIndex]]);\r\n                    if (KeyNodeIndexL == -1) {\r\n\r\n                    }\r\n\r\n                    let KeyNodeValueL: string = \"N\";\r\n                    this.GameData.Key[KeyNodeIndexL] = KeyNodeValueL;\r\n\r\n                    //\r\n                    let KeyNodeIndexT: number = Key.children.indexOf(this.KeyTarget[Obj.Index]);\r\n                    let KeyNodeValueT: string = TouchNode.getChildByName(\"Label\").getComponent(Label).string;\r\n                    this.GameData.Key[KeyNodeIndexT] = KeyNodeValueT;\r\n\r\n                }\r\n                this.KeyExitState[Obj.Index] = true;\r\n                this.KeyExitValue[Obj.Index] = TouchNode;\r\n                if (this.LastKeyIndex[i] != null && this.LastKeyIndex[i] != Obj.Index) {\r\n                    this.KeyExitState[this.LastKeyIndex[i]] = false;\r\n                    this.KeyExitValue[this.LastKeyIndex[i]] = null;\r\n                }\r\n                //Key\r\n                this.LastKeyIndex[i] != null && Tool_UI.instance.Set_Color_Sprite(this.KeyTarget[this.LastKeyIndex[i]].getChildByName(\"Bg\").getChildByName(\"Sp\"), ColorOff);\r\n                this.LastKeyIndex[i] = Obj.Index;\r\n\r\n                // this.LastKeyIndex[this.ValueTargetC.indexOf(TouchNode)] != null && Tool_UI.instance.Set_Color_Sprite(this.KeyTarget[this.LastKeyIndex[i]].getChildByName(\"Bg\").getChildByName(\"Sp\"), ColorOff);\r\n                // this.LastKeyIndex[this.ValueTargetC.indexOf(TouchNode)] = Obj.Index;\r\n\r\n                //console.error(Obj.Index, this.LastKeyIndex[i], i, Value.children.indexOf(TouchNode));\r\n\r\n                Tool_UI.instance.Set_Color_Sprite(this.KeyTarget[Obj.Index].getChildByName(\"Bg\").getChildByName(\"Sp\"), ColorOn);\r\n                Temp.destroyAllChildren();\r\n                for (let i = 0; i < this.TipAnim.length; i++) {\r\n                    this.TipAnim[i].destroy();\r\n                }\r\n                this.KeyShadowIndex = -1;\r\n                let Pos = Tool_UI.instance.Get_Target_Node_Local_Pos(TouchNode, this.KeyTarget[Obj.Index]);\r\n                await Tool_Animation.instance.Animation_Node_Move_Time(TouchNode, Pos, 0, null, \"smooth\");\r\n                tween(TouchNode)\r\n                    .to(0.25, { scale: v3(0.9, 0.9, 1) }, { easing: \"backOut\" })\r\n                    .start();\r\n            }\r\n\r\n            this.UpdateUIValue(Time, Wait, true);\r\n            await Tool_Animation.instance.Async_Wait(1);\r\n            this.Game_Script.BlockInputEvents.active = false;\r\n            Hand.active = true;\r\n            Tool_Animation.instance.Tween_Stop_Target(Hand);\r\n            let MoveNode = this.ValueTarget[0];\r\n            this.Game_Script.OnMessage(\"\");\r\n            let PosStart = Tool_UI.instance.Get_Target_Node_Local_Pos(Hand, MoveNode).add(v3(30, -50));\r\n            let PosEnd = Tool_UI.instance.Get_Target_Node_Local_Pos(Hand, this.KeyTarget[0]).add(v3(30, -50));\r\n            const AnimA = () => {\r\n                Hand.position = PosStart;\r\n                Tool_Animation.instance.Animation_Node_Move_Time(Hand, PosEnd, 1, () => {\r\n                    if (MoveNode == this.ValueTarget[0]) {\r\n                        Tool_Animation.instance.Animation_Node_Move_Time(Hand, PosStart, 0.5, () => {\r\n                            if (MoveNode == this.ValueTarget[0]) {\r\n                                AnimA();\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n            AnimA();\r\n        } else {\r\n            this.UpdateUIValue(Time, Wait, true);//1.2\r\n        }\r\n\r\n\r\n    }\r\n\r\n    /** */\r\n    async UpdateUIValue(Time: number = 0.2, Wait: number = 0, IsAudio: boolean = false) {\r\n\r\n        if (IsAudio) {\r\n            this.Resoure_Data.Sound_Play(\"Audio/BoxStart\");\r\n        }\r\n        //console.log(\"\");\r\n\r\n        // this.Interactable = false;\r\n        this.ValueTarget.sort((a, b) => {\r\n            const valueA = parseFloat(a.getChildByName(\"Label\").getComponent(Label).string);\r\n            const valueB = parseFloat(b.getChildByName(\"Label\").getComponent(Label).string);\r\n            return valueA - valueB;\r\n        });\r\n        for (let i = 0; i < this.ValueTarget.length; i++) {\r\n            this.ValueTarget[i].scale = v3(1, 1, 1);\r\n            this.ValueTarget[i].angle = 0;\r\n            Tool_Animation.instance.Animation_Node_Move_Time(this.ValueTarget[i], this.ValuePos[i], Time, null, \"smooth\");\r\n            // if (Wait != 0) {\r\n            await Tool_Animation.instance.Async_Wait(Wait);\r\n            // }\r\n        }\r\n        if (IsAudio) {\r\n            this.Resoure_Data.Sound_Play(\"Audio/BoxEnd\");\r\n        }\r\n\r\n        if (this.Game_Script.MathMatchLevel <= 0 && this.Step <= 1) {\r\n            this.BtnTip.getComponent(Sprite).grayscale = true;\r\n        } else {\r\n            this.BtnTip.getComponent(Sprite).grayscale = this.ValueTarget.length == 0;\r\n        }\r\n\r\n        await Tool_Animation.instance.Async_Wait(Time);\r\n        // this.Interactable = true;\r\n    }\r\n\r\n    async GameStart() {\r\n        this.BtnTip.getComponent(Sprite).grayscale = true;\r\n\r\n        this.Game_Script.BlockInputEvents.active = false;\r\n\r\n        if (sys.platform === sys.Platform.WECHAT_GAME || sys.platform === sys.Platform.WECHAT_MINI_PROGRAM) {\r\n            try {\r\n                // window.ge.onLevelStart({ \"$user_level\": this.Game_Script.MathMatchLevel });\r\n                GravityPlatform.instance.onLevelStart({ \"$user_level\": this.Game_Script.MathMatchLevel });\r\n            } catch (error) {\r\n                //console.log(error);\r\n\r\n            }\r\n        }\r\n\r\n        this.TipReset();\r\n        this.Timing();\r\n        await this.InitData();\r\n        await this.InitInterface();\r\n\r\n\r\n    }\r\n\r\n    async GameVictory() {\r\n        if (this.PanelVictory.active) {\r\n            return;\r\n        }\r\n        this.Resoure_Data.Sound_Play(\"Audio/Victory\");\r\n        this.PanelVictory.active = true;\r\n        this.Interactable = false;\r\n\r\n        if (sys.platform === sys.Platform.WECHAT_GAME || sys.platform === sys.Platform.WECHAT_MINI_PROGRAM) {\r\n            try {\r\n                GravityPlatform.instance.onLevelSuccess({ \"$user_level\": this.Game_Script.MathMatchLevel });\r\n                // window.ge.onLevelSuccess({ \"$user_level\": this.Game_Script.MathMatchLevel });\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n\r\n\r\n        this.TimerPause();\r\n\r\n        find(\"JG\", this.node).active = false;\r\n\r\n\r\n        let T = this.GameTimeIng / this.GameTimeAll;\r\n        this.Score = 0;\r\n        if (T < 0.45) {\r\n            this.Score = 3;\r\n            this.Resoure_Data.Sound_Play(\"Audio/Start3\");\r\n        } else if (T < 0.7) {\r\n            this.Score = 2;\r\n            this.Resoure_Data.Sound_Play(\"Audio/Start2\");\r\n        } else if (T < 1) {\r\n            this.Score = 1;\r\n            this.Resoure_Data.Sound_Play(\"Audio/Start1\");\r\n        } else {\r\n            this.Score = 0;\r\n        }\r\n\r\n\r\n        this.Game_Script.MathMatchLevel++;\r\n        this.Game_Script.MathMatchScore += this.Score;\r\n        /** */\r\n        this.Game_Script.DataSet();\r\n        // this.Game_Script.UpdateScene();\r\n\r\n        if (this.Score == 0) {\r\n            this.PanelVictory.getChildByName(\"WinBanner\").getChildByName(\"Label\").getComponent(RichText).string = `<color=#17a6fc>${this.GameTimeAll}/</color><color=#FF0000>${this.GameTimeIng}</color>`;\r\n        } else {\r\n            this.PanelVictory.getChildByName(\"WinBanner\").getChildByName(\"Label\").getComponent(RichText).string = `<color=#17a6fc>${this.GameTimeAll}/</color><color=#00FF00>${this.GameTimeIng}</color>`;\r\n        }\r\n\r\n\r\n        this.Game_Script.BlockInputEvents.active = true;\r\n        let StarsData: { Pos: Vec3[], Angle: number[] } = {\r\n            Pos: [\r\n                v3(-175, 150, 0), v3(0, 180, 0), v3(175, 150, 0),\r\n            ], Angle: [\r\n                50, 25, 0\r\n            ]\r\n        };\r\n        let Stars = find(\"WinBanner/Stars\", this.PanelVictory)\r\n        for (let I = 0; I < Stars.children.length; I++) {\r\n            let Star = Stars.children[I].children[0];\r\n            Star.active = false;\r\n            Star.scale = v3(1, 1, 1);\r\n            Star.parent.position = StarsData.Pos[I]\r\n            Star.parent.angle = StarsData.Angle[I]\r\n            Star.parent.scale = v3(1, 1, 1);\r\n        }\r\n        const StarsAnim = async () => {\r\n            for (let I = 0; I < this.Score; I++) {\r\n                let Star = Stars.children[I].children[0];\r\n                Star.scale = v3(4, 4, 1);\r\n                Star.active = true;\r\n                tween(Star)\r\n                    .to(0.05, { scale: v3(5, 5, 1) })\r\n                    .to(0.4, { scale: v3(1, 1, 1) })\r\n                    .start();\r\n                await Tool_Animation.instance.Async_Wait(0.4);\r\n            }\r\n            this.Game_Script.BlockInputEvents.active = false;\r\n        }\r\n        StarsAnim();\r\n\r\n        const CD = async () => {\r\n            Tool_Animation.instance.Anim_Skeleton_Play(find(\"C1\", this.PanelVictory).getComponent(sp.Skeleton), \"default\", 0, \"caidai\", false);\r\n            await Tool_Animation.instance.Async_Wait(0.1);\r\n            Tool_Animation.instance.Anim_Skeleton_Play(find(\"C2\", this.PanelVictory).getComponent(sp.Skeleton), \"default\", 0, \"caidai\", false, () => {\r\n                //console.log(\"\");\r\n\r\n            });\r\n        }\r\n        CD();\r\n\r\n        if (this.Resoure_Data.Vibration_Switch_Get()) {\r\n            for (let i = 0; i < 5; i++) {\r\n                PlatformApi.instance.vibrateShort();\r\n                await Tool_Animation.instance.Async_Wait(0.2);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    async GameFailed() {\r\n\r\n        if (sys.platform === sys.Platform.WECHAT_GAME || sys.platform === sys.Platform.WECHAT_MINI_PROGRAM) {\r\n            try {\r\n                // window.ge.onLevelFail({ \"$user_level\": this.Game_Script.MathMatchLevel });\r\n                GravityPlatform.instance.onLevelStart({ \"$user_level\": this.Game_Script.MathMatchLevel });\r\n            } catch (error) {\r\n                //console.log(error);\r\n\r\n            }\r\n        }\r\n        this.Resoure_Data.Sound_Play(\"Audio/Failed\");\r\n        this.PanelFail.active = true;\r\n        this.Interactable = false;\r\n        this.PanelFail.getChildByName(\"WinBanner\").getChildByName(\"Label\").getComponent(RichText).string = `<color=#17a6fc>${this.GameTimeAll}/</color><color=#FF0000>${this.GameTimeIng}</color>`;\r\n\r\n\r\n\r\n    }\r\n\r\n    GameResult() {\r\n\r\n\r\n    }\r\n\r\n\r\n    BreakNode(SetNode: Node) {\r\n\r\n    }\r\n\r\n    TipReset() {\r\n        if (this.TipLabel != null) {\r\n            Tool_UI.instance.Set_Color_Label(this.TipLabel, color(0, 0, 0, 255));\r\n            this.TipLabel.getComponent(Label).string = \"\";\r\n            this.TipLabel.scale = v3(1, 1, 1);\r\n            Tool_Animation.instance.Tween_Stop_Target(this.TipLabel);\r\n            this.TipLabel = null;\r\n        }\r\n        if (this.TipNode != null) {\r\n            Tool_Animation.instance.Tween_Stop_Target(this.TipNode);\r\n            this.TipNode = null;\r\n        }\r\n\r\n        for (let i = 0; i < this.TipAnim.length; i++) {\r\n            this.TipAnim[i].destroy();\r\n        }\r\n        this.TipAnim = [];\r\n\r\n    }\r\n\r\n    async TipStart() {\r\n\r\n\r\n        //console.log(this.TipAnim);\r\n        if (this.TipAnim.length != 0) {\r\n            return;\r\n        }\r\n\r\n\r\n        if (this.TipNode != null && this.TipLabel != null) {\r\n            // Tool_Animation.instance.Animation_Heartbeat(this.TipLabel);\r\n\r\n            for (let i = 0; i < this.TipAnim.length; i++) {\r\n                this.TipAnim[i].destroy();\r\n            }\r\n\r\n            let Spine = await this.Resoure_Data.Load_Prefab(\"Prefab/PanelMathMatch/Spine\");\r\n            let SpineNode1 = Tool_UI.instance.Set_Prefab_Node(Spine, this.node.getChildByName(\"TempV\"), this.ValuePos[this.ValueTarget.indexOf(this.TipNode)].clone().add(v3(0, -250, 0)));\r\n            Tool_Animation.instance.Anim_Skeleton_Play(SpineNode1.getComponent(sp.Skeleton), \"default\", 0, \"animation2\", true)\r\n\r\n            let SpineNode2 = Tool_UI.instance.Set_Prefab_Node(Spine, this.node.getChildByName(\"TempV\"), this.TipLabel);\r\n            Tool_Animation.instance.Anim_Skeleton_Play(SpineNode2.getComponent(sp.Skeleton), \"default\", 0, \"animation1\", true)\r\n\r\n            this.TipAnim.push(SpineNode1)\r\n            this.TipAnim.push(SpineNode2)\r\n\r\n\r\n\r\n            Tool_Animation.instance.Tween_Stop_Target(this.TipLabel);\r\n            this.TipLabel.angle = 0;\r\n            // Tool_Animation.instance.Tween_Stop_Target(this.TipNode);\r\n            // this.TipNode.angle = 0;\r\n\r\n            tween(this.TipLabel)\r\n                .repeatForever(\r\n                    tween()\r\n                        .to(0.2, { angle: 5 })\r\n                        .to(0.2, { angle: -10 })\r\n                        .to(0.2, { angle: 10 })\r\n                        .to(0.2, { angle: -10 })\r\n                        .to(0.2, { angle: 5 })\r\n                        .to(0.2, { angle: 0 })\r\n                        .delay(1)\r\n                )\r\n                .start()\r\n\r\n\r\n        }\r\n    }\r\n\r\n    async FindAllEquationIndices_(Key: string[], Time: number = 0, Rows: number = 11, Cols: number = 11): Promise<{ CorrectIndex: number[][]; WrongIndex: number[][]; }> {\r\n\r\n        this.Interactable = false;\r\n\r\n        this.TimStop();\r\n\r\n        if (this.Game_Script.MathMatchLevel <= 0 && this.Step <= 1) {\r\n            this.BtnTip.getComponent(Sprite).grayscale = true;\r\n        } else {\r\n            this.BtnTip.getComponent(Sprite).grayscale = this.ValueTarget.length == 0;\r\n        }\r\n\r\n        // this.Interactable = false;\r\n        await Tool_Animation.instance.Async_Wait(Time);\r\n        let Count = 0;\r\n        const Result = {\r\n            CorrectIndex: [] as number[][],\r\n            WrongIndex: [] as number[][]\r\n        };\r\n        const ResultAll = {\r\n            CorrectIndex: [] as number[],\r\n            WrongIndex: [] as number[]\r\n        };\r\n        /** */\r\n        function CheckResult(Index: number): number {\r\n            // return Key[Index] == \"N\" || Key[Index] == \"U\" ? null : Number(Key[Index]);\r\n            return Key[Index] == \"N\" ? null : Number(Key[Index]);\r\n        }\r\n        /** */\r\n        function GetResult(expression: string[]): number {\r\n            // \r\n            const processed = [...expression];\r\n            if (processed.indexOf(\"N\") != -1) {\r\n                return null;\r\n            }\r\n            // \r\n            for (let i = 1; i < processed.length; i += 2) {\r\n                const op = processed[i];\r\n                if (op === \"X\" || op === \"x\" || op === \"/\") {\r\n                    const left = parseFloat(processed[i - 1]);\r\n                    const right = parseFloat(processed[i + 1]);\r\n                    let result: number;\r\n                    if (op === \"/\") {\r\n                        if (right === 0) throw new Error(\"Division by zero\");\r\n                        result = left / right;\r\n                    } else {\r\n                        result = left * right;\r\n                    }\r\n                    // \r\n                    processed.splice(i - 1, 3, result.toString());\r\n                    i -= 2; // \r\n                }\r\n            }\r\n            // \r\n            let result = parseFloat(processed[0]);\r\n            for (let i = 1; i < processed.length; i += 2) {\r\n                const op = processed[i];\r\n                const num = parseFloat(processed[i + 1]);\r\n                if (op === '+') {\r\n                    result += num;\r\n                } else if (op === '-') {\r\n                    result -= num;\r\n                } else {\r\n                    console.log(`${processed} `);\r\n                    console.log(i);\r\n\r\n                    throw new Error(`Unknown operator: ${op}`);\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n        let ErrorChar = [\"=\", \"U\"];\r\n        for (let i = 0; i < Key.length; i++) {\r\n            if (Key[i] == \"=\") {\r\n                // //console.log(\"--------------------------------------\");\r\n                // //console.log(\"--------------------------------------\");\r\n                // //console.log(\"--------------------------------------\");\r\n                let ValueResult: number | null;\r\n                //\r\n                // //console.log(\"\");\r\n\r\n                if (i % Rows != Rows - 1) {\r\n                    ValueResult = CheckResult(i + 1);//*\r\n                    if (ValueResult != null && !Number.isNaN(ValueResult)) {\r\n                        let Index = i;\r\n                        let Indexs: number[] = [];\r\n                        let Chars: string[] = [];\r\n                        while (Index % Rows != 0) {//*\r\n                            Index -= 1;//*\r\n                            if (ErrorChar.indexOf(Key[Index]) == -1) {\r\n                                Indexs.push(Index);\r\n                            } else {\r\n                                break;\r\n                            }\r\n                        }\r\n                        Tool_Other.instance.Sort_Reverse(Indexs);\r\n                        for (let j = 0; j < Indexs.length; j++) {\r\n                            Chars.push(Key[Indexs[j]]);\r\n                        }\r\n                        Indexs.push(i);\r\n                        Indexs.push(i + 1);//*\r\n                        let KeyResult: number = GetResult(Chars);\r\n                        let IsEqual: boolean = KeyResult == ValueResult;\r\n                        // console.log(Indexs);\r\n                        // console.log(Chars);\r\n                        // console.log(\"ValueResult\", ValueResult, \"KeyResult\", KeyResult);\r\n                        // console.log(\"\", IsEqual);\r\n                        if (Indexs.length >= 5) {\r\n                            if (IsEqual) {\r\n                                Result.CorrectIndex.push(Indexs);\r\n                                ResultAll.CorrectIndex = [...ResultAll.CorrectIndex, ...Indexs];\r\n                                Count++\r\n                            } else {\r\n                                if (KeyResult != null) {\r\n                                    Result.WrongIndex.push(Indexs);\r\n                                    ResultAll.WrongIndex = [...ResultAll.WrongIndex, ...Indexs];\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (Math.floor(i / Rows) != Cols - 1) {\r\n                    //\r\n                    // //console.log(\"\");\r\n                    ValueResult = CheckResult(i + Rows);\r\n                    if (ValueResult != null && !Number.isNaN(ValueResult)) {\r\n                        let Index = i;\r\n                        let Indexs: number[] = [];\r\n                        let Chars: string[] = [];\r\n                        while (Math.floor(Index / Rows) != 0) {\r\n                            Index -= Rows;//*\r\n                            if (ErrorChar.indexOf(Key[Index]) == -1) {\r\n                                Indexs.push(Index);\r\n                            } else {\r\n                                break;\r\n                            }\r\n                        }\r\n                        Tool_Other.instance.Sort_Reverse(Indexs);\r\n                        for (let j = 0; j < Indexs.length; j++) {\r\n                            Chars.push(Key[Indexs[j]]);\r\n                        }\r\n                        Indexs.push(i);\r\n                        Indexs.push(i + Rows);\r\n                        let KeyResult: number = GetResult(Chars);\r\n                        let IsEqual: boolean = KeyResult == ValueResult;\r\n                        // console.log(Indexs);\r\n                        // console.log(Chars);\r\n                        // console.log(\"ValueResult\", ValueResult, \"KeyResult\", KeyResult);\r\n                        // console.log(\"\", IsEqual);\r\n                        if (Indexs.length >= 5) {\r\n                            if (IsEqual) {\r\n                                Result.CorrectIndex.push(Indexs);\r\n                                ResultAll.CorrectIndex = [...ResultAll.CorrectIndex, ...Indexs];\r\n                                Count++\r\n                            } else {\r\n                                if (KeyResult != null) {\r\n                                    Result.WrongIndex.push(Indexs);\r\n                                    ResultAll.WrongIndex = [...ResultAll.WrongIndex, ...Indexs];\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (i % Rows != Rows - 1 && Math.floor(i / Rows) != Cols - 1) {\r\n                    //\r\n                    ValueResult = CheckResult(i + (Rows + 1));\r\n                    if (ValueResult != null && !Number.isNaN(ValueResult)) {\r\n                        let Index = i;\r\n                        let Indexs: number[] = [];\r\n                        let Chars: string[] = [];\r\n                        while (Index % Rows != 0 && Math.floor(Index / Rows) != 0) {\r\n                            Index -= (Rows + 1);\r\n                            if (ErrorChar.indexOf(Key[Index]) == -1) {\r\n                                Indexs.push(Index);\r\n                            } else {\r\n                                break;\r\n                            }\r\n                        }\r\n                        Tool_Other.instance.Sort_Reverse(Indexs);\r\n                        for (let j = 0; j < Indexs.length; j++) {\r\n                            Chars.push(Key[Indexs[j]]);\r\n                        }\r\n                        Indexs.push(i);\r\n                        Indexs.push(i + (Rows + 1));\r\n                        console.log(Chars);\r\n                        let KeyResult: number = GetResult(Chars);\r\n                        let IsEqual: boolean = KeyResult == ValueResult;\r\n                        // console.log(\"\");\r\n                        // console.log(Indexs);\r\n                        // console.log(\"ValueResult\", ValueResult, \"KeyResult\", KeyResult);\r\n                        // console.log(\"\", IsEqual);\r\n                        if (Indexs.length >= 5) {\r\n                            if (IsEqual) {\r\n                                Result.CorrectIndex.push(Indexs);\r\n                                ResultAll.CorrectIndex = [...ResultAll.CorrectIndex, ...Indexs];\r\n                                Count++\r\n                            } else {\r\n                                if (KeyResult != null) {\r\n                                    Result.WrongIndex.push(Indexs);\r\n                                    ResultAll.WrongIndex = [...ResultAll.WrongIndex, ...Indexs];\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n\r\n\r\n\r\n                if (i % Rows != 0 && Math.floor(i / Rows) != Cols - 1) {\r\n                    //\r\n                    // //console.log(\"\");\r\n                    ValueResult = CheckResult(i + (Rows - 1));\r\n                    if (ValueResult != null && !Number.isNaN(ValueResult)) {\r\n                        let Index = i;\r\n                        let Indexs: number[] = [];\r\n                        let Chars: string[] = [];\r\n\r\n\r\n                        while (Index % Rows != (Rows - 1) && Math.floor(Index / Rows) != 0) {\r\n                            console.log(Index % Rows, Math.floor(Index / Rows));\r\n                            Index -= (Rows - 1);\r\n                            if (ErrorChar.indexOf(Key[Index]) == -1) {\r\n                                Indexs.push(Index);\r\n                            } else {\r\n                                break;\r\n                            }\r\n                        }\r\n\r\n                        Tool_Other.instance.Sort_Reverse(Indexs);\r\n                        for (let j = 0; j < Indexs.length; j++) {\r\n                            Chars.push(Key[Indexs[j]]);\r\n                        }\r\n                        Indexs.push(i);\r\n                        Indexs.push(i + (Rows - 1));\r\n                        let KeyResult: number = GetResult(Chars);\r\n                        let IsEqual: boolean = KeyResult == ValueResult;\r\n                        // console.log(Indexs);\r\n                        // console.log(Chars);\r\n                        // console.log(\"ValueResult\", ValueResult, \"KeyResult\", KeyResult);\r\n                        // console.log(\"\", IsEqual);\r\n                        if (Indexs.length >= 5) {\r\n                            if (IsEqual) {\r\n                                Result.CorrectIndex.push(Indexs);\r\n                                ResultAll.CorrectIndex = [...ResultAll.CorrectIndex, ...Indexs];\r\n                                Count++\r\n                            } else {\r\n                                if (KeyResult != null) {\r\n                                    Result.WrongIndex.push(Indexs);\r\n                                    ResultAll.WrongIndex = [...ResultAll.WrongIndex, ...Indexs];\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                    }\r\n\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n        let KeyP = find(\"Key\", this.node);\r\n        let ValueP = find(\"Value\", this.node);\r\n\r\n\r\n\r\n        // console.error(Result.CorrectIndex);\r\n        // console.error(Result.WrongIndex);\r\n\r\n\r\n        let AnimReset = async () => {\r\n            for (let i = 0; i < KeyP.children.length; i++) {\r\n                if (ResultAll.CorrectIndex.indexOf(i) == -1) {\r\n                    switch (this.GameData.Key[i]) {\r\n                        case \"N\":\r\n                            Tool_UI.instance.Set_SpriteFrame(KeyP.children[i].getChildByName(\"Bg\"), await this.Resoure_Data.Load_SpriteFrame(\"SpriteFrame/Panel/PanelMathMatch/BoxN\"));\r\n                            break;\r\n                        default:\r\n                            Tool_UI.instance.Set_SpriteFrame(KeyP.children[i].getChildByName(\"Bg\"), await this.Resoure_Data.Load_SpriteFrame(\"SpriteFrame/Panel/PanelMathMatch/BoxU\"));\r\n                            break;\r\n                    }\r\n                } else {\r\n                    Tool_UI.instance.Arr_Delete(this.AnimCorrectNode, KeyP.children[i]);\r\n                }\r\n\r\n                if (ResultAll.WrongIndex.indexOf(i) == -1) {\r\n                    switch (this.GameData.Key[i]) {\r\n                        case \"N\":\r\n                            Tool_UI.instance.Set_SpriteFrame(KeyP.children[i].getChildByName(\"Bg\"), await this.Resoure_Data.Load_SpriteFrame(\"SpriteFrame/Panel/PanelMathMatch/BoxN\"));\r\n                            break;\r\n                        default:\r\n                            Tool_UI.instance.Set_SpriteFrame(KeyP.children[i].getChildByName(\"Bg\"), await this.Resoure_Data.Load_SpriteFrame(\"SpriteFrame/Panel/PanelMathMatch/BoxU\"));\r\n                            break;\r\n                    }\r\n                } else {\r\n                    Tool_UI.instance.Arr_Delete(this.AnimWrongNode, KeyP.children[i]);\r\n                }\r\n\r\n            }\r\n\r\n            await AnimV();\r\n            AnimF();\r\n\r\n        }\r\n\r\n        let AnimV = async () => {\r\n            for (let i = 0; i < Result.CorrectIndex.length; i++) {\r\n                for (let j = 0; j < Result.CorrectIndex[i].length; j++) {\r\n                    if (this.AnimCorrectNode.indexOf(KeyP.children[Result.CorrectIndex[i][j]]) == -1) {\r\n                        this.AnimCorrectNode.push(KeyP.children[Result.CorrectIndex[i][j]]);\r\n                        Tool_UI.instance.Set_SpriteFrame(KeyP.children[Result.CorrectIndex[i][j]].getChildByName(\"Bg\"), await this.Resoure_Data.Load_SpriteFrame(\"SpriteFrame/Panel/PanelMathMatch/BoxC\"));\r\n                    }\r\n                }\r\n            }\r\n            for (let i = 0; i < Result.CorrectIndex.length; i++) {\r\n                let ICall = async () => {\r\n                    //\r\n                    let IsPlay = false;\r\n                    let Obj = Tool_Animation.instance.Get_Min_Distance_Node(this.TouchNode.worldPosition, this.KeyTarget);\r\n                    if (Obj.Distance <= this.OnDistance) {\r\n                        for (let j = 0; j < Result.CorrectIndex[i].length; j++) {\r\n                            if (this.KeyTarget[Obj.Index].name == KeyP.children[Result.CorrectIndex[i][j]].name) {\r\n                                IsPlay = true;\r\n                                //console.log(\"AnimV\");\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (IsPlay) {\r\n                        this.Resoure_Data.Sound_Play(\"Audio/Correct\");\r\n                        for (let j = 0; j < Result.CorrectIndex[i].length; j++) {\r\n                            //Value\r\n                            let Obj = Tool_Animation.instance.Get_Min_Distance_Node(KeyP.children[Result.CorrectIndex[i][j]].worldPosition, this.ValueTargetC);\r\n                            if (Obj.Distance <= this.OnDistance) {\r\n                                Tool_UI.instance.Set_SpriteFrame(this.ValueTargetC[Obj.Index].getChildByName(\"Bg\"), await this.Resoure_Data.Load_SpriteFrame(\"SpriteFrame/Panel/PanelMathMatch/BoxC\"));\r\n                                Tool_UI.instance.Set_Color_Label(this.ValueTargetC[Obj.Index].getChildByName(\"Label\"), color(0, 155, 0, 255));\r\n                                // Tool_Animation.instance.Tween_Stop_Target(this.ValueTargetC[Obj.Index]);\r\n                                // this.ValueTargetC[Obj.Index].scale = v3(0.9, 0.9, 1);\r\n                                tween(this.ValueTargetC[Obj.Index])\r\n                                    .to(0.1, { scale: v3(0.6, 0.6, 1) })\r\n                                    .to(0.1, { scale: v3(0.9, 0.9, 1) })\r\n                                    .start();\r\n                            }\r\n                            //Key\r\n                            // Tool_Animation.instance.Tween_Stop_Target(KeyP.children[Result.CorrectIndex[i][j]]);\r\n                            // KeyP.children[Result.CorrectIndex[i][j]].scale = v3(1, 1, 1);\r\n                            tween(KeyP.children[Result.CorrectIndex[i][j]])\r\n                                .to(0.1, { scale: v3(0.6, 0.6, 1) })\r\n                                .to(0.1, { scale: v3(1, 1, 1) })\r\n                                .start();\r\n                            await Tool_Animation.instance.Async_Wait(0.05 * Speed);\r\n                        }\r\n                    }\r\n                }\r\n                ICall();\r\n            }\r\n        }\r\n\r\n        let AnimF = async () => {\r\n            // for (let i = 0; i < Result.WrongIndex.length; i++) {\r\n            //     for (let j = 0; j < Result.WrongIndex[i].length; j++) {\r\n            //         //console.error(this.AnimWrongNode.indexOf(KeyP.children[Result.WrongIndex[i][j]]));\r\n\r\n            //         if (this.AnimWrongNode.indexOf(KeyP.children[Result.WrongIndex[i][j]]) == -1) {\r\n            //             this.AnimWrongNode.push(KeyP.children[Result.WrongIndex[i][j]]);\r\n            //             Tool_UI.instance.Set_SpriteFrame(KeyP.children[Result.WrongIndex[i][j]].getChildByName(\"Bg\"), await this.Resoure_Data.Load_SpriteFrame(\"SpriteFrame/Panel/PanelMathMatch/BoxE\"));\r\n            //         }\r\n            //     }\r\n            // }\r\n            for (let i = 0; i < Result.WrongIndex.length; i++) {\r\n                let ICall = async () => {\r\n                    //\r\n                    let IsPlay = false;\r\n                    let Obj = Tool_Animation.instance.Get_Min_Distance_Node(this.TouchNode.worldPosition, this.KeyTarget);\r\n\r\n                    if (Obj.Distance <= this.OnDistance) {\r\n                        for (let j = 0; j < Result.WrongIndex[i].length; j++) {\r\n                            if (this.KeyTarget[Obj.Index].name == KeyP.children[Result.WrongIndex[i][j]].name) {\r\n                                IsPlay = true;\r\n                                //console.log(\"AnimF\");\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (IsPlay) {\r\n                        this.Resoure_Data.Sound_Play(\"Audio/Wrong\");\r\n                        for (let j = 0; j < Result.WrongIndex[i].length; j++) {\r\n                            //Value\r\n                            if (Number.isNaN(Number(KeyP.children[Result.WrongIndex[i][j]].getChildByName(\"Label\").getComponent(Label).string))) {\r\n                                continue;\r\n                            }\r\n                            let Obj = Tool_Animation.instance.Get_Min_Distance_Node(KeyP.children[Result.WrongIndex[i][j]].worldPosition, this.ValueTargetC);\r\n                            if (Obj.Distance <= this.OnDistance) {\r\n                                Tool_UI.instance.Set_SpriteFrame(this.ValueTargetC[Obj.Index].getChildByName(\"Bg\"), await this.Resoure_Data.Load_SpriteFrame(\"SpriteFrame/Panel/PanelMathMatch/BoxE\"));\r\n                                Tool_UI.instance.Set_Color_Label(this.ValueTargetC[Obj.Index].getChildByName(\"Label\"), color(155, 0, 0, 255));\r\n\r\n                                // Tool_Animation.instance.Tween_Stop_Target(this.ValueTargetC[Obj.Index]);\r\n                                // Tool_Animation.instance.Tween_Stop_Target(KeyP.children[Result.WrongIndex[i][j]]);\r\n\r\n                                tween(this.ValueTargetC[Obj.Index])\r\n                                    .to(0.1, { angle: 10 })\r\n                                    .to(0.1, { angle: -20 })\r\n                                    .to(0.1, { angle: 20 })\r\n                                    .to(0.1, { angle: -20 })\r\n                                    .to(0.1, { angle: 10 })\r\n                                    .to(0.1, { angle: 0 })\r\n                                    .start();\r\n                                tween(KeyP.children[Result.WrongIndex[i][j]])\r\n                                    .to(0.1, { angle: 10 })\r\n                                    .to(0.1, { angle: -20 })\r\n                                    .to(0.1, { angle: 20 })\r\n                                    .to(0.1, { angle: -20 })\r\n                                    .to(0.1, { angle: 10 })\r\n                                    .to(0.1, { angle: 0 })\r\n                                    .start();\r\n                                // tween(this.ValueTargetC[Obj.Index])\r\n                                //     .by(0.1, { scale: v3(-0.4, -0.4, 1) })\r\n                                //     .by(0.1, { scale: v3(0.4, 0.4, 1) })\r\n                                //     .start();\r\n                            }\r\n                            //Key\r\n                            // tween(KeyP.children[Result.WrongIndex[i][j]])\r\n                            //     .by(0.1 * Speed, { scale: v3(-0.4, - 0.4, 1) })\r\n                            //     .by(0.1 * Speed, { scale: v3(0.4, 0.4, 1) })\r\n                            //     .start();\r\n                            // await Tool_Animation.instance.Async_Wait(0.05 * Speed);\r\n                        }\r\n                    }\r\n                }\r\n                ICall();\r\n            }\r\n        }\r\n\r\n\r\n        var Speed = 1;\r\n        await AnimReset();\r\n        await Tool_Animation.instance.Async_Wait(0.2);\r\n        this.Interactable = true;\r\n\r\n        if (Count == this.GameData.Count) {\r\n            //console.log(\"\");\r\n            await Tool_Animation.instance.Async_Wait(0.5);\r\n            this.GameVictory();\r\n        }\r\n        Tool_Console.instance.Console_Style(Count, {\r\n            Font_Color: 'rgba(255, 99, 71, 1)',\r\n            Font_Size: '20px',\r\n            Font_Weight: 'lighter',\r\n            Font_Style: 'normal',\r\n            Font_Family: \"'fantasy',cursive\",\r\n            Text_Decoration: 'none',\r\n            Text_Shadow: \"2px 2px 2px rgba(0, 0, 0, 0.5)\",\r\n            Background_Color: 'rgba(155, 155, 155, 0.2)',\r\n            Padding: \"10px 20px\",\r\n            Margin: \"10px auto\",\r\n            Border: \"1px dashed rgba(0, 255, 0, 1)\",\r\n            Border_Radius: \"5px\",\r\n        })\r\n        // console.log(this.KeyExitState);\r\n\r\n\r\n        return Result;\r\n    }\r\n\r\n\r\n\r\n    UpdateProp() {\r\n\r\n        this.BtnTip.getChildByName(\"PropNum\").getChildByName(\"Label\").getComponent(Label).string = this.Game_Script.PropNum + \"\";\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n"]}