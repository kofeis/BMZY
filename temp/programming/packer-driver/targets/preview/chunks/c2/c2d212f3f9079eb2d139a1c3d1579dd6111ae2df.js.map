{"version":3,"sources":["file:///D:/Ugit_Project/MathMatchs/assets/Script/Game/GameMode/PanelMathMatch.ts"],"names":["_decorator","color","find","Label","tween","v3","Animation","Sprite","RichText","sys","sp","PanelTemplate","Tool_Event","Tool_Animation","Tool_UI","Tool_Other","Tool_Console","PlatformApi","GravityPlatform","ccclass","property","PanelMathMatch","Interactable","GameTimeAll","GameTimeIng","GameTime","JGTime","BtnBreak","PanelFH","GameData","KeyTarget","KeyExitState","KeyExitValue","KeyShadowIndex","LastKeyIndex","ValueTarget","ValuePos","ValueTargetC","KeyShadow","OnDistance","AnimCorrectNode","AnimWrongNode","TouchNode","TipLabel","TipNode","TipAnim","Obj_Start","num","Time","Time_Max","Step","onLoad","onEnable","IsInit","LoadPanel","GameStart","start","Timing","instance","Async_Function_Target","Anim_Frame_Play_Plus","BtnTip","getChildByName","getComponent","TimStop","Tween_Stop_Target","Promise","resolve","reject","BtnSetting","node","PanelTip","BtnTipClose","BtnTipGet","PanelVictory","PanelFail","BtnNext","BtnExit","OnBtn","Game_Script","AnimSwitch","Resoure_Data","Load_Prefab","BtnSettingCall","Sound_Play","Vibration_Switch_Get","vibrateShort","UpdatePanelSetting","BtnBreakCall","active","IsShare","Event_On","MathMatchLevel","MathMatchScore","Score","DataSet","Music_Resume","BtnReStartCall","shareAppMessage","window","wx","console","log","BtnNextCall","BlockInputEvents","StarsData","Pos","Angle","Stars","AddScoreAnim","I","Star","children","parent","to","position","x","y","angle","scale","Async_Wait","ScoreLabel2","TPos","Get_Target_Node_Local_Pos","ScoreLabel1","Animation_Node_Move_Time","call","by","string","Number","BtnTipCall","grayscale","PropNum","TipCall","BtnTipCloseCall","BtnTipGetCall","TimerStop","showVideoAd","TimeHF","P","N","Set_Prefab_Node","easing","add","a","b","Animation_Node_Move_Bezier_Time","UpdateProp","destroy","ValueNumber","i","length","push","undefined","NullGIndex","Get_Random_Int","j","Result","Obj","Get_Min_Distance_Node","worldPosition","Distance","Num","Index","warn","Set_Color_Label","indexOf","IsExit","Arr_Check_Index","Key","Value","Temp","ColorOff","ColorOn","Set_SpriteFrame","Load_SpriteFrame","Node_Index_Set","OriginalNode","OriginalLastKeyIndex","CurrentLastKeyIndex","TipStart","Arr_Increase","KeyNodeIndexT","KeyNodeValueT","Set_Color_Sprite","UpdateUIValue","On_Event_TOUCH_END","ComponentLabel","Timer","play","GameFailed","Set_Btn_Event_Anim","clone","InitData","UpdateScore","F","Json","Load_Json","JsonData","Ran","Copy_Deep","IsHint","IsContinue","InitInterface","Hand","Anim_Frame_Play","destroyAllChildren","Str","Shadow","ComponentLabel1","Off_Event_TOUCH_All","Check_Shadow","On_Event_TOUCH_START","On_Event_TOUCH_Drag","Event","Pos_Touch_Start","Pos_Touch_End","MoveNode","OnMessage","PosStart","PosEnd","AnimA","TipReset","OriginalNodePos","LastKeyIndexTemp","KeyNodeIndexL","KeyNodeValueL","FindAllEquationIndices_","Arr_Delete","Wait","Len","Set_Pos_Word_Same","IsAudio","sort","valueA","parseFloat","valueB","platform","Platform","WECHAT_GAME","WECHAT_MINI_PROGRAM","onLevelStart","error","GameVictory","onLevelSuccess","T","StarsAnim","CD","Anim_Skeleton_Play","Skeleton","GameResult","BreakNode","SetNode","Spine","SpineNode1","SpineNode2","repeatForever","delay","Rows","Cols","Count","CorrectIndex","WrongIndex","ResultAll","CheckResult","GetResult","expression","processed","op","left","right","result","Error","splice","toString","ErrorChar","ValueResult","isNaN","Indexs","Chars","Sort_Reverse","KeyResult","IsEqual","Math","floor","KeyP","ValueP","AnimReset","AnimV","AnimF","ICall","IsPlay","name","Speed","Console_Style","Font_Color","Font_Size","Font_Weight","Font_Style","Font_Family","Text_Decoration","Text_Shadow","Background_Color","Padding","Margin","Border","Border_Radius"],"mappings":"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","sourcesContent":["import { _decorator, color, Component, find, Label, Layout, log, math, Node, Prefab, Tween, tween, v3, Vec3, Animation, Sprite, RichText, sys, sp, easing } from 'cc';\r\nimport { PanelTemplate } from './PanelTemplate';\r\nimport { Tool_Event } from '../../Tool/Tool_Event';\r\nimport { Tool_Animation } from '../../Tool/Tool_Animation';\r\nimport { Tool_UI } from '../../Tool/Tool_UI';\r\nimport { Tool_Other } from '../../Tool/Tool_Other';\r\nimport { Tool_Console } from '../../Tool/Tool_Console';\r\nimport { PlatformApi } from '../../Other/SDK/PlatformApi';\r\nimport { GravityPlatform } from '../../Other/GeSdk/GravityPlatform';\r\nconst { ccclass, property } = _decorator;\r\n\r\n\r\n\r\n/**数据接口 */\r\nexport interface DataMathMatch {\r\n    Level: number, Key: string[], Value: number[], Result: number[], Count: number;\r\n}\r\n\r\n@ccclass('PanelMathMatch')\r\nexport class PanelMathMatch extends PanelTemplate {\r\n\r\n    Interactable: boolean = true;\r\n\r\n\r\n    //总时间\r\n    GameTimeAll: number = 180;\r\n    //计时时间\r\n    GameTimeIng: number = 0\r\n    //剩余时间\r\n    GameTime: number = 0;\r\n\r\n    JGTime: number = 30;\r\n\r\n\r\n    /**返回按钮 */\r\n    BtnBreak: Node = null;\r\n    PanelFH: Node = null;\r\n    GameData: DataMathMatch = null;\r\n\r\n    /**有效目标 */\r\n    KeyTarget: Node[] = [];\r\n    /**存在状态 */\r\n    KeyExitState: boolean[] = [];\r\n\r\n    /**存在节点 */\r\n    KeyExitValue: Node[] = [];\r\n\r\n\r\n    /**阴影索引 */\r\n    KeyShadowIndex: number = -1;\r\n\r\n\r\n    //Value节点上一次在Key节点的位置\r\n    LastKeyIndex: number[] = [];\r\n    /**有效目标 */\r\n    ValueTarget: Node[] = [];\r\n    ValuePos: Vec3[] = [];\r\n    /**Value有效目标副本 */\r\n    ValueTargetC: Node[] = [];\r\n\r\n    KeyShadow: Prefab = null;\r\n    /**有效距离 */\r\n    OnDistance: number = 50;\r\n\r\n\r\n    /**正确动画节点 */\r\n    AnimCorrectNode: Node[] = [];\r\n    /**错误动画节点 */\r\n    AnimWrongNode: Node[] = [];\r\n    TouchNode: Node = null;\r\n\r\n    TipLabel: Node = null;\r\n    TipNode: Node = null;\r\n\r\n\r\n    TipAnim: Node[] = [];\r\n\r\n    Obj_Start = { num: 0 }\r\n    Time: number = 0;\r\n    Time_Max: number = 15;//15\r\n\r\n\r\n    Step = -1;\r\n\r\n\r\n\r\n    async onLoad() {\r\n        super.onLoad();\r\n    }\r\n\r\n    async onEnable() {\r\n        if (!this.IsInit) {\r\n            await this.LoadPanel();\r\n        }\r\n        this.GameStart();\r\n        //    this.Resoure_Data.Music_Play(\"Audio/BgmGame\");\r\n    }\r\n\r\n    start() {\r\n\r\n    }\r\n\r\n    Timing() {\r\n        this.Obj_Start = { num: 0 };\r\n        Tool_Animation.instance.Async_Function_Target(this.Time_Max, this.Obj_Start, () => {\r\n            //console.log(\"无操作播放\");\r\n            Tool_Animation.instance.Anim_Frame_Play_Plus(this.BtnTip.getChildByName(\"Icon\").getComponent(Animation), null, null, null, null, null, 3, 0, () => {\r\n                this.Timing();\r\n            });\r\n        })\r\n    }\r\n    TimStop() {\r\n        //console.log(\"重置无操作播放计时\");\r\n        Tool_Animation.instance.Tween_Stop_Target(this.Obj_Start);\r\n        this.Timing();\r\n    }\r\n\r\n\r\n\r\n    /**加载面板 */\r\n    async LoadPanel(): Promise<void> {\r\n        return new Promise(async (resolve, reject) => {\r\n            /**绑定关键节点 */\r\n            this.BtnSetting = find(\"BtnSetting\", this.node);\r\n\r\n            this.PanelTip = find(\"PanelTip\", this.node);\r\n            this.BtnTip = find(\"BtnTip\", this.node);\r\n            this.BtnTipClose = find(\"BtnTipClose\", this.PanelTip);\r\n            this.BtnTipGet = find(\"BtnTipGet\", this.PanelTip);\r\n\r\n            this.PanelFH = find(\"PanelFH\", this.node);\r\n\r\n\r\n            this.PanelVictory = find(\"PanelVictory\", this.node);\r\n            this.PanelFail = find(\"PanelFail\", this.node);\r\n            this.BtnNext = find(\"BtnNext\", this.PanelVictory);\r\n\r\n            // this.BtnGet = find(\"BtnGet\", this.PanelTip);\r\n            this.BtnExit = find(\"BtnExit\", this.node);\r\n            /**注册按钮事件 */\r\n            await this.OnBtn(this.Game_Script.AnimSwitch);\r\n            this.IsInit = true;\r\n            resolve();\r\n            this.KeyShadow = await this.Resoure_Data.Load_Prefab(\"Prefab/PanelMathMatch/KeyShadow\");\r\n        });\r\n    }\r\n\r\n    /**注册按钮 */\r\n    async OnBtn(AnimSwitch: boolean = false) {\r\n\r\n        /**设置按钮 */\r\n        const BtnSettingCall = () => {\r\n            this.Resoure_Data.Sound_Play(\"Audio/BtnClick\");\r\n            if (this.Resoure_Data.Vibration_Switch_Get()) {\r\n                PlatformApi.instance.vibrateShort();\r\n            }\r\n            this.Game_Script.UpdatePanelSetting(true);\r\n        }\r\n\r\n        /**关闭按钮 */\r\n        const BtnBreakCall = () => {\r\n            this.Resoure_Data.Sound_Play(\"Audio/BtnClick\");\r\n            if (this.Resoure_Data.Vibration_Switch_Get()) {\r\n                PlatformApi.instance.vibrateShort();\r\n            }\r\n            this.node.active = false;\r\n        }\r\n\r\n\r\n        let IsShare: boolean = false;\r\n        Tool_Event.instance.Event_On(\"WXOnShow\", () => {\r\n            if (!IsShare) {\r\n                return;\r\n            }\r\n            IsShare = false;\r\n            this.Game_Script.MathMatchLevel--;\r\n            this.Game_Script.MathMatchScore -= this.Score;\r\n            this.Game_Script.DataSet();\r\n            this.GameStart();\r\n            this.Resoure_Data.Music_Resume();\r\n        }, this);\r\n\r\n        /**重新游戏 */\r\n        const BtnReStartCall = async () => {\r\n            this.Resoure_Data.Sound_Play(\"Audio/BtnClick\");\r\n            if (this.Resoure_Data.Vibration_Switch_Get()) {\r\n                PlatformApi.instance.vibrateShort();\r\n            }\r\n            PlatformApi.instance.shareAppMessage(() => { });\r\n            if (window.wx) {\r\n                IsShare = true;\r\n                console.log(\"重新游戏wx\");\r\n            } else {\r\n                console.log(\"重新游戏\");\r\n                //  await Tool_Animation.instance.Async_Wait(2);\r\n                console.log(this.Game_Script.MathMatchLevel);\r\n                this.Game_Script.MathMatchLevel--;\r\n                console.log(this.Game_Script.MathMatchLevel);\r\n                this.Game_Script.MathMatchScore -= this.Score;\r\n                this.Game_Script.DataSet();\r\n                this.GameStart();\r\n            }\r\n        }\r\n        /**下一关按钮 */\r\n        const BtnNextCall = async () => {\r\n            this.Resoure_Data.Sound_Play(\"Audio/BtnClick\");\r\n            if (this.Resoure_Data.Vibration_Switch_Get()) {\r\n                PlatformApi.instance.vibrateShort();\r\n            }\r\n            this.Game_Script.BlockInputEvents.active = true;\r\n            let StarsData: { Pos: Vec3[], Angle: number[] } = {\r\n                Pos: [\r\n                    v3(-175, 150, 0), v3(0, 180, 0), v3(175, 150, 0),\r\n                ], Angle: [\r\n                    50, 25, 0\r\n                ]\r\n            };\r\n            let Stars = find(\"WinBanner/Stars\", this.PanelVictory)\r\n            const AddScoreAnim = async () => {\r\n                for (let I = 0; I < this.Score; I++) {\r\n                    let Star = Stars.children[I].children[0].parent;\r\n                    tween(Star)\r\n                        .to(0.25, { position: v3(StarsData.Pos[1].x, StarsData.Pos[1].y - 50, 0) })\r\n                        .start();\r\n                    tween(Star)\r\n                        .to(0.25, { angle: StarsData.Angle[1] })\r\n                        .start();\r\n                    tween(Star)\r\n                        .to(0.25, { scale: v3(0.5, 0.5, 1) })\r\n                        .start();\r\n                }\r\n                await Tool_Animation.instance.Async_Wait(0.3);\r\n                for (let I = 0; I < this.Score; I++) {\r\n                    let Star = Stars.children[I].children[0].parent;\r\n                    console.log(this.Game_Script.ScoreLabel2.node.parent.getChildByName(\"Icon\"));\r\n\r\n                    let TPos = Tool_UI.instance.Get_Target_Node_Local_Pos(Star, this.Game_Script.ScoreLabel1.node.parent.getChildByName(\"Icon\"));\r\n\r\n                    Tool_Animation.instance.Animation_Node_Move_Time(Star, TPos, 0.25);\r\n                    tween(Star)\r\n                        .to(0.25, { scale: v3(0.25, 0.25, 1) })\r\n                        .call(() => {\r\n                            tween(this.Game_Script.ScoreLabel1.node.parent.getChildByName(\"Icon\"))\r\n                                .by(0.1, { scale: v3(-0.2, -0.2, 0) })\r\n                                .by(0.1, { scale: v3(0.2, 0.2, 0) })\r\n                                .start();\r\n                            this.Game_Script.ScoreLabel1.string = Number(this.Game_Script.ScoreLabel1.string) + 1 + \"\";\r\n                            this.Resoure_Data.Sound_Play(\"Audio/AddScore\");\r\n                        })\r\n                        .start();\r\n                    await Tool_Animation.instance.Async_Wait(0.15);\r\n                }\r\n            }\r\n            await AddScoreAnim();\r\n            await Tool_Animation.instance.Async_Wait(0.6);\r\n            this.GameStart();\r\n        }\r\n\r\n        const BtnTipCall = async () => {\r\n            if (this.BtnTip.getComponent(Sprite).grayscale) {//this.ValueTarget.length \r\n                return;\r\n            }\r\n            this.Resoure_Data.Sound_Play(\"Audio/BtnClick\");\r\n            if (this.Resoure_Data.Vibration_Switch_Get()) {\r\n                PlatformApi.instance.vibrateShort();\r\n            }\r\n            if (this.Game_Script.PropNum > 0) {\r\n                TipCall();\r\n            } else {\r\n                this.PanelTip.active = true;\r\n            }\r\n\r\n        }\r\n        const BtnTipCloseCall = async () => {\r\n            this.Resoure_Data.Sound_Play(\"Audio/BtnClick\");\r\n            if (this.Resoure_Data.Vibration_Switch_Get()) {\r\n                PlatformApi.instance.vibrateShort();\r\n            }\r\n            this.PanelTip.active = false;\r\n        }\r\n        const BtnTipGetCall = async () => {\r\n            this.Resoure_Data.Sound_Play(\"Audio/BtnClick\");\r\n            if (this.Resoure_Data.Vibration_Switch_Get()) {\r\n                PlatformApi.instance.vibrateShort();\r\n            }\r\n            this.Game_Script.TimerStop();\r\n            PlatformApi.instance.showVideoAd(async () => {\r\n                this.Resoure_Data.Music_Resume()\r\n                this.TimeHF();\r\n\r\n                this.PanelTip.active = false;\r\n                let P = await this.Resoure_Data.Load_Prefab(\"Prefab/PanelMathMatch/Icon\");\r\n                let N = Tool_UI.instance.Set_Prefab_Node(P, this.node, v3(0, 0, 0));\r\n                // N.scale = v3(0, 0, 1);\r\n\r\n                this.Game_Script.PropNum += 2;\r\n                this.Game_Script.DataSet();\r\n                this.Resoure_Data.Sound_Play(\"Audio/PropA\");\r\n                //console.log(\"播放道具抖动音效\");\r\n\r\n                tween(N)\r\n                    .to(0.1, { angle: -10 }, { easing: \"backInOut\" })\r\n                    .to(0.1, { angle: 10 }, { easing: \"backInOut\" })\r\n                    .to(0.1, { angle: -10 }, { easing: \"backInOut\" })\r\n                    .to(0.1, { angle: 10 }, { easing: \"backInOut\" })\r\n                    .to(0.1, { angle: -10 }, { easing: \"backInOut\" })\r\n                    .call(() => {\r\n                        tween(N)\r\n                            .to(0.5, { scale: v3(0.5, 0.5, 1) })\r\n                            .start()\r\n                        let Pos = Tool_UI.instance.Get_Target_Node_Local_Pos(N, this.BtnTip).add(v3(10, 40, 0));\r\n                        let a = v3(Pos.x + 250, 1000, 0)\r\n                        let b = v3(N.position.x, -200, 0)\r\n                        Tool_Animation.instance.Animation_Node_Move_Bezier_Time(N, Pos, 1, a, b, 0.5, () => {\r\n                            this.Resoure_Data.Sound_Play(\"Audio/PropGet\");\r\n                            //console.log(\"播放道具获取音效\");\r\n                            this.UpdateProp();\r\n                            N.destroy();\r\n                        })\r\n\r\n                    })\r\n                    .start()\r\n            }, () => {\r\n                this.Resoure_Data.Music_Resume()\r\n                this.TimeHF();\r\n            })\r\n        }\r\n\r\n\r\n        /**提示 */\r\n        const TipCall = async () => {\r\n\r\n            // this.Game_Script.OnMessage(\"没有更多关卡了\");\r\n            //console.error(this.ValueTarget);\r\n\r\n            if (this.TipLabel != null || this.TipNode != null) {\r\n                return;\r\n            }\r\n\r\n            //剩下的数字\r\n            let ValueNumber: number[] = [];\r\n            for (let i = 0; i < this.ValueTarget.length; i++) {\r\n                ValueNumber.push(Number(this.ValueTarget[i].getChildByName(\"Label\").getComponent(Label).string));\r\n            }\r\n            if (ValueNumber == undefined) {\r\n                // Tool_UI.instance.Set_Color_Label(this.TipLabel, color(0, 0, 0, 255));\r\n                // this.TipLabel.getComponent(Label).string = \"\";\r\n                // this.TipLabel.scale = v3(1, 1, 1);\r\n                // Tool_Animation.instance.Tween_Stop_Target(this.TipLabel);\r\n                this.TipLabel = null;\r\n                this.TipNode = null;\r\n                return;\r\n            }\r\n\r\n            this.Game_Script.PropNum--;\r\n            this.Game_Script.DataSet();\r\n            this.UpdateProp();\r\n\r\n            //console.log(\"剩下的数字\", ValueNumber);\r\n\r\n            let NullGIndex = Tool_Other.instance.Get_Random_Int(0, ValueNumber.length - 1);\r\n\r\n            //索引\r\n            //console.log(\"V索引\", NullGIndex);\r\n            //答案\r\n            //console.log(\"答案\", ValueNumber[NullGIndex]);\r\n\r\n            for (let j = 0; j < this.GameData.Result.length; j++) {\r\n                //如何是正确答案\r\n                if (this.GameData.Result[j] == ValueNumber[NullGIndex]) {\r\n                    let Obj = Tool_Animation.instance.Get_Min_Distance_Node(this.KeyTarget[j].worldPosition, this.ValueTargetC);\r\n                    if (Obj.Distance < this.OnDistance) {\r\n                        let Num = Number(this.ValueTargetC[Obj.Index].getChildByName(\"Label\").getComponent(Label).string);\r\n                        console.warn(\"当前答案\", Num);\r\n                        if (Num == ValueNumber[NullGIndex]) {\r\n                            continue;\r\n                        } else {\r\n                            this.TipLabel = this.KeyTarget[j].getChildByName(\"Label\");\r\n                            this.TipLabel.getComponent(Label).string = ValueNumber[NullGIndex] + \"\";\r\n                            Tool_UI.instance.Set_Color_Label(this.TipLabel, color(0, 155, 0, 255));\r\n                            //console.error(\"K索引\", j);\r\n                            //console.error(Obj);\r\n                            this.TipNode = this.ValueTarget[NullGIndex];\r\n                            let TouchNode = this.ValueTargetC[Obj.Index];\r\n                            Obj = Tool_Animation.instance.Get_Min_Distance_Node(TouchNode.worldPosition, this.KeyTarget);\r\n                            let i = this.ValueTargetC.indexOf(TouchNode);\r\n                            console.log(\"i------\", i);\r\n\r\n                            let IsExit: boolean = Tool_UI.instance.Arr_Check_Index(this.ValueTarget, TouchNode) == -1 ? false : true;\r\n                            let Key = find(\"Key\", this.node);\r\n                            let Value = find(\"Value\", this.node);\r\n                            let Temp = find(\"Temp\", this.node);\r\n                            let ColorOff: math.Color = color(255, 255, 155, 255);\r\n                            let ColorOn: math.Color = color(155, 255, 155, 255);\r\n                            Tool_Animation.instance.Tween_Stop_Target(TouchNode);\r\n                            TouchNode.scale = v3(1, 1, 1);\r\n                            TouchNode.angle = 0;\r\n                            Tool_UI.instance.Set_SpriteFrame(TouchNode.getChildByName(\"Bg\"), await this.Resoure_Data.Load_SpriteFrame(\"SpriteFrame/Panel/PanelMathMatch/BoxC\"));\r\n                            Tool_UI.instance.Set_Color_Label(TouchNode.getChildByName(\"Label\"), color(0, 155, 0, 255));\r\n                            Tool_UI.instance.Node_Index_Set(TouchNode, -1);\r\n\r\n                            // 1. 获取原节点（当前占用目标位置的节点）\r\n                            const OriginalNode = this.KeyExitValue[Obj.Index];\r\n                            // 2. 将原节点移回默认位置（或 LastKeyIndex 的位置）\r\n                            //原上次索引\r\n                            let OriginalLastKeyIndex = Tool_UI.instance.Arr_Check_Index(this.ValueTargetC, OriginalNode)\r\n                            //现上次索引\r\n                            let CurrentLastKeyIndex = Tool_UI.instance.Arr_Check_Index(this.ValueTargetC, TouchNode)\r\n                            // //console.log(OriginalLastKeyIndex, CurrentLastKeyIndex);\r\n                            // //console.log(\"原上次索引\", this.LastKeyIndex[OriginalLastKeyIndex], \"现上次索引\", this.LastKeyIndex[CurrentLastKeyIndex]);\r\n\r\n                            this.TipStart();\r\n                            // //console.log(\"是否存在\", IsExit);\r\n                            if (!IsExit) {\r\n                                Tool_UI.instance.Arr_Increase(this.ValueTarget, TouchNode);\r\n                                //题目节点的索引\r\n                                let KeyNodeIndexT: number = Key.children.indexOf(this.KeyTarget[this.LastKeyIndex[CurrentLastKeyIndex]]);\r\n                                let KeyNodeValueT: string = \"N\";\r\n                                this.GameData.Key[KeyNodeIndexT] = KeyNodeValueT;\r\n                                console.log(\"赋值的索引\", KeyNodeIndexT, \"赋值的数据\", KeyNodeValueT);\r\n                                // //console.log(this.GameData);\r\n                                if (this.LastKeyIndex[i] != null) {\r\n                                    this.KeyExitState[this.LastKeyIndex[i]] = false;\r\n                                    this.KeyExitValue[this.LastKeyIndex[i]] = null;\r\n                                    Tool_UI.instance.Set_Color_Sprite(this.KeyTarget[this.LastKeyIndex[i]].getChildByName(\"Bg\").getChildByName(\"Sp\"), ColorOff);\r\n                                }\r\n                                // 重置当前目标位置的状态（如果之前已被占用）\r\n                                if (this.KeyExitState[Obj.Index]) {\r\n                                    this.KeyExitState[Obj.Index] = false;\r\n                                    //console.error(this.KeyExitState[Obj.Index], \"1---------------------\", Obj.Index);\r\n                                    this.KeyExitValue[Obj.Index] = null;\r\n                                    Tool_UI.instance.Set_Color_Sprite(this.KeyTarget[Obj.Index].getChildByName(\"Bg\").getChildByName(\"Sp\"), ColorOff);\r\n                                }\r\n\r\n                                this.LastKeyIndex[i] = null;\r\n                                console.log(this.LastKeyIndex, i);\r\n\r\n                            }\r\n                            this.UpdateUIValue();\r\n                            return;\r\n                        }\r\n\r\n                    } else {\r\n                        this.TipLabel = this.KeyTarget[j].getChildByName(\"Label\");\r\n                        this.TipLabel.getComponent(Label).string = ValueNumber[NullGIndex] + \"\";\r\n                        Tool_UI.instance.Set_Color_Label(this.TipLabel, color(0, 155, 0, 255));\r\n                        // //console.error(\"K索引\", j);\r\n                        // //console.error(Obj);\r\n                        this.TipNode = this.ValueTarget[NullGIndex];\r\n                        this.TipStart();\r\n                        return\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n        /**设置按钮事件 */\r\n        Tool_Event.instance.On_Event_TOUCH_END(this.BtnSetting, BtnSettingCall);\r\n\r\n        Tool_Event.instance.On_Event_TOUCH_END(this.BtnTip, BtnTipCall);\r\n        Tool_Event.instance.On_Event_TOUCH_END(this.BtnTipClose, BtnTipCloseCall);\r\n        Tool_Event.instance.On_Event_TOUCH_END(this.BtnTipGet, BtnTipGetCall);\r\n\r\n\r\n        Tool_Event.instance.On_Event_TOUCH_END(this.BtnNext, BtnNextCall);\r\n\r\n        Tool_Event.instance.On_Event_TOUCH_END(this.BtnExit, BtnBreakCall);\r\n\r\n\r\n\r\n        Tool_Event.instance.On_Event_TOUCH_END(this.PanelVictory.getChildByName(\"BtnNext\"), BtnNextCall);\r\n        Tool_Event.instance.On_Event_TOUCH_END(this.PanelVictory.getChildByName(\"BtnReStart\"), BtnReStartCall);\r\n\r\n        Tool_Event.instance.On_Event_TOUCH_END(this.PanelFail.getChildByName(\"BtnNext\"), BtnNextCall);\r\n        Tool_Event.instance.On_Event_TOUCH_END(this.PanelFail.getChildByName(\"BtnBreak\"), BtnBreakCall);\r\n\r\n        //复活\r\n        Tool_Event.instance.On_Event_TOUCH_END(this.PanelFH.getChildByName(\"Btn\"), () => {\r\n            this.Resoure_Data.Sound_Play(\"Audio/BtnClick\");\r\n            if (this.Resoure_Data.Vibration_Switch_Get()) {\r\n                PlatformApi.instance.vibrateShort();\r\n            }\r\n            PlatformApi.instance.showVideoAd(() => {\r\n                this.Resoure_Data.Music_Resume()\r\n                this.PanelFH.active = false;\r\n                this.GameTime = this.GameTimeAll;\r\n                let ComponentLabel = find(\"Title/Bgg/Timer\", this.node).getComponent(Label);\r\n                this.Game_Script.Timer(ComponentLabel, this.GameTime, () => {\r\n                    this.PanelFH.active = true;\r\n                    this.Resoure_Data.Sound_Play(\"Audio/FH\");\r\n                    this.Game_Script.TimerStop();\r\n                    find(\"JG\", this.node).active = false;\r\n                }, \"S\", () => {\r\n                    this.GameTimeIng++;\r\n                    this.GameTime--;\r\n                    if (this.GameTime <= this.JGTime && !find(\"JG\", this.node).active) {\r\n                        find(\"JG\", this.node).active = true;\r\n                        find(\"JG\", this.node).getComponent(Animation).play();\r\n                    }\r\n                });\r\n            }, () => {\r\n                this.Resoure_Data.Music_Resume()\r\n            })\r\n\r\n\r\n        });\r\n        Tool_Event.instance.On_Event_TOUCH_END(this.PanelFH.getChildByName(\"BtnClose\"), () => {\r\n            this.Resoure_Data.Sound_Play(\"Audio/BtnClick\");\r\n            if (this.Resoure_Data.Vibration_Switch_Get()) {\r\n                PlatformApi.instance.vibrateShort();\r\n            }\r\n            this.PanelFH.active = false;\r\n            this.GameFailed();\r\n        });\r\n\r\n        /**设置按钮动画 */\r\n        Tool_Event.instance.Set_Btn_Event_Anim(this.BtnSetting, AnimSwitch);\r\n        Tool_Event.instance.Set_Btn_Event_Anim(this.BtnTip, AnimSwitch);\r\n        Tool_Event.instance.Set_Btn_Event_Anim(this.BtnTipClose, AnimSwitch);\r\n        Tool_Event.instance.Set_Btn_Event_Anim(this.BtnTipGet, AnimSwitch);\r\n        Tool_Event.instance.Set_Btn_Event_Anim(this.BtnNext, AnimSwitch);\r\n\r\n        Tool_Event.instance.Set_Btn_Event_Anim(this.BtnExit, AnimSwitch);\r\n        Tool_Event.instance.Set_Btn_Event_Anim(this.PanelFail.getChildByName(\"BtnNext\"), AnimSwitch);\r\n        Tool_Event.instance.Set_Btn_Event_Anim(this.PanelFail.getChildByName(\"BtnBreak\"), AnimSwitch);\r\n\r\n        Tool_Event.instance.Set_Btn_Event_Anim(this.PanelFH.getChildByName(\"Btn\"), AnimSwitch);\r\n        Tool_Event.instance.Set_Btn_Event_Anim(this.PanelFail.getChildByName(\"BtnBreak\"), AnimSwitch);\r\n\r\n\r\n        let Key = find(\"Key\", this.node);\r\n        let Value = find(\"Value\", this.node);\r\n        for (let i = 0; i < Value.children.length; i++) {\r\n            this.ValuePos.push(Value.children[i].position.clone());\r\n        }\r\n    }\r\n\r\n\r\n    TimeHF() {\r\n        let ComponentLabel = find(\"Title/Bgg/Timer\", this.node).getComponent(Label);\r\n        this.Game_Script.Timer(ComponentLabel, this.GameTime, () => {\r\n            this.PanelFH.active = true;\r\n            this.Resoure_Data.Sound_Play(\"Audio/FH\");\r\n            this.Game_Script.TimerStop();\r\n            find(\"JG\", this.node).active = false;\r\n        }, \"S\", () => {\r\n            this.GameTimeIng++;\r\n            this.GameTime--;\r\n            if (this.GameTime <= this.JGTime && !find(\"JG\", this.node).active) {\r\n                find(\"JG\", this.node).active = true;\r\n                find(\"JG\", this.node).getComponent(Animation).play();\r\n            }\r\n        });\r\n    }\r\n\r\n    /**初始化数据 */\r\n    async InitData() {\r\n\r\n        this.Game_Script.UpdateScore();\r\n\r\n        //console.log(\"初始化数据\");\r\n        /**注册按钮事件 */\r\n        // await this.OnBtn(this.Game_Script.AnimSwitch);\r\n        this.KeyTarget = [];\r\n        this.KeyExitState = [];\r\n        this.KeyExitValue = [];\r\n\r\n        this.ValueTarget = [];\r\n        this.ValueTargetC = [];\r\n        this.LastKeyIndex = [];\r\n\r\n        this.AnimCorrectNode = [];\r\n        this.AnimWrongNode = [];\r\n\r\n        this.Interactable = true;\r\n\r\n        this.TouchNode = null;\r\n        this.TipLabel = null;\r\n        this.TipNode = null;\r\n        this.GameTimeIng = 0;\r\n\r\n        // this.Game_Script.MathMatchLevel = 6;\r\n\r\n        let F = {\r\n            \"Level\": 6,\r\n            \"Key\": [\r\n                \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\",\r\n                \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\",\r\n                \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\",\r\n                \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\",\r\n                \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\",\r\n                \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\",\r\n                \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\",\r\n                \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\",\r\n                \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\",\r\n                \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\",\r\n                \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\"\r\n            ],\r\n            \"Value\": [],\r\n            \"Result\": [],\r\n            \"Count\": 0\r\n        }\r\n\r\n\r\n        const Json = await this.Resoure_Data.Load_Json(\"Json/mathmatch\");\r\n        const JsonData = Json[\"Data\"];\r\n        //console.log(JsonData);\r\n\r\n        this.GameData = null;\r\n\r\n        if (this.Game_Script.MathMatchLevel < 0) {\r\n            this.Game_Script.MathMatchLevel = 0;\r\n            //console.log(\"关卡为负\");\r\n            this.Game_Script.DataSet();\r\n        }\r\n\r\n        if (this.Game_Script.MathMatchLevel >= JsonData.length) {\r\n            // this.Game_Script.OnMessage(\"没有更多关卡了\");\r\n            let Ran = Tool_Other.instance.Get_Random_Int(20, 35);\r\n            if (Ran < JsonData.length - 1) {\r\n                this.GameData = this.Resoure_Data.Copy_Deep(JsonData[Ran]);\r\n            } else {\r\n                this.GameData = this.Resoure_Data.Copy_Deep(JsonData[JsonData.length - 1]);\r\n            }\r\n        } else {\r\n            this.GameData = this.Resoure_Data.Copy_Deep(JsonData[this.Game_Script.MathMatchLevel]);\r\n        }\r\n        //console.log(this.GameData);\r\n\r\n        this.Game_Script.IsHint = false;\r\n        this.Game_Script.IsContinue = false;\r\n        this.GameTime = this.GameTimeAll;\r\n        let ComponentLabel = find(\"Title/Bgg/Timer\", this.node).getComponent(Label);\r\n        this.Game_Script.Timer(ComponentLabel, this.GameTimeAll, () => {\r\n            //console.log(\"失败\");\r\n            this.PanelFH.active = true;\r\n            this.Resoure_Data.Sound_Play(\"Audio/FH\");\r\n            this.Game_Script.TimerStop();\r\n            find(\"JG\", this.node).active = false;\r\n        }, \"S\", () => {\r\n            this.GameTimeIng++;\r\n            this.GameTime--;\r\n            if (this.GameTime <= this.JGTime && !find(\"JG\", this.node).active) {\r\n                find(\"JG\", this.node).active = true;\r\n                find(\"JG\", this.node).getComponent(Animation).play();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    /**初始化界面 */\r\n    async InitInterface() {\r\n        this.PanelVictory.active = false;\r\n        this.PanelFail.active = false;\r\n        this.PanelTip.active = false;\r\n        this.PanelFH.active = false;\r\n\r\n        let Hand = find(\"Hand\", this.node);\r\n        Hand.active = false;\r\n        find(\"ND\", this.node).active = false;\r\n        find(\"JG\", this.node).active = false;\r\n\r\n\r\n        if (this.Game_Script.MathMatchLevel == 1) {\r\n            find(\"ND\", this.node).active = true;\r\n\r\n            Tool_Animation.instance.Anim_Frame_Play(find(\"ND\", this.node).getComponent(Animation), null, null, () => {\r\n                find(\"ND\", this.node).active = false;\r\n            })\r\n        }\r\n\r\n        this.UpdateProp();\r\n        this.node.getChildByName(\"Title\").getChildByName(\"Leves\").getComponent(Label).string = `第${this.Game_Script.MathMatchLevel + 1}关`;\r\n        find(\"Temp\", this.node).destroyAllChildren();\r\n        let Key = find(\"Key\", this.node);\r\n        let Value = find(\"Value\", this.node);\r\n\r\n        for (let i = 0; i < Key.children.length; i++) {\r\n            Key.children[i].active = false;\r\n            Tool_UI.instance.Set_Color_Sprite(Key.children[i].getChildByName(\"Bg\").getChildByName(\"Sp\"), color(255, 255, 155, 255));\r\n        }\r\n\r\n        for (let i = 0; i < Value.children.length; i++) {\r\n            Value.children[i].active = false;\r\n            Value.children[i].scale = v3(1, 1, 1);\r\n            Value.children[i].angle = 0;\r\n\r\n            Tool_UI.instance.Set_SpriteFrame(Value.children[i].getChildByName(\"Bg\"), await this.Resoure_Data.Load_SpriteFrame(\"SpriteFrame/Panel/PanelMathMatch/BoxC\"));\r\n            Tool_UI.instance.Set_Color_Label(Value.children[i].getChildByName(\"Label\"), color(0, 155, 0, 255));\r\n\r\n        }\r\n\r\n        if (this.GameData == null) {\r\n            //console.log(\"配置错误\");\r\n            return;\r\n        }\r\n\r\n        for (let i = 0; i < Key.children.length; i++) {\r\n            Key.children[i].active = true;\r\n            switch (this.GameData.Key[i]) {\r\n                case \"U\":\r\n                    Key.children[i].active = false;\r\n                    break;\r\n                case \"N\":\r\n                    Key.children[i].getChildByName(\"Label\").getComponent(Label).string = \"\";\r\n                    this.KeyTarget.push(Key.children[i]);\r\n                    this.KeyExitState.push(false);\r\n                    this.KeyExitValue.push(null);\r\n                    Tool_UI.instance.Set_SpriteFrame(Key.children[i].getChildByName(\"Bg\"), await this.Resoure_Data.Load_SpriteFrame(\"SpriteFrame/Panel/PanelMathMatch/BoxN\"));\r\n                    break;\r\n                default:\r\n                    let Str: string = \"\";\r\n                    switch (this.GameData.Key[i]) {\r\n                        // case \"/\":\r\n                        //     Str = \"÷\";\r\n                        // break;\r\n                        case \"X\":\r\n                            Str = \"x\";\r\n                            break;\r\n                        default:\r\n                            Str = this.GameData.Key[i];\r\n                            break;\r\n                    }\r\n                    Key.children[i].getChildByName(\"Label\").getComponent(Label).string = Str\r\n\r\n                    Tool_UI.instance.Set_SpriteFrame(Key.children[i].getChildByName(\"Bg\"), await this.Resoure_Data.Load_SpriteFrame(\"SpriteFrame/Panel/PanelMathMatch/BoxU\"));\r\n                    break;\r\n            }\r\n        }\r\n\r\n\r\n\r\n        let Temp = find(\"Temp\", this.node);\r\n        let ColorOff: math.Color = color(255, 255, 155, 255);\r\n        let ColorOn: math.Color = color(155, 255, 155, 255);\r\n\r\n\r\n        for (let i = 0; i < Value.children.length; i++) {\r\n            const Shadow = Value.children[i].getChildByName(\"Shadow\");\r\n            const ComponentLabel1 = Value.children[i].getChildByName(\"Label\").getComponent(Label);\r\n            Shadow.active = false;\r\n            // Value.children[i].active = i < this.GameData.Value.length ? true : false;\r\n            if (i < this.GameData.Value.length ? true : false) {\r\n                this.ValueTarget.push(Value.children[i]);\r\n                this.ValueTargetC.push(Value.children[i]);\r\n                this.LastKeyIndex.push(null);\r\n                Value.children[i].position = this.ValuePos[i];\r\n                ComponentLabel1.string = this.GameData.Value[i] + \"\";\r\n\r\n                Tool_Event.instance.Off_Event_TOUCH_All(Value.children[i]);\r\n\r\n                const TouchNode = Value.children[i];\r\n                const Shadow = TouchNode.getChildByName(\"Shadow\");\r\n                const ComponentLabel = TouchNode.getChildByName(\"Label\").getComponent(Label);\r\n                const Check_Shadow = () => {\r\n                    let Obj = Tool_Animation.instance.Get_Min_Distance_Node(TouchNode.worldPosition, this.KeyTarget);\r\n                    if (Obj.Distance <= this.OnDistance) {\r\n                        if (this.KeyShadowIndex == Obj.Index) {\r\n                            return;\r\n                        }\r\n                        Temp.destroyAllChildren();\r\n                        this.KeyShadowIndex = Obj.Index;\r\n                        Tool_UI.instance.Set_Prefab_Node(this.KeyShadow, Temp, this.KeyTarget[Obj.Index], \"\")\r\n                    } else {\r\n                        Temp.destroyAllChildren();\r\n                        this.KeyShadowIndex = -1;\r\n                    }\r\n                }\r\n\r\n                Tool_Event.instance.On_Event_TOUCH_START(TouchNode, () => {\r\n                    //console.log(this.Game_Script.MathMatchLevel, this.Step, TouchNode.getChildByName(\"Label\").getComponent(Label).string);\r\n\r\n                    if (this.Game_Script.MathMatchLevel == 0) {\r\n                        if (this.Step == 0) {\r\n                            if (TouchNode.getChildByName(\"Label\").getComponent(Label).string != \"1\") {\r\n                                this.Interactable = false;\r\n                                return;\r\n                            } else {\r\n                                this.Interactable = true;\r\n                            }\r\n                        }\r\n                        if (this.Step == 1) {\r\n                            if (TouchNode.getChildByName(\"Label\").getComponent(Label).string != this.KeyExitValue[2].getChildByName(\"Label\").getComponent(Label).string) {\r\n                                this.Interactable = false;\r\n                                return;\r\n                            } else {\r\n                                this.Interactable = true;\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n\r\n                Tool_Event.instance.On_Event_TOUCH_Drag(TouchNode, () => this.Interactable, async (Event, Pos_Touch_Start) => {\r\n                    /**触摸开始回调 */\r\n\r\n                    if (this.GameData == null) {\r\n                        this.Interactable = false;\r\n                        //console.log(\"配置错误\");\r\n                        return;\r\n                    }\r\n                    this.TouchNode = TouchNode;\r\n                    //console.log(this.LastKeyIndex, i, this.ValueTargetC.indexOf(TouchNode));\r\n                    this.Resoure_Data.Sound_Play(\"Audio/NumClick\");\r\n                    if (this.Resoure_Data.Vibration_Switch_Get()) {\r\n                        PlatformApi.instance.vibrateShort();\r\n                    }\r\n                    let Obj = Tool_Animation.instance.Get_Min_Distance_Node(TouchNode.worldPosition, this.KeyTarget);\r\n                    Tool_Animation.instance.Tween_Stop_Target(this.KeyTarget[Obj.Index]);\r\n                    this.KeyTarget[Obj.Index].scale = v3(1, 1, 1);\r\n                    this.KeyTarget[Obj.Index].angle = 0;\r\n                    Tool_Animation.instance.Tween_Stop_Target(TouchNode);\r\n                    TouchNode.scale = v3(1, 1, 1);\r\n                    TouchNode.angle = 0;\r\n                    Tool_UI.instance.Set_SpriteFrame(TouchNode.getChildByName(\"Bg\"), await this.Resoure_Data.Load_SpriteFrame(\"SpriteFrame/Panel/PanelMathMatch/BoxC\"));\r\n                    Tool_UI.instance.Set_Color_Label(TouchNode.getChildByName(\"Label\"), color(0, 155, 0, 255));\r\n\r\n                    Tool_UI.instance.Node_Index_Set(TouchNode, -1);\r\n                    Shadow.active = true;\r\n                    Tool_Animation.instance.Animation_Node_Move_Time(TouchNode, Pos_Touch_Start.clone().add(v3(0, 25, 0)), 0.02, null, \"smooth\");\r\n                    let IsExit: boolean = Tool_UI.instance.Arr_Check_Index(this.ValueTarget, TouchNode) == -1 ? false : true;\r\n                    if (!IsExit) {\r\n                        tween(TouchNode)\r\n                            .to(0.25, { scale: v3(1, 1, 1) }, { easing: \"backOut\" })\r\n                            .start();\r\n                    }\r\n                    Check_Shadow();\r\n\r\n                    //console.error(this.TouchNode == this.TipNode);\r\n\r\n                    if (this.TouchNode == this.TipNode) {\r\n                        for (let i = 0; i < this.TipAnim.length; i++) {\r\n                            this.TipAnim[i].destroy();\r\n                        }\r\n                        this.TipAnim = [];\r\n                    }\r\n\r\n                }, (Event, Pos_Touch_Start) => {\r\n                    /**触摸移动回调 */\r\n                    Check_Shadow();\r\n                }, async (Event, Pos_Touch_Start, Pos_Touch_End) => {\r\n                    /**触摸结束回调 */\r\n\r\n                    Shadow.active = false;\r\n                    let IsExit: boolean = Tool_UI.instance.Arr_Check_Index(this.ValueTarget, TouchNode) == -1 ? false : true;\r\n                    let Obj = Tool_Animation.instance.Get_Min_Distance_Node(TouchNode.worldPosition, this.KeyTarget);\r\n\r\n                    // 1. 获取原节点（当前占用目标位置的节点）\r\n                    const OriginalNode = this.KeyExitValue[Obj.Index];\r\n                    // 2. 将原节点移回默认位置（或 LastKeyIndex 的位置）\r\n                    //原上次索引\r\n                    let OriginalLastKeyIndex = Tool_UI.instance.Arr_Check_Index(this.ValueTargetC, OriginalNode)\r\n                    //现上次索引\r\n                    let CurrentLastKeyIndex = Tool_UI.instance.Arr_Check_Index(this.ValueTargetC, TouchNode)\r\n                    //console.log(OriginalLastKeyIndex, CurrentLastKeyIndex);\r\n                    //console.log(\"原上次索引\", this.LastKeyIndex[OriginalLastKeyIndex], \"现上次索引\", this.LastKeyIndex[CurrentLastKeyIndex]);\r\n                    if (Obj.Distance <= this.OnDistance) {\r\n                        if (this.Game_Script.MathMatchLevel == 0) {\r\n                            this.Step++;\r\n                            if (this.Step == 1) {\r\n                                Tool_Animation.instance.Tween_Stop_Target(Hand);\r\n                                let MoveNode = this.KeyExitValue[2];\r\n                                this.Game_Script.OnMessage(\"可以把数字拖动放在另一个格子\");\r\n                                let PosStart = Tool_UI.instance.Get_Target_Node_Local_Pos(Hand, MoveNode).add(v3(30, -50));\r\n                                let PosEnd = Tool_UI.instance.Get_Target_Node_Local_Pos(Hand, this.KeyTarget[3]).add(v3(30, -50));\r\n                                const AnimA = () => {\r\n                                    Hand.position = PosStart;\r\n                                    Tool_Animation.instance.Animation_Node_Move_Time(Hand, PosEnd, 1, () => {\r\n                                        if (this.Step == 1) {\r\n                                            Tool_Animation.instance.Animation_Node_Move_Time(Hand, PosStart, 0.5, () => {\r\n                                                if (this.Step == 1) {\r\n                                                    AnimA();\r\n                                                }\r\n                                            });\r\n                                        }\r\n                                    });\r\n                                }\r\n                                AnimA();\r\n                            } else {\r\n                                Hand.active = false;\r\n                            }\r\n                        }\r\n                        this.TipReset();\r\n                        //目标位置被占用\r\n                        //console.error(this.KeyExitState[Obj.Index], this.LastKeyIndex[i], Obj.Index);\r\n                        if (this.KeyExitState[Obj.Index] && this.LastKeyIndex[i] != Obj.Index) {//\r\n                            if (this.LastKeyIndex[i] != null) {\r\n                                this.KeyTarget[Obj.Index].active = false;\r\n                                this.KeyTarget[this.LastKeyIndex[i]].active = false;\r\n                                // 将原节点移动到 LastKeyIndex 的位置\r\n                                const OriginalNodePos = Tool_UI.instance.Get_Target_Node_Local_Pos(OriginalNode, this.KeyTarget[this.LastKeyIndex[i]]);\r\n                                // this.Interactable = false;\r\n                                Tool_Animation.instance.Animation_Node_Move_Time(OriginalNode, OriginalNodePos, 0.25, async () => {\r\n                                    // this.Interactable = true;\r\n                                    this.KeyTarget[Obj.Index].active = true;\r\n                                    this.KeyTarget[this.LastKeyIndex[i]].active = true;\r\n                                    //交换索引\r\n                                    //console.log(this.LastKeyIndex, 1);\r\n                                    //console.error(OriginalLastKeyIndex, this.LastKeyIndex[OriginalLastKeyIndex]);\r\n                                    //console.error(CurrentLastKeyIndex, this.LastKeyIndex[CurrentLastKeyIndex]);\r\n                                    const LastKeyIndexTemp = this.LastKeyIndex[OriginalLastKeyIndex];\r\n                                    this.LastKeyIndex[OriginalLastKeyIndex] = this.LastKeyIndex[CurrentLastKeyIndex];\r\n                                    this.LastKeyIndex[CurrentLastKeyIndex] = LastKeyIndexTemp;\r\n                                    //交换节点的索引\r\n                                    let KeyNodeIndexL = Key.children.indexOf(this.KeyTarget[this.LastKeyIndex[OriginalLastKeyIndex]]);\r\n                                    let KeyNodeValueL = OriginalNode.getChildByName(\"Label\").getComponent(Label).string;\r\n                                    //题目节点的索引\r\n                                    let KeyNodeIndexT = Key.children.indexOf(this.KeyTarget[Obj.Index]);\r\n                                    let KeyNodeValueT = TouchNode.getChildByName(\"Label\").getComponent(Label).string;\r\n                                    this.GameData.Key[KeyNodeIndexL] = KeyNodeValueL;\r\n                                    this.GameData.Key[KeyNodeIndexT] = KeyNodeValueT;\r\n                                    // console.log(\"交换节点的索引\", KeyNodeIndexL, \"交换节点的数值\", KeyNodeValueL);\r\n                                    // console.log(\"触摸节点的索引\", KeyNodeIndexT, \"触摸节点的数值\", KeyNodeValueT);\r\n                                    // console.log(this.GameData);\r\n                                    this.FindAllEquationIndices_(this.GameData.Key);\r\n                                    Tool_Animation.instance.Tween_Stop_Target(OriginalNode);\r\n                                    OriginalNode.scale = v3(0.9, 0.9, 1);\r\n                                    OriginalNode.angle = 0;\r\n                                    Tool_UI.instance.Set_SpriteFrame(OriginalNode.getChildByName(\"Bg\"), await this.Resoure_Data.Load_SpriteFrame(\"SpriteFrame/Panel/PanelMathMatch/BoxC\"));\r\n                                    Tool_UI.instance.Set_Color_Label(OriginalNode.getChildByName(\"Label\"), color(0, 155, 0, 255));\r\n                                    // //console.error(OriginalNode, TouchNode);\r\n                                    await Tool_Animation.instance.Async_Wait(0.05);\r\n                                    this.TouchNode = OriginalNode;\r\n                                    this.FindAllEquationIndices_(this.GameData.Key);\r\n\r\n                                }, \"smooth\");\r\n                                // 更新原节点的状态为占用 LastKeyIndex\r\n                                this.KeyExitState[this.LastKeyIndex[i]] = true;\r\n                                this.KeyExitValue[this.LastKeyIndex[i]] = OriginalNode;\r\n                            } else {\r\n                                // 如果 LastKeyIndex 为 null，将原节点放回 ValueTarget 池\r\n                                Tool_UI.instance.Arr_Increase(this.ValueTarget, OriginalNode);\r\n\r\n                                Tool_UI.instance.Set_SpriteFrame(OriginalNode.getChildByName(\"Bg\"), await this.Resoure_Data.Load_SpriteFrame(\"SpriteFrame/Panel/PanelMathMatch/BoxC\"));\r\n                                Tool_UI.instance.Set_Color_Label(OriginalNode.getChildByName(\"Label\"), color(0, 155, 0, 255));\r\n\r\n                                //交换索引\r\n                                //console.log(this.LastKeyIndex, 2);\r\n                                //console.error(OriginalLastKeyIndex, this.LastKeyIndex[OriginalLastKeyIndex]);\r\n                                //console.error(CurrentLastKeyIndex, this.LastKeyIndex[CurrentLastKeyIndex]);\r\n\r\n\r\n                                const LastKeyIndexTemp = this.LastKeyIndex[OriginalLastKeyIndex];\r\n                                this.LastKeyIndex[OriginalLastKeyIndex] = this.LastKeyIndex[CurrentLastKeyIndex];\r\n                                this.LastKeyIndex[CurrentLastKeyIndex] = LastKeyIndexTemp;\r\n\r\n                                //题目节点的索引\r\n                                let KeyNodeIndexT: number = Key.children.indexOf(this.KeyTarget[Obj.Index]);\r\n                                let KeyNodeValueT: string = TouchNode.getChildByName(\"Label\").getComponent(Label).string;\r\n                                this.GameData.Key[KeyNodeIndexT] = KeyNodeValueT;\r\n                                console.log(\"赋值的索引\", KeyNodeIndexT, \"赋值的数据\", KeyNodeValueT);\r\n                                //console.log(this.GameData);\r\n\r\n\r\n                                this.FindAllEquationIndices_(this.GameData.Key, 0.2);\r\n                            }\r\n                            // 3. 将新节点(TouchNode)放置到目标位置（Obj.Index）\r\n                            this.KeyExitState[Obj.Index] = true;\r\n                            this.KeyExitValue[Obj.Index] = TouchNode;\r\n                            // 4. 更新颜色和临时状态\r\n                            Tool_UI.instance.Set_Color_Sprite(this.KeyTarget[Obj.Index].getChildByName(\"Bg\").getChildByName(\"Sp\"), ColorOn);\r\n                            if (this.LastKeyIndex[i] != null) {\r\n                                Tool_UI.instance.Set_Color_Sprite(this.KeyTarget[this.LastKeyIndex[i]].getChildByName(\"Bg\").getChildByName(\"Sp\"), ColorOn);\r\n                            }\r\n                            //放置成功 移除节点\r\n                            Tool_UI.instance.Arr_Delete(this.ValueTarget, TouchNode);\r\n                            Temp.destroyAllChildren();\r\n                            this.KeyShadowIndex = -1;\r\n                            for (let i = 0; i < this.TipAnim.length; i++) {\r\n                                this.TipAnim[i].destroy();\r\n                            }\r\n                            // 6. 更新 UI\r\n                            this.UpdateUIValue();\r\n                            let Pos = Tool_UI.instance.Get_Target_Node_Local_Pos(TouchNode, this.KeyTarget[Obj.Index]);\r\n                            await Tool_Animation.instance.Animation_Node_Move_Time(TouchNode, Pos, 0.2, null, \"smooth\");\r\n                            tween(TouchNode)\r\n                                .to(0.25, { scale: v3(0.9, 0.9, 1) }, { easing: \"backOut\" })\r\n                                .start();\r\n                            return;\r\n                        }\r\n\r\n                        if (IsExit) {\r\n                            //放置成功 移除节点\r\n                            Tool_UI.instance.Arr_Delete(this.ValueTarget, TouchNode);\r\n                            //题目节点的索引\r\n                            let KeyNodeIndexT: number = Key.children.indexOf(this.KeyTarget[Obj.Index]);\r\n                            let KeyNodeValueT: string = TouchNode.getChildByName(\"Label\").getComponent(Label).string;\r\n                            this.GameData.Key[KeyNodeIndexT] = KeyNodeValueT;\r\n                            console.log(\"赋值的索引\", KeyNodeIndexT, \"赋值的数据\", KeyNodeValueT);\r\n                            //console.log(this.GameData);\r\n                            this.UpdateUIValue();\r\n\r\n                        } else {\r\n                            let KeyNodeIndexL: number = Key.children.indexOf(this.KeyTarget[this.LastKeyIndex[CurrentLastKeyIndex]]);\r\n                            if (KeyNodeIndexL == -1) {\r\n                                //console.log(CurrentLastKeyIndex);//有值\r\n                                //console.log(this.LastKeyIndex[CurrentLastKeyIndex]);\r\n                                //console.log(this.KeyTarget[this.LastKeyIndex[CurrentLastKeyIndex]]);\r\n                            }\r\n\r\n                            let KeyNodeValueL: string = \"N\";\r\n                            this.GameData.Key[KeyNodeIndexL] = KeyNodeValueL;\r\n\r\n                            //题目节点的索引\r\n                            let KeyNodeIndexT: number = Key.children.indexOf(this.KeyTarget[Obj.Index]);\r\n                            let KeyNodeValueT: string = TouchNode.getChildByName(\"Label\").getComponent(Label).string;\r\n                            this.GameData.Key[KeyNodeIndexT] = KeyNodeValueT;\r\n\r\n                            console.log(\"赋值的索引\", KeyNodeIndexL, \"赋值的数据\", KeyNodeValueL);\r\n                            console.log(\"赋值的索引\", KeyNodeIndexT, \"赋值的数据\", KeyNodeValueT);\r\n                            //console.log(this.GameData);\r\n                        }\r\n                        this.KeyExitState[Obj.Index] = true;\r\n                        this.KeyExitValue[Obj.Index] = TouchNode;\r\n                        //console.error(this.LastKeyIndex[i], this.LastKeyIndex[i], this.KeyExitState[this.LastKeyIndex[i]]);\r\n\r\n                        if (this.LastKeyIndex[i] != null && this.LastKeyIndex[i] != Obj.Index) {\r\n                            this.KeyExitState[this.LastKeyIndex[i]] = false;\r\n                            this.KeyExitValue[this.LastKeyIndex[i]] = null;\r\n                            //console.error(this.KeyExitState[this.LastKeyIndex[i]], \"2---------------------\", Obj.Index);\r\n\r\n                        }\r\n                        //改变Key背景颜色\r\n                        this.LastKeyIndex[i] != null && Tool_UI.instance.Set_Color_Sprite(this.KeyTarget[this.LastKeyIndex[i]].getChildByName(\"Bg\").getChildByName(\"Sp\"), ColorOff);\r\n                        this.LastKeyIndex[i] = Obj.Index;\r\n\r\n                        // this.LastKeyIndex[this.ValueTargetC.indexOf(TouchNode)] != null && Tool_UI.instance.Set_Color_Sprite(this.KeyTarget[this.LastKeyIndex[i]].getChildByName(\"Bg\").getChildByName(\"Sp\"), ColorOff);\r\n                        // this.LastKeyIndex[this.ValueTargetC.indexOf(TouchNode)] = Obj.Index;\r\n\r\n                        //console.error(Obj.Index, this.LastKeyIndex[i], i, Value.children.indexOf(TouchNode));\r\n\r\n                        Tool_UI.instance.Set_Color_Sprite(this.KeyTarget[Obj.Index].getChildByName(\"Bg\").getChildByName(\"Sp\"), ColorOn);\r\n                        Temp.destroyAllChildren();\r\n                        for (let i = 0; i < this.TipAnim.length; i++) {\r\n                            this.TipAnim[i].destroy();\r\n                        }\r\n                        this.KeyShadowIndex = -1;\r\n                        let Pos = Tool_UI.instance.Get_Target_Node_Local_Pos(TouchNode, this.KeyTarget[Obj.Index]);\r\n                        this.UpdateUIValue();\r\n                        await Tool_Animation.instance.Animation_Node_Move_Time(TouchNode, Pos, 0, null, \"smooth\");\r\n                        tween(TouchNode)\r\n                            .to(0.25, { scale: v3(0.9, 0.9, 1) }, { easing: \"backOut\" })\r\n                            .start();\r\n                    } else {\r\n                        if (!IsExit) {\r\n                            Tool_UI.instance.Arr_Increase(this.ValueTarget, TouchNode);\r\n\r\n                            //题目节点的索引\r\n                            let KeyNodeIndexT: number = Key.children.indexOf(this.KeyTarget[this.LastKeyIndex[CurrentLastKeyIndex]]);\r\n                            let KeyNodeValueT: string = \"N\";\r\n                            this.GameData.Key[KeyNodeIndexT] = KeyNodeValueT;\r\n                            console.log(\"赋值的索引\", KeyNodeIndexT, \"赋值的数据\", KeyNodeValueT);\r\n                            //console.log(this.GameData);\r\n\r\n                            if (this.LastKeyIndex[i] != null) {\r\n                                this.KeyExitState[this.LastKeyIndex[i]] = false;\r\n                                this.KeyExitValue[this.LastKeyIndex[i]] = null;\r\n                                Tool_UI.instance.Set_Color_Sprite(this.KeyTarget[this.LastKeyIndex[i]].getChildByName(\"Bg\").getChildByName(\"Sp\"), ColorOff);\r\n                            }\r\n                            // 重置当前目标位置的状态（如果之前已被占用）\r\n                            if (this.KeyExitState[Obj.Index]) {\r\n                                this.KeyExitState[Obj.Index] = false;\r\n                                //console.error(this.KeyExitState[Obj.Index], \"3---------------------\", Obj.Index);\r\n                                this.KeyExitValue[Obj.Index] = null;\r\n                                Tool_UI.instance.Set_Color_Sprite(this.KeyTarget[Obj.Index].getChildByName(\"Bg\").getChildByName(\"Sp\"), ColorOff);\r\n                            }\r\n\r\n\r\n                            this.LastKeyIndex[i] = null;\r\n                        }\r\n                        // await Tool_Animation.instance.Async_Wait(0.05);\r\n                        this.UpdateUIValue();\r\n                        await Tool_Animation.instance.Async_Wait(0.25);\r\n                        this.TipStart();\r\n\r\n                    }\r\n                    //console.log(\"this.KeyExitState\", this.KeyExitState);\r\n                    //console.log(\"this.KeyExitValue\", this.KeyExitValue);\r\n                    //console.log(\"this.ValueTarget\", this.ValueTarget);\r\n\r\n                    this.FindAllEquationIndices_(this.GameData.Key);\r\n\r\n\r\n                });\r\n            }\r\n        }\r\n\r\n\r\n        // this.UpdateUIValue(0);\r\n\r\n\r\n        // await Tool_Animation.instance.Async_Wait(0.1);\r\n\r\n\r\n\r\n        for (let i = 0; i < this.ValueTarget.length; i++) {\r\n            this.ValueTarget[i].active = false;\r\n        }\r\n        for (let i = 0; i < this.ValueTarget.length; i++) {\r\n            this.ValueTarget[i].active = true;\r\n            this.ValueTarget[i].position = this.ValueTarget[i].position.clone().add(v3(1000, 0, 0));\r\n        }\r\n\r\n        let Time = 0;\r\n        let Wait = 0;\r\n\r\n        let Len = this.GameData.Value.length;\r\n\r\n        Time = 1.2 / Len;\r\n        Wait = Time / 2\r\n\r\n        if (this.Game_Script.MathMatchLevel == 0) {\r\n            this.Game_Script.BlockInputEvents.active = true;\r\n            this.Step = 0;\r\n            let N = this.ValueTarget[2];\r\n            N.active = true;\r\n            N.scale = v3(0.9, 0.9, 1)\r\n            Tool_UI.instance.Set_Pos_Word_Same(N, this.KeyTarget[2]);\r\n            let TouchNode = this.ValueTarget[2]\r\n            let i = this.ValueTargetC.indexOf(TouchNode);\r\n\r\n            // Shadow.active = false;\r\n            let IsExit: boolean = Tool_UI.instance.Arr_Check_Index(this.ValueTarget, TouchNode) == -1 ? false : true;\r\n            let Obj = Tool_Animation.instance.Get_Min_Distance_Node(TouchNode.worldPosition, this.KeyTarget);\r\n\r\n            // 1. 获取原节点（当前占用目标位置的节点）\r\n            const OriginalNode = this.KeyExitValue[Obj.Index];\r\n            // 2. 将原节点移回默认位置（或 LastKeyIndex 的位置）\r\n            //原上次索引\r\n            let OriginalLastKeyIndex = Tool_UI.instance.Arr_Check_Index(this.ValueTargetC, OriginalNode)\r\n            //现上次索引\r\n            let CurrentLastKeyIndex = Tool_UI.instance.Arr_Check_Index(this.ValueTargetC, TouchNode)\r\n\r\n            if (Obj.Distance <= this.OnDistance) {\r\n                this.TipReset();\r\n                //目标位置被占用\r\n\r\n                if (IsExit) {\r\n                    //放置成功 移除节点\r\n                    Tool_UI.instance.Arr_Delete(this.ValueTarget, TouchNode);\r\n                    //题目节点的索引\r\n                    let KeyNodeIndexT: number = Key.children.indexOf(this.KeyTarget[Obj.Index]);\r\n                    let KeyNodeValueT: string = TouchNode.getChildByName(\"Label\").getComponent(Label).string;\r\n                    this.GameData.Key[KeyNodeIndexT] = KeyNodeValueT;\r\n                } else {\r\n                    let KeyNodeIndexL: number = Key.children.indexOf(this.KeyTarget[this.LastKeyIndex[CurrentLastKeyIndex]]);\r\n                    if (KeyNodeIndexL == -1) {\r\n\r\n                    }\r\n\r\n                    let KeyNodeValueL: string = \"N\";\r\n                    this.GameData.Key[KeyNodeIndexL] = KeyNodeValueL;\r\n\r\n                    //题目节点的索引\r\n                    let KeyNodeIndexT: number = Key.children.indexOf(this.KeyTarget[Obj.Index]);\r\n                    let KeyNodeValueT: string = TouchNode.getChildByName(\"Label\").getComponent(Label).string;\r\n                    this.GameData.Key[KeyNodeIndexT] = KeyNodeValueT;\r\n\r\n                }\r\n                this.KeyExitState[Obj.Index] = true;\r\n                this.KeyExitValue[Obj.Index] = TouchNode;\r\n                if (this.LastKeyIndex[i] != null && this.LastKeyIndex[i] != Obj.Index) {\r\n                    this.KeyExitState[this.LastKeyIndex[i]] = false;\r\n                    this.KeyExitValue[this.LastKeyIndex[i]] = null;\r\n                }\r\n                //改变Key背景颜色\r\n                this.LastKeyIndex[i] != null && Tool_UI.instance.Set_Color_Sprite(this.KeyTarget[this.LastKeyIndex[i]].getChildByName(\"Bg\").getChildByName(\"Sp\"), ColorOff);\r\n                this.LastKeyIndex[i] = Obj.Index;\r\n\r\n                // this.LastKeyIndex[this.ValueTargetC.indexOf(TouchNode)] != null && Tool_UI.instance.Set_Color_Sprite(this.KeyTarget[this.LastKeyIndex[i]].getChildByName(\"Bg\").getChildByName(\"Sp\"), ColorOff);\r\n                // this.LastKeyIndex[this.ValueTargetC.indexOf(TouchNode)] = Obj.Index;\r\n\r\n                //console.error(Obj.Index, this.LastKeyIndex[i], i, Value.children.indexOf(TouchNode));\r\n\r\n                Tool_UI.instance.Set_Color_Sprite(this.KeyTarget[Obj.Index].getChildByName(\"Bg\").getChildByName(\"Sp\"), ColorOn);\r\n                Temp.destroyAllChildren();\r\n                for (let i = 0; i < this.TipAnim.length; i++) {\r\n                    this.TipAnim[i].destroy();\r\n                }\r\n                this.KeyShadowIndex = -1;\r\n                let Pos = Tool_UI.instance.Get_Target_Node_Local_Pos(TouchNode, this.KeyTarget[Obj.Index]);\r\n                await Tool_Animation.instance.Animation_Node_Move_Time(TouchNode, Pos, 0, null, \"smooth\");\r\n                tween(TouchNode)\r\n                    .to(0.25, { scale: v3(0.9, 0.9, 1) }, { easing: \"backOut\" })\r\n                    .start();\r\n            }\r\n\r\n            this.UpdateUIValue(Time, Wait, true);\r\n            await Tool_Animation.instance.Async_Wait(1);\r\n            this.Game_Script.BlockInputEvents.active = false;\r\n            Hand.active = true;\r\n            Tool_Animation.instance.Tween_Stop_Target(Hand);\r\n            let MoveNode = this.ValueTarget[0];\r\n            this.Game_Script.OnMessage(\"将需要的数字拖动到空格上\");\r\n            let PosStart = Tool_UI.instance.Get_Target_Node_Local_Pos(Hand, MoveNode).add(v3(30, -50));\r\n            let PosEnd = Tool_UI.instance.Get_Target_Node_Local_Pos(Hand, this.KeyTarget[0]).add(v3(30, -50));\r\n            const AnimA = () => {\r\n                Hand.position = PosStart;\r\n                Tool_Animation.instance.Animation_Node_Move_Time(Hand, PosEnd, 1, () => {\r\n                    if (MoveNode == this.ValueTarget[0]) {\r\n                        Tool_Animation.instance.Animation_Node_Move_Time(Hand, PosStart, 0.5, () => {\r\n                            if (MoveNode == this.ValueTarget[0]) {\r\n                                AnimA();\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n            AnimA();\r\n        } else {\r\n            this.UpdateUIValue(Time, Wait, true);//1.2\r\n        }\r\n\r\n\r\n    }\r\n\r\n    /**刷新排序 */\r\n    async UpdateUIValue(Time: number = 0.2, Wait: number = 0, IsAudio: boolean = false) {\r\n\r\n        if (IsAudio) {\r\n            this.Resoure_Data.Sound_Play(\"Audio/BoxStart\");\r\n        }\r\n        //console.log(\"刷新排序\");\r\n\r\n        // this.Interactable = false;\r\n        this.ValueTarget.sort((a, b) => {\r\n            const valueA = parseFloat(a.getChildByName(\"Label\").getComponent(Label).string);\r\n            const valueB = parseFloat(b.getChildByName(\"Label\").getComponent(Label).string);\r\n            return valueA - valueB;\r\n        });\r\n        for (let i = 0; i < this.ValueTarget.length; i++) {\r\n            this.ValueTarget[i].scale = v3(1, 1, 1);\r\n            this.ValueTarget[i].angle = 0;\r\n            Tool_Animation.instance.Animation_Node_Move_Time(this.ValueTarget[i], this.ValuePos[i], Time, null, \"smooth\");\r\n            // if (Wait != 0) {\r\n            await Tool_Animation.instance.Async_Wait(Wait);\r\n            // }\r\n        }\r\n        if (IsAudio) {\r\n            this.Resoure_Data.Sound_Play(\"Audio/BoxEnd\");\r\n        }\r\n\r\n        if (this.Game_Script.MathMatchLevel <= 0 && this.Step <= 1) {\r\n            this.BtnTip.getComponent(Sprite).grayscale = true;\r\n        } else {\r\n            this.BtnTip.getComponent(Sprite).grayscale = this.ValueTarget.length == 0;\r\n        }\r\n\r\n        await Tool_Animation.instance.Async_Wait(Time);\r\n        // this.Interactable = true;\r\n    }\r\n\r\n    async GameStart() {\r\n        this.BtnTip.getComponent(Sprite).grayscale = true;\r\n\r\n        this.Game_Script.BlockInputEvents.active = false;\r\n\r\n        if (sys.platform === sys.Platform.WECHAT_GAME || sys.platform === sys.Platform.WECHAT_MINI_PROGRAM) {\r\n            try {\r\n                // window.ge.onLevelStart({ \"$user_level\": this.Game_Script.MathMatchLevel });\r\n                GravityPlatform.instance.onLevelStart({ \"$user_level\": this.Game_Script.MathMatchLevel });\r\n            } catch (error) {\r\n                //console.log(error);\r\n\r\n            }\r\n        }\r\n\r\n        this.TipReset();\r\n        this.Timing();\r\n        await this.InitData();\r\n        await this.InitInterface();\r\n\r\n\r\n    }\r\n\r\n    async GameVictory() {\r\n        if (this.PanelVictory.active) {\r\n            return;\r\n        }\r\n        this.Resoure_Data.Sound_Play(\"Audio/Victory\");\r\n        this.PanelVictory.active = true;\r\n        this.Interactable = false;\r\n\r\n        if (sys.platform === sys.Platform.WECHAT_GAME || sys.platform === sys.Platform.WECHAT_MINI_PROGRAM) {\r\n            try {\r\n                GravityPlatform.instance.onLevelSuccess({ \"$user_level\": this.Game_Script.MathMatchLevel });\r\n                // window.ge.onLevelSuccess({ \"$user_level\": this.Game_Script.MathMatchLevel });\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n\r\n\r\n        this.Game_Script.TimerStop();\r\n        find(\"JG\", this.node).active = false;\r\n\r\n\r\n        let T = this.GameTimeIng / this.GameTimeAll;\r\n        this.Score = 0;\r\n        if (T < 0.45) {\r\n            this.Score = 3;\r\n            this.Resoure_Data.Sound_Play(\"Audio/Start3\");\r\n        } else if (T < 0.7) {\r\n            this.Score = 2;\r\n            this.Resoure_Data.Sound_Play(\"Audio/Start2\");\r\n        } else if (T < 1) {\r\n            this.Score = 1;\r\n            this.Resoure_Data.Sound_Play(\"Audio/Start1\");\r\n        } else {\r\n            this.Score = 0;\r\n        }\r\n\r\n\r\n        this.Game_Script.MathMatchLevel++;\r\n        this.Game_Script.MathMatchScore += this.Score;\r\n        /**保存数据 */\r\n        this.Game_Script.DataSet();\r\n        // this.Game_Script.UpdateScene();\r\n\r\n        if (this.Score == 0) {\r\n            this.PanelVictory.getChildByName(\"WinBanner\").getChildByName(\"Label\").getComponent(RichText).string = `<color=#17a6fc>${this.GameTimeAll}/</color><color=#FF0000>${this.GameTimeIng}</color>`;\r\n        } else {\r\n            this.PanelVictory.getChildByName(\"WinBanner\").getChildByName(\"Label\").getComponent(RichText).string = `<color=#17a6fc>${this.GameTimeAll}/</color><color=#00FF00>${this.GameTimeIng}</color>`;\r\n        }\r\n\r\n\r\n        this.Game_Script.BlockInputEvents.active = true;\r\n        let StarsData: { Pos: Vec3[], Angle: number[] } = {\r\n            Pos: [\r\n                v3(-175, 150, 0), v3(0, 180, 0), v3(175, 150, 0),\r\n            ], Angle: [\r\n                50, 25, 0\r\n            ]\r\n        };\r\n        let Stars = find(\"WinBanner/Stars\", this.PanelVictory)\r\n        for (let I = 0; I < Stars.children.length; I++) {\r\n            let Star = Stars.children[I].children[0];\r\n            Star.active = false;\r\n            Star.scale = v3(1, 1, 1);\r\n            Star.parent.position = StarsData.Pos[I]\r\n            Star.parent.angle = StarsData.Angle[I]\r\n            Star.parent.scale = v3(1, 1, 1);\r\n        }\r\n        const StarsAnim = async () => {\r\n            for (let I = 0; I < this.Score; I++) {\r\n                let Star = Stars.children[I].children[0];\r\n                Star.scale = v3(4, 4, 1);\r\n                Star.active = true;\r\n                tween(Star)\r\n                    .to(0.05, { scale: v3(5, 5, 1) })\r\n                    .to(0.4, { scale: v3(1, 1, 1) })\r\n                    .start();\r\n                await Tool_Animation.instance.Async_Wait(0.4);\r\n            }\r\n            this.Game_Script.BlockInputEvents.active = false;\r\n        }\r\n        StarsAnim();\r\n\r\n        const CD = async () => {\r\n            Tool_Animation.instance.Anim_Skeleton_Play(find(\"C1\", this.PanelVictory).getComponent(sp.Skeleton), \"default\", 0, \"caidai\", false);\r\n            await Tool_Animation.instance.Async_Wait(0.1);\r\n            Tool_Animation.instance.Anim_Skeleton_Play(find(\"C2\", this.PanelVictory).getComponent(sp.Skeleton), \"default\", 0, \"caidai\", false, () => {\r\n                //console.log(\"结束\");\r\n\r\n            });\r\n        }\r\n        CD();\r\n\r\n        if (this.Resoure_Data.Vibration_Switch_Get()) {\r\n            for (let i = 0; i < 5; i++) {\r\n                PlatformApi.instance.vibrateShort();\r\n                await Tool_Animation.instance.Async_Wait(0.2);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    async GameFailed() {\r\n\r\n        if (sys.platform === sys.Platform.WECHAT_GAME || sys.platform === sys.Platform.WECHAT_MINI_PROGRAM) {\r\n            try {\r\n                // window.ge.onLevelFail({ \"$user_level\": this.Game_Script.MathMatchLevel });\r\n                GravityPlatform.instance.onLevelStart({ \"$user_level\": this.Game_Script.MathMatchLevel });\r\n            } catch (error) {\r\n                //console.log(error);\r\n\r\n            }\r\n        }\r\n        this.Resoure_Data.Sound_Play(\"Audio/Failed\");\r\n        this.PanelFail.active = true;\r\n        this.Interactable = false;\r\n        this.PanelFail.getChildByName(\"WinBanner\").getChildByName(\"Label\").getComponent(RichText).string = `<color=#17a6fc>${this.GameTimeAll}/</color><color=#FF0000>${this.GameTimeIng}</color>`;\r\n\r\n\r\n\r\n    }\r\n\r\n    GameResult() {\r\n\r\n\r\n    }\r\n\r\n\r\n    BreakNode(SetNode: Node) {\r\n\r\n    }\r\n\r\n    TipReset() {\r\n        if (this.TipLabel != null) {\r\n            Tool_UI.instance.Set_Color_Label(this.TipLabel, color(0, 0, 0, 255));\r\n            this.TipLabel.getComponent(Label).string = \"\";\r\n            this.TipLabel.scale = v3(1, 1, 1);\r\n            Tool_Animation.instance.Tween_Stop_Target(this.TipLabel);\r\n            this.TipLabel = null;\r\n        }\r\n        if (this.TipNode != null) {\r\n            Tool_Animation.instance.Tween_Stop_Target(this.TipNode);\r\n            this.TipNode = null;\r\n        }\r\n\r\n        for (let i = 0; i < this.TipAnim.length; i++) {\r\n            this.TipAnim[i].destroy();\r\n        }\r\n        this.TipAnim = [];\r\n\r\n    }\r\n\r\n    async TipStart() {\r\n\r\n\r\n        //console.log(this.TipAnim);\r\n        if (this.TipAnim.length != 0) {\r\n            return;\r\n        }\r\n\r\n\r\n        if (this.TipNode != null && this.TipLabel != null) {\r\n            // Tool_Animation.instance.Animation_Heartbeat(this.TipLabel);\r\n\r\n            for (let i = 0; i < this.TipAnim.length; i++) {\r\n                this.TipAnim[i].destroy();\r\n            }\r\n\r\n            let Spine = await this.Resoure_Data.Load_Prefab(\"Prefab/PanelMathMatch/Spine\");\r\n            let SpineNode1 = Tool_UI.instance.Set_Prefab_Node(Spine, this.node.getChildByName(\"TempV\"), this.ValuePos[this.ValueTarget.indexOf(this.TipNode)].clone().add(v3(0, -250, 0)));\r\n            Tool_Animation.instance.Anim_Skeleton_Play(SpineNode1.getComponent(sp.Skeleton), \"default\", 0, \"animation2\", true)\r\n\r\n            let SpineNode2 = Tool_UI.instance.Set_Prefab_Node(Spine, this.node.getChildByName(\"TempV\"), this.TipLabel);\r\n            Tool_Animation.instance.Anim_Skeleton_Play(SpineNode2.getComponent(sp.Skeleton), \"default\", 0, \"animation1\", true)\r\n\r\n            this.TipAnim.push(SpineNode1)\r\n            this.TipAnim.push(SpineNode2)\r\n\r\n\r\n\r\n            Tool_Animation.instance.Tween_Stop_Target(this.TipLabel);\r\n            this.TipLabel.angle = 0;\r\n            // Tool_Animation.instance.Tween_Stop_Target(this.TipNode);\r\n            // this.TipNode.angle = 0;\r\n\r\n            tween(this.TipLabel)\r\n                .repeatForever(\r\n                    tween()\r\n                        .to(0.2, { angle: 5 })\r\n                        .to(0.2, { angle: -10 })\r\n                        .to(0.2, { angle: 10 })\r\n                        .to(0.2, { angle: -10 })\r\n                        .to(0.2, { angle: 5 })\r\n                        .to(0.2, { angle: 0 })\r\n                        .delay(1)\r\n                )\r\n                .start()\r\n\r\n\r\n        }\r\n    }\r\n\r\n    async FindAllEquationIndices_(Key: string[], Time: number = 0, Rows: number = 11, Cols: number = 11): Promise<{ CorrectIndex: number[][]; WrongIndex: number[][]; }> {\r\n\r\n        this.TimStop();\r\n\r\n        if (this.Game_Script.MathMatchLevel <= 0 && this.Step <= 1) {\r\n            this.BtnTip.getComponent(Sprite).grayscale = true;\r\n        } else {\r\n            this.BtnTip.getComponent(Sprite).grayscale = this.ValueTarget.length == 0;\r\n        }\r\n\r\n        // this.Interactable = false;\r\n        await Tool_Animation.instance.Async_Wait(Time);\r\n        let Count = 0;\r\n        const Result = {\r\n            CorrectIndex: [] as number[][],\r\n            WrongIndex: [] as number[][]\r\n        };\r\n        const ResultAll = {\r\n            CorrectIndex: [] as number[],\r\n            WrongIndex: [] as number[]\r\n        };\r\n        /**检查题目右边是否存在结果 */\r\n        function CheckResult(Index: number): number {\r\n            // return Key[Index] == \"N\" || Key[Index] == \"U\" ? null : Number(Key[Index]);\r\n            return Key[Index] == \"N\" ? null : Number(Key[Index]);\r\n        }\r\n        /**计算题目左边结果 */\r\n        function GetResult(expression: string[]): number {\r\n            // 先处理乘除法\r\n            const processed = [...expression];\r\n            if (processed.indexOf(\"N\") != -1) {\r\n                return null;\r\n            }\r\n            // 第一轮处理：乘除法\r\n            for (let i = 1; i < processed.length; i += 2) {\r\n                const op = processed[i];\r\n                if (op === \"X\" || op === \"x\" || op === \"/\") {\r\n                    const left = parseFloat(processed[i - 1]);\r\n                    const right = parseFloat(processed[i + 1]);\r\n                    let result: number;\r\n                    if (op === \"/\") {\r\n                        if (right === 0) throw new Error(\"Division by zero\");\r\n                        result = left / right;\r\n                    } else {\r\n                        result = left * right;\r\n                    }\r\n                    // 替换这三个元素为计算结果\r\n                    processed.splice(i - 1, 3, result.toString());\r\n                    i -= 2; // 因为数组长度减少了，调整索引\r\n                }\r\n            }\r\n            // 第二轮处理：加减法\r\n            let result = parseFloat(processed[0]);\r\n            for (let i = 1; i < processed.length; i += 2) {\r\n                const op = processed[i];\r\n                const num = parseFloat(processed[i + 1]);\r\n                if (op === '+') {\r\n                    result += num;\r\n                } else if (op === '-') {\r\n                    result -= num;\r\n                } else {\r\n                    throw new Error(`Unknown operator: ${op}`);\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n        let ErrorChar = [\"=\", \"U\"];\r\n        for (let i = 0; i < Key.length; i++) {\r\n            if (Key[i] == \"=\") {\r\n                // //console.log(\"--------------------------------------\");\r\n                // //console.log(\"--------------------------------------\");\r\n                // //console.log(\"--------------------------------------\");\r\n                let ValueResult: number | null;\r\n                //水平方向\r\n                // //console.log(\"水平方向\");\r\n\r\n                if (i % Rows != Rows - 1) {\r\n                    ValueResult = CheckResult(i + 1);//*\r\n                    if (ValueResult != null && !Number.isNaN(ValueResult)) {\r\n                        let Index = i;\r\n                        let Indexs: number[] = [];\r\n                        let Chars: string[] = [];\r\n                        while (Index % Rows != 0) {//*\r\n                            Index -= 1;//*\r\n                            if (ErrorChar.indexOf(Key[Index]) == -1) {\r\n                                Indexs.push(Index);\r\n                            } else {\r\n                                break;\r\n                            }\r\n                        }\r\n                        Tool_Other.instance.Sort_Reverse(Indexs);\r\n                        for (let j = 0; j < Indexs.length; j++) {\r\n                            Chars.push(Key[Indexs[j]]);\r\n                        }\r\n                        Indexs.push(i);\r\n                        Indexs.push(i + 1);//*\r\n                        let KeyResult: number = GetResult(Chars);\r\n                        let IsEqual: boolean = KeyResult == ValueResult;\r\n                        // //console.log(Indexs);\r\n                        // //console.log(Chars);\r\n                        // //console.log(\"ValueResult\", ValueResult, \"KeyResult\", KeyResult);\r\n                        // //console.log(\"是否相等\", IsEqual);\r\n                        if (IsEqual) {\r\n                            Result.CorrectIndex.push(Indexs);\r\n                            ResultAll.CorrectIndex = [...ResultAll.CorrectIndex, ...Indexs];\r\n                            Count++\r\n                        } else {\r\n                            if (KeyResult != null) {\r\n                                Result.WrongIndex.push(Indexs);\r\n                                ResultAll.WrongIndex = [...ResultAll.WrongIndex, ...Indexs];\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (Math.floor(i / Rows) != Cols - 1) {\r\n                    //垂直方向\r\n                    // //console.log(\"垂直方向\");\r\n                    ValueResult = CheckResult(i + Rows);\r\n                    if (ValueResult != null && !Number.isNaN(ValueResult)) {\r\n                        let Index = i;\r\n                        let Indexs: number[] = [];\r\n                        let Chars: string[] = [];\r\n                        while (Math.floor(Index / Rows) != 0) {\r\n                            Index -= Rows;//*\r\n                            if (ErrorChar.indexOf(Key[Index]) == -1) {\r\n                                Indexs.push(Index);\r\n                            } else {\r\n                                break;\r\n                            }\r\n                        }\r\n                        Tool_Other.instance.Sort_Reverse(Indexs);\r\n                        for (let j = 0; j < Indexs.length; j++) {\r\n                            Chars.push(Key[Indexs[j]]);\r\n                        }\r\n                        Indexs.push(i);\r\n                        Indexs.push(i + Rows);\r\n                        let KeyResult: number = GetResult(Chars);\r\n                        let IsEqual: boolean = KeyResult == ValueResult;\r\n                        // //console.log(Indexs);\r\n                        // //console.log(Chars);\r\n                        // //console.log(\"ValueResult\", ValueResult, \"KeyResult\", KeyResult);\r\n                        // //console.log(\"是否相等\", IsEqual);\r\n                        if (IsEqual) {\r\n                            Result.CorrectIndex.push(Indexs);\r\n                            ResultAll.CorrectIndex = [...ResultAll.CorrectIndex, ...Indexs];\r\n                            Count++\r\n                        } else {\r\n                            if (KeyResult != null) {\r\n                                Result.WrongIndex.push(Indexs);\r\n                                ResultAll.WrongIndex = [...ResultAll.WrongIndex, ...Indexs];\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (i % Rows != Rows - 1 && Math.floor(i / Rows) != Cols - 1) {\r\n                    //主对角线\r\n                    ValueResult = CheckResult(i + (Rows + 1));\r\n                    // //console.log(\"主对角线\");\r\n                    if (ValueResult != null && !Number.isNaN(ValueResult)) {\r\n                        let Index = i;\r\n                        let Indexs: number[] = [];\r\n                        let Chars: string[] = [];\r\n                        while (Index % Rows != 0) {\r\n                            Index -= (Rows + 1);\r\n                            if (ErrorChar.indexOf(Key[Index]) == -1) {\r\n                                Indexs.push(Index);\r\n                            } else {\r\n                                break;\r\n                            }\r\n                        }\r\n                        Tool_Other.instance.Sort_Reverse(Indexs);\r\n                        for (let j = 0; j < Indexs.length; j++) {\r\n                            Chars.push(Key[Indexs[j]]);\r\n                        }\r\n                        Indexs.push(i);\r\n                        Indexs.push(i + (Rows + 1));\r\n                        let KeyResult: number = GetResult(Chars);\r\n                        let IsEqual: boolean = KeyResult == ValueResult;\r\n                        //console.log(Indexs);\r\n                        //console.log(Chars);\r\n                        //console.log(\"ValueResult\", ValueResult, \"KeyResult\", KeyResult);\r\n                        //console.log(\"是否相等\", IsEqual);\r\n                        if (IsEqual) {\r\n                            Result.CorrectIndex.push(Indexs);\r\n                            ResultAll.CorrectIndex = [...ResultAll.CorrectIndex, ...Indexs];\r\n                            Count++\r\n                        } else {\r\n                            if (KeyResult != null) {\r\n                                Result.WrongIndex.push(Indexs);\r\n                                ResultAll.WrongIndex = [...ResultAll.WrongIndex, ...Indexs];\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n\r\n\r\n                if (i % Rows != 0 && Math.floor(i / Rows) != Cols - 1) {\r\n                    //副对角线\r\n                    // //console.log(\"副对角线\");\r\n                    ValueResult = CheckResult(i + (Rows - 1));\r\n                    if (ValueResult != null && !Number.isNaN(ValueResult)) {\r\n                        let Index = i;\r\n                        let Indexs: number[] = [];\r\n                        let Chars: string[] = [];\r\n                        while (Index % Rows != (Rows - 1)) {\r\n                            Index -= (Rows - 1);\r\n                            if (ErrorChar.indexOf(Key[Index]) == -1) {\r\n                                Indexs.push(Index);\r\n                            } else {\r\n                                break;\r\n                            }\r\n                        }\r\n                        Tool_Other.instance.Sort_Reverse(Indexs);\r\n                        for (let j = 0; j < Indexs.length; j++) {\r\n                            Chars.push(Key[Indexs[j]]);\r\n                        }\r\n                        Indexs.push(i);\r\n                        Indexs.push(i + (Rows - 1));\r\n                        let KeyResult: number = GetResult(Chars);\r\n                        let IsEqual: boolean = KeyResult == ValueResult;\r\n                        //console.log(Indexs);\r\n                        //console.log(Chars);\r\n                        //console.log(\"ValueResult\", ValueResult, \"KeyResult\", KeyResult);\r\n                        //console.log(\"是否相等\", IsEqual);\r\n                        if (IsEqual) {\r\n                            Result.CorrectIndex.push(Indexs);\r\n                            ResultAll.CorrectIndex = [...ResultAll.CorrectIndex, ...Indexs];\r\n                            Count++\r\n                        } else {\r\n                            if (KeyResult != null) {\r\n                                Result.WrongIndex.push(Indexs);\r\n                                ResultAll.WrongIndex = [...ResultAll.WrongIndex, ...Indexs];\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n        let KeyP = find(\"Key\", this.node);\r\n        let ValueP = find(\"Value\", this.node);\r\n\r\n        let AnimReset = async () => {\r\n            for (let i = 0; i < KeyP.children.length; i++) {\r\n                if (ResultAll.CorrectIndex.indexOf(i) == -1) {\r\n                    switch (this.GameData.Key[i]) {\r\n                        case \"N\":\r\n                            Tool_UI.instance.Set_SpriteFrame(KeyP.children[i].getChildByName(\"Bg\"), await this.Resoure_Data.Load_SpriteFrame(\"SpriteFrame/Panel/PanelMathMatch/BoxN\"));\r\n                            break;\r\n                        default:\r\n                            Tool_UI.instance.Set_SpriteFrame(KeyP.children[i].getChildByName(\"Bg\"), await this.Resoure_Data.Load_SpriteFrame(\"SpriteFrame/Panel/PanelMathMatch/BoxU\"));\r\n                            break;\r\n                    }\r\n                } else {\r\n                    Tool_UI.instance.Arr_Delete(this.AnimCorrectNode, KeyP.children[i]);\r\n                }\r\n\r\n                if (ResultAll.WrongIndex.indexOf(i) == -1) {\r\n                    switch (this.GameData.Key[i]) {\r\n                        case \"N\":\r\n                            Tool_UI.instance.Set_SpriteFrame(KeyP.children[i].getChildByName(\"Bg\"), await this.Resoure_Data.Load_SpriteFrame(\"SpriteFrame/Panel/PanelMathMatch/BoxN\"));\r\n                            break;\r\n                        default:\r\n                            Tool_UI.instance.Set_SpriteFrame(KeyP.children[i].getChildByName(\"Bg\"), await this.Resoure_Data.Load_SpriteFrame(\"SpriteFrame/Panel/PanelMathMatch/BoxU\"));\r\n                            break;\r\n                    }\r\n                } else {\r\n                    Tool_UI.instance.Arr_Delete(this.AnimWrongNode, KeyP.children[i]);\r\n                }\r\n\r\n            }\r\n\r\n            AnimV();\r\n            AnimF();\r\n\r\n        }\r\n\r\n        let AnimV = async () => {\r\n            for (let i = 0; i < Result.CorrectIndex.length; i++) {\r\n                for (let j = 0; j < Result.CorrectIndex[i].length; j++) {\r\n                    if (this.AnimCorrectNode.indexOf(KeyP.children[Result.CorrectIndex[i][j]]) == -1) {\r\n                        this.AnimCorrectNode.push(KeyP.children[Result.CorrectIndex[i][j]]);\r\n                        Tool_UI.instance.Set_SpriteFrame(KeyP.children[Result.CorrectIndex[i][j]].getChildByName(\"Bg\"), await this.Resoure_Data.Load_SpriteFrame(\"SpriteFrame/Panel/PanelMathMatch/BoxC\"));\r\n                    }\r\n                }\r\n            }\r\n            for (let i = 0; i < Result.CorrectIndex.length; i++) {\r\n                let ICall = async () => {\r\n                    //上次触摸的节点在题目中\r\n                    let IsPlay = false;\r\n                    let Obj = Tool_Animation.instance.Get_Min_Distance_Node(this.TouchNode.worldPosition, this.KeyTarget);\r\n                    if (Obj.Distance <= this.OnDistance) {\r\n                        for (let j = 0; j < Result.CorrectIndex[i].length; j++) {\r\n                            if (this.KeyTarget[Obj.Index].name == KeyP.children[Result.CorrectIndex[i][j]].name) {\r\n                                IsPlay = true;\r\n                                //console.log(\"AnimV\");\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (IsPlay) {\r\n                        this.Resoure_Data.Sound_Play(\"Audio/Correct\");\r\n                        for (let j = 0; j < Result.CorrectIndex[i].length; j++) {\r\n                            //题目的Value占位节点\r\n                            let Obj = Tool_Animation.instance.Get_Min_Distance_Node(KeyP.children[Result.CorrectIndex[i][j]].worldPosition, this.ValueTargetC);\r\n                            if (Obj.Distance <= this.OnDistance) {\r\n                                Tool_UI.instance.Set_SpriteFrame(this.ValueTargetC[Obj.Index].getChildByName(\"Bg\"), await this.Resoure_Data.Load_SpriteFrame(\"SpriteFrame/Panel/PanelMathMatch/BoxC\"));\r\n                                Tool_UI.instance.Set_Color_Label(this.ValueTargetC[Obj.Index].getChildByName(\"Label\"), color(0, 155, 0, 255));\r\n                                // Tool_Animation.instance.Tween_Stop_Target(this.ValueTargetC[Obj.Index]);\r\n                                // this.ValueTargetC[Obj.Index].scale = v3(0.9, 0.9, 1);\r\n                                tween(this.ValueTargetC[Obj.Index])\r\n                                    .to(0.1, { scale: v3(0.6, 0.6, 1) })\r\n                                    .to(0.1, { scale: v3(0.9, 0.9, 1) })\r\n                                    .start();\r\n                            }\r\n                            //题目的Key占位节点\r\n                            // Tool_Animation.instance.Tween_Stop_Target(KeyP.children[Result.CorrectIndex[i][j]]);\r\n                            // KeyP.children[Result.CorrectIndex[i][j]].scale = v3(1, 1, 1);\r\n                            tween(KeyP.children[Result.CorrectIndex[i][j]])\r\n                                .to(0.1, { scale: v3(0.6, 0.6, 1) })\r\n                                .to(0.1, { scale: v3(1, 1, 1) })\r\n                                .start();\r\n                            await Tool_Animation.instance.Async_Wait(0.05 * Speed);\r\n                        }\r\n                    }\r\n                }\r\n                ICall();\r\n            }\r\n        }\r\n\r\n        let AnimF = async () => {\r\n            // for (let i = 0; i < Result.WrongIndex.length; i++) {\r\n            //     for (let j = 0; j < Result.WrongIndex[i].length; j++) {\r\n            //         //console.error(this.AnimWrongNode.indexOf(KeyP.children[Result.WrongIndex[i][j]]));\r\n\r\n            //         if (this.AnimWrongNode.indexOf(KeyP.children[Result.WrongIndex[i][j]]) == -1) {\r\n            //             this.AnimWrongNode.push(KeyP.children[Result.WrongIndex[i][j]]);\r\n            //             Tool_UI.instance.Set_SpriteFrame(KeyP.children[Result.WrongIndex[i][j]].getChildByName(\"Bg\"), await this.Resoure_Data.Load_SpriteFrame(\"SpriteFrame/Panel/PanelMathMatch/BoxE\"));\r\n            //         }\r\n            //     }\r\n            // }\r\n            for (let i = 0; i < Result.WrongIndex.length; i++) {\r\n                let ICall = async () => {\r\n                    //上次触摸的节点在题目中\r\n                    let IsPlay = false;\r\n                    let Obj = Tool_Animation.instance.Get_Min_Distance_Node(this.TouchNode.worldPosition, this.KeyTarget);\r\n\r\n                    if (Obj.Distance <= this.OnDistance) {\r\n                        for (let j = 0; j < Result.WrongIndex[i].length; j++) {\r\n                            if (this.KeyTarget[Obj.Index].name == KeyP.children[Result.WrongIndex[i][j]].name) {\r\n                                IsPlay = true;\r\n                                //console.log(\"AnimF\");\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (IsPlay) {\r\n                        this.Resoure_Data.Sound_Play(\"Audio/Wrong\");\r\n                        for (let j = 0; j < Result.WrongIndex[i].length; j++) {\r\n                            //题目的Value占位节点\r\n                            if (Number.isNaN(Number(KeyP.children[Result.WrongIndex[i][j]].getChildByName(\"Label\").getComponent(Label).string))) {\r\n                                continue;\r\n                            }\r\n                            let Obj = Tool_Animation.instance.Get_Min_Distance_Node(KeyP.children[Result.WrongIndex[i][j]].worldPosition, this.ValueTargetC);\r\n                            if (Obj.Distance <= this.OnDistance) {\r\n                                Tool_UI.instance.Set_SpriteFrame(this.ValueTargetC[Obj.Index].getChildByName(\"Bg\"), await this.Resoure_Data.Load_SpriteFrame(\"SpriteFrame/Panel/PanelMathMatch/BoxE\"));\r\n                                Tool_UI.instance.Set_Color_Label(this.ValueTargetC[Obj.Index].getChildByName(\"Label\"), color(155, 0, 0, 255));\r\n\r\n                                // Tool_Animation.instance.Tween_Stop_Target(this.ValueTargetC[Obj.Index]);\r\n                                // Tool_Animation.instance.Tween_Stop_Target(KeyP.children[Result.WrongIndex[i][j]]);\r\n\r\n                                tween(this.ValueTargetC[Obj.Index])\r\n                                    .to(0.1, { angle: 10 })\r\n                                    .to(0.1, { angle: -20 })\r\n                                    .to(0.1, { angle: 20 })\r\n                                    .to(0.1, { angle: -20 })\r\n                                    .to(0.1, { angle: 10 })\r\n                                    .to(0.1, { angle: 0 })\r\n                                    .start();\r\n                                tween(KeyP.children[Result.WrongIndex[i][j]])\r\n                                    .to(0.1, { angle: 10 })\r\n                                    .to(0.1, { angle: -20 })\r\n                                    .to(0.1, { angle: 20 })\r\n                                    .to(0.1, { angle: -20 })\r\n                                    .to(0.1, { angle: 10 })\r\n                                    .to(0.1, { angle: 0 })\r\n                                    .start();\r\n                                // tween(this.ValueTargetC[Obj.Index])\r\n                                //     .by(0.1, { scale: v3(-0.4, -0.4, 1) })\r\n                                //     .by(0.1, { scale: v3(0.4, 0.4, 1) })\r\n                                //     .start();\r\n                            }\r\n                            //题目的Key占位节点\r\n                            // tween(KeyP.children[Result.WrongIndex[i][j]])\r\n                            //     .by(0.1 * Speed, { scale: v3(-0.4, - 0.4, 1) })\r\n                            //     .by(0.1 * Speed, { scale: v3(0.4, 0.4, 1) })\r\n                            //     .start();\r\n                            // await Tool_Animation.instance.Async_Wait(0.05 * Speed);\r\n                        }\r\n                    }\r\n                }\r\n                ICall();\r\n            }\r\n        }\r\n\r\n\r\n        var Speed = 1;\r\n        await AnimReset();\r\n        await Tool_Animation.instance.Async_Wait(0.2);\r\n        this.Interactable = true;\r\n\r\n        if (Count == this.GameData.Count) {\r\n            //console.log(\"胜利\");\r\n            await Tool_Animation.instance.Async_Wait(0.5);\r\n            this.GameVictory();\r\n        }\r\n        Tool_Console.instance.Console_Style(Count, {\r\n            Font_Color: 'rgba(255, 99, 71, 1)',\r\n            Font_Size: '20px',\r\n            Font_Weight: 'lighter',\r\n            Font_Style: 'normal',\r\n            Font_Family: \"'fantasy',cursive\",\r\n            Text_Decoration: 'none',\r\n            Text_Shadow: \"2px 2px 2px rgba(0, 0, 0, 0.5)\",\r\n            Background_Color: 'rgba(155, 155, 155, 0.2)',\r\n            Padding: \"10px 20px\",\r\n            Margin: \"10px auto\",\r\n            Border: \"1px dashed rgba(0, 255, 0, 1)\",\r\n            Border_Radius: \"5px\",\r\n        })\r\n        //console.log(Result);\r\n\r\n        return Result;\r\n    }\r\n\r\n\r\n\r\n    UpdateProp() {\r\n\r\n        this.BtnTip.getChildByName(\"PropNum\").getChildByName(\"Label\").getComponent(Label).string = this.Game_Script.PropNum + \"\";\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n"]}