{"version":3,"sources":["file:///Users/jingfaxie/Documents/UGit/minigame3/Aby/assets/Script/Other/Vx/WxApi.ts"],"names":[],"mappings":"AAAA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAQA;AACA","sourcesContent":["// import { _decorator, Component, Node, sys } from 'cc';\n// const { ccclass, property } = _decorator;\n\n\n// @ccclass('WxApi')\n// export class WxApi extends Component {\n\n//     private InterstitialAd: any;\n//     private CustomAd: any[] = [];\n//     private customadIndex: number = 0;\n//     private customadTop: boolean = true;\n//     private customadBottom: boolean = false;\n//     private setTimer: number = -1;\n//     private isNewUser: boolean = false;\n//     private times: number = 0;\n//     private videoAd: any;\n//     private videoPath?: string;\n//     private callback?: () => void;\n//     private close_callback?: () => void;\n\n//     constructor() {\n//         super();\n//     }\n\n//     requestSubscribeMessage() {\n\n//     }\n//     onHide() { }\n//     offHide() { }\n//     vibrateShort() { }\n\n//     onShareAppVideo() { }\n\n//     openAwemeUserProfile() {\n\n//     }\n//     reportAnalytics() { }\n\n//     createInterstitialAd() { }\n\n//     showInterstitialAd() { }\n\n//     /**\n//    * 初始化微信平台\n//    */\n//     onLoad(): void {\n//         console.log(\"微信平台初始化\");\n//         this.loadVideoAd();\n//         // 监听游戏显示事件\n//         wx.onShow((res: { scene: number }) => {\n//             console.log(\"wx.onShow:\", res.scene);\n//         });\n//     }\n\n//     /**显示分享菜单 */\n//     showShareMenu(): void {\n//         const shareUrls = [\"https://example.com/share1.jpg\", \"https://example.com/share2.jpg\"]; // 替换为实际分享图片URL\n//         const randomIndex = Math.floor(Math.random() * shareUrls.length);\n//         wx.showShareMenu({\n//             title: \"试过了，这款小游戏真的好玩！\",\n//             desc: \"试过了，这款小游戏真的好玩！\",\n//             imageUrl: shareUrls[randomIndex],\n//             success() {\n//                 console.log(\"showShareMenu 调用成功\");\n//             },\n//             fail(err: any) {\n//                 console.log(\"showShareMenu 调用失败\", err.errMsg);\n//             },\n//             complete() {\n//                 console.log(\"showShareMenu 调用完成\");\n//             }\n//         });\n\n//         wx.onShareAppMessage(() => {\n//             return {\n//                 title: \"试过了，这款小游戏真的好玩！\",\n//                 imageUrl: shareUrls[randomIndex],\n//                 query: \"openId=123456\" // 替换为实际openId\n//             };\n//         });\n//     }\n\n//     /**\n//      * 显示Toast提示\n//      * @param title 提示内容\n//      * @param icon 图标类型，默认\"none\"\n//      * @param duration 显示时长(毫秒)，默认2000\n//      */\n//     showToast(title: string, icon: string = \"none\", duration: number = 2000): void {\n//         wx.showToast({\n//             title,\n//             icon,\n//             duration,\n//         });\n//     }\n\n//     /**加载激励视频广告 */\n//     loadVideoAd(): void {\n//         this.videoAd = wx.createRewardedVideoAd({\n//             adUnitId: \"adunit-8f22a6474a97b725\"\n//         });\n//         // 广告关闭回调\n//         this.videoAd.onClose((res: { isEnded: boolean }) => {\n//             if (res.isEnded) {\n//                 this.callback && this.callback(); // 完整观看回调\n//             } else {\n//                 this.close_callback && this.close_callback(); // 中途关闭回调\n//             }\n//             this.callback = null;\n//             this.close_callback = null;\n//         });\n//         // 广告错误回调\n//         this.videoAd.onError((err: any) => {\n//             console.log(\"onError\" + err);\n//             this.showToast(\"视频加载错误\", \"fail\");\n//         });\n//     }\n\n//     /**\n//      * 显示激励视频广告\n//      * @param callback 观看完成的回调\n//      * @param close_callback 中途关闭的回调\n//      */\n//     showVideoAd(callback: () => void, close_callback?: () => void): void {\n//         this.callback = callback;\n//         this.close_callback = close_callback;\n\n//         this.videoAd.show().then(() => {\n//             console.log(\"video success\");\n//         }).catch(() => {\n//             console.error(\"video fail\");\n//             this.reLoadVideo();\n//         });\n//     }\n\n//     /**\n//      * 重新加载激励视频广告\n//      */\n//     reLoadVideo(): void {\n//         this.videoAd.load().then(() => {\n//             this.videoAd.show();\n//             console.log(\"video success\");\n//         }).catch(() => {\n//             this.showToast(\"视频显示失败, 稍后重试\", \"fail\");\n//             console.error(\"video fail\");\n//         });\n//     }\n\n//     /**\n//      * 分享小程序消息\n//      * @param callback 分享成功回调\n//      * @param showToast 分享失败时是否显示Toast，默认true\n//      */\n//     onShareAppMessage(callback?: () => void, showToast: boolean = true): void {\n//         const shareUrls = [\"https://example.com/share1.jpg\", \"https://example.com/share2.jpg\"]; // 替换为实际分享图片URL\n//         const randomIndex = Math.floor(Math.random() * shareUrls.length);\n\n//         wx.shareAppMessage({\n//             title: \"试过了，这款小游戏真的好玩！\",\n//             imageUrl: shareUrls[randomIndex],\n//             query: \"openId=123456\", // 替换为实际openId\n//             success() {\n//                 console.log(\"分享视频成功\");\n//                 callback && callback();\n//             },\n//             fail() {\n//                 showToast && this.showToast(\"需要分享游戏给好友才能获得奖励哟！\");\n//             }\n//         });\n//     }\n\n//     /**\n//      * 显示自定义广告\n//      * @param showTop 是否显示顶部广告\n//      * @param showBottom 是否显示底部广告\n//      */\n//     showCustomAd(showTop: boolean, showBottom: boolean): void {\n//         clearInterval(this.setTimer);\n//         this.setTimer = window.setInterval(this.updateCustomAd.bind(this), 10000);\n//         this.customadBottom = showBottom;\n//         this.customadTop = showTop;\n//         this.showCustomAdSelf(showTop, showBottom);\n//     }\n\n//     /**\n//      * 更新自定义广告\n//      */\n//     private updateCustomAd(): void {\n//         this.hideCustomAd(true, true);\n//         this.customadIndex += 4;\n//         if (this.customadIndex >= this.CustomAd.length) {\n//             this.customadIndex = 0;\n//         }\n//         this.showCustomAdSelf(this.customadTop, this.customadBottom);\n//     }\n\n//     /**\n//      * 实际显示自定义广告\n//      * @param showTop 是否显示顶部广告\n//      * @param showBottom 是否显示底部广告\n//      */\n//     private showCustomAdSelf(showTop: boolean, showBottom: boolean): void {\n//         if (showTop) {\n//             this.CustomAd[this.customadIndex]?.isShow() || this.CustomAd[this.customadIndex]?.show();\n//             this.CustomAd[this.customadIndex + 1]?.isShow() || this.CustomAd[this.customadIndex + 1]?.show();\n//         }\n//         if (showBottom) {\n//             this.CustomAd[this.customadIndex + 2]?.isShow() || this.CustomAd[this.customadIndex + 2]?.show();\n//             this.CustomAd[this.customadIndex + 3]?.isShow() || this.CustomAd[this.customadIndex + 3]?.show();\n//         }\n//     }\n\n//     /**\n//      * 隐藏自定义广告\n//      * @param hideTop 是否隐藏顶部广告\n//      * @param hideBottom 是否隐藏底部广告\n//      */\n//     hideCustomAd(hideTop: boolean, hideBottom: boolean): void {\n//         for (let i = 0; i < this.CustomAd.length; i++) {\n//             const position = i % 4;\n//             if (hideTop && position < 2 && this.CustomAd[i]?.isShow()) {\n//                 this.CustomAd[i].hide();\n//             }\n//             if (hideBottom && position >= 2 && this.CustomAd[i]?.isShow()) {\n//                 this.CustomAd[i].hide();\n//             }\n//         }\n//     }\n\n//     // 其他微信API封装方法...\n\n//     /**\n//      * 监听游戏显示事件\n//      * @param callback 回调函数\n//      */\n//     onShow(callback: (res: any) => void): void {\n//         wx.onShow(callback);\n//     }\n\n//     /**\n//      * 取消监听游戏显示事件\n//      * @param callback 回调函数\n//      */\n//     offShow(callback: (res: any) => void): void {\n//         wx.offShow(callback);\n//     }\n\n//     /**\n//      * 获取启动参数\n//      * @returns 启动参数\n//      */\n//     getLaunchOptionsSync(): any {\n//         return wx.getLaunchOptionsSync();\n//     }\n\n\n//     /**\n//      * 微信震动功能封装\n//      * @param Type 震动强度类型，可选值为 'heavy' | 'medium' | 'light'，默认为'medium'\n//      * @param Callbacks 可选的回调函数配置\n//      * @param Callbacks.success 震动成功的回调函数\n//      * @param Callbacks.fail 震动失败的回调函数\n//      * @param Callbacks.complete 震动完成的回调函数（无论成功失败都会执行）\n//      */\n//     VibrateShort(\n//         Type: 'heavy' | 'medium' | 'light' = 'medium',\n//         Callbacks?: {\n//             success?: () => void,\n//             fail?: (err: { errMsg: string }) => void,\n//             complete?: () => void\n//         }\n//     ): void {\n//         wx.vibrateShort({ Type, ...Callbacks });\n//     }\n\n\n\n\n\n\n\n// }\n// // export default WxApi;\n\n"]}