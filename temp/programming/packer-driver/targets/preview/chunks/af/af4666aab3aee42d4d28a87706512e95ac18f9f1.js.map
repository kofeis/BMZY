{"version":3,"sources":["file:///Users/jingfaxie/Documents/UGit/minigame3/Aby/assets/scripts/game/layer/GetFoodLayer.ts"],"names":["_decorator","BaseLayer","audioManager","constants","msgcmd","gameModel","ccclass","property","GetFoodLayer","onLoad","onEnable","addEventArr","mapLeave","initUI","refreshRecipeInfo","scheduleOnce","showPassLayer","setSpriteFrame2","getNodeByPath","layerData","icon","setString","name","gameLayer","popLayer","layers","PassLayer","onNextBtnClick","playEffect","audioNames","btnClick","mapLeaveEventCb","closeLayer"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;;AACAC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,Y,iBAAAA,Y;;AACAC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,M,iBAAAA,M;;AACAC,MAAAA,S,iBAAAA,S;;;;;;;;;OAEH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;8BAGjBQ,Y,WADZF,OAAO,CAAC,cAAD,C,gBAAR,MACaE,YADb;AAAA;AAAA,kCAC4C;AAExCC,QAAAA,MAAM,GAAG;AACL,gBAAMA,MAAN;AACH;;AAEDC,QAAAA,QAAQ,GAAG;AACP,gBAAMA,QAAN;AAEA,eAAKC,WAAL,CAAiB,CACb;AAAA;AAAA,gCAAOC,QADM,CAAjB;AAGH;;AAEDC,QAAAA,MAAM,GAAG;AACL,eAAKC,iBAAL;AACA,eAAKC,YAAL,CAAkB,KAAKC,aAAvB,EAAsC,GAAtC;AACH;;AAEDF,QAAAA,iBAAiB,GAAG;AAChB,eAAKG,eAAL,CAAqB,KAAKC,aAAL,CAAmB,eAAnB,CAArB,EAA0D,KAAKC,SAAL,CAAeC,IAAzE;AACA,eAAKC,SAAL,CAAe,KAAKH,aAAL,CAAmB,cAAnB,CAAf,EAAmD,KAAKC,SAAL,CAAeG,IAAlE;AACH;;AAEDN,QAAAA,aAAa,GAAG;AACZ;AAAA;AAAA,sCAAUO,SAAV,CAAoBC,QAApB,CAA6B;AAAA;AAAA,sCAAUC,MAAV,CAAiBC,SAA9C;AACH;;AAEDC,QAAAA,cAAc,GAAG;AACb;AAAA;AAAA,4CAAaC,UAAb,CAAwB;AAAA;AAAA,sCAAUC,UAAV,CAAqBC,QAA7C;AACH;;AAEDC,QAAAA,eAAe,GAAG;AACd,eAAKC,UAAL;AACH;;AAlCuC,O","sourcesContent":["import { _decorator, Component, Node, find } from 'cc';\nimport { BaseLayer } from '../../framework/common/BaseLayer';\nimport { audioManager } from '../../framework/manager/AudioManager';\nimport { constants } from '../data/Constants';\nimport { msgcmd } from '../data/MsgCmd';\nimport { gameModel } from '../model/GameModel';\n\nconst { ccclass, property } = _decorator;\n\n@ccclass('GetFoodLayer')\nexport class GetFoodLayer extends BaseLayer {\n\n    onLoad() {\n        super.onLoad();\n    }\n\n    onEnable() {\n        super.onEnable();\n\n        this.addEventArr([\n            msgcmd.mapLeave,\n        ]);\n    }\n\n    initUI() {\n        this.refreshRecipeInfo();\n        this.scheduleOnce(this.showPassLayer, 1.5);\n    }\n\n    refreshRecipeInfo() {\n        this.setSpriteFrame2(this.getNodeByPath(\"UI/Light/Icon\"), this.layerData.icon);\n        this.setString(this.getNodeByPath(\"UI/Name/Text\"), this.layerData.name);\n    }\n\n    showPassLayer() {\n        gameModel.gameLayer.popLayer(constants.layers.PassLayer);\n    }\n\n    onNextBtnClick() {\n        audioManager.playEffect(constants.audioNames.btnClick);\n    }\n\n    mapLeaveEventCb() {\n        this.closeLayer();\n    }\n}\n"]}