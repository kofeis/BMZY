{"version":3,"sources":["file:///D:/CYDW/WoChengYuTeNiu/assets/Script/Game/GameMode/PanelIdiom.ts"],"names":["_decorator","color","find","Label","Layout","tween","Animation","v3","PanelTemplate","PlatformApi","Tool_Animation","Tool_Event","Tool_Other","Tool_UI","ccclass","property","PanelIdiom","KeyData","ValueStr","ValueIndex","ValueMoveing","TipState","PanelVictory","BtnBreak","BtnGet","GetState","Obj_Start","num","Time","Time_Max","Obj_StartP","TimeP","Time_MaxP","onLoad","onEnable","IsInit","LoadPanel","GameStart","start","instance","showInterstitialAd","Timing","TimingP","Async_Function_Target","console","log","Anim_Frame_Play_Plus","BtnTip","getComponent","TimStop","Tween_Stop_Target","TimStopP","Promise","resolve","reject","BtnSetting","node","PanelTip","BtnTipClose","BtnNext","OnBtn","Game_Script","AnimSwitch","BtnSettingCall","Resoure_Data","Sound_Play","PanelSetting","active","BtnTipCall","Call","IsHint","PropNum","DataSet","showVideoAd","Music_Resume","BtnTipCloseCall","UpdatePropUI","BtnNextCall","BtnBreakCall","shareAppMessage","BtnGetCall","Grid","i","children","length","getChildByName","On_Event_TOUCH_END","Set_Btn_Event_Anim","Key","Value","TouchNode","undefined","Vibration_Switch_Get","vibrateShort","Node_Index_Set","PosStart","position","clone","PosEnd","Get_Target_Node_Local_Pos","Animation_Node_Move_Time","Char","string","Result","GetResult","isValid","isComplete","j","by","scale","easing","Async_Wait","GameVictory","Set_Color","ScaleT","ScaleP","call","to","InitData","OnMessage","IdiomLevel","Text","push","substring","Sort_Random","Component_On","updateLayout","Set_UIOpacity","EntryNodes","scheduleOnce","Component_Off","Set_Pos_X","IdiomScore","BtnTipLabel","BtnTipNull","GetData","dioms","Load_Json","Candidate","indexOf","some","Idiom","startsWith"],"mappings":"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","sourcesContent":["import { _decorator, color, Component, find, Label, Layout, Node, Sprite, tween, Animation, v3, Vec3 } from 'cc';\r\nimport { PanelTemplate } from './PanelTemplate';\r\nimport { PlatformApi } from '../../Other/SDK/PlatformApi';\r\nimport { Tool_Animation } from '../../Tool/Tool_Animation';\r\nimport { Tool_Event } from '../../Tool/Tool_Event';\r\nimport { Tool_Other } from '../../Tool/Tool_Other';\r\nimport { Tool_UI } from '../../Tool/Tool_UI';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('PanelIdiom')\r\nexport class PanelIdiom extends PanelTemplate {\r\n\r\n    /**Key数据 */\r\n    KeyData = null;\r\n\r\n    /**Value字符串 */\r\n    ValueStr: string = \"\";\r\n    /**Value索引 */\r\n    ValueIndex: number = 0;\r\n    /**是否移动 */\r\n    ValueMoveing: boolean = false;\r\n\r\n    /**提示状态 */\r\n    TipState: boolean = false;\r\n    /**胜利界面 */\r\n    PanelVictory: Node = null;\r\n\r\n    /**返回按钮 */\r\n    BtnBreak: Node = null;\r\n    /**获取答案按钮 */\r\n    BtnGet: Node = null;\r\n    /**答案状态 */\r\n    GetState: boolean = false;\r\n\r\n    Obj_Start = { num: 0 }\r\n    Time: number = 0;\r\n    Time_Max: number = 15;//15\r\n\r\n    Obj_StartP = { num: 0 }\r\n    TimeP: number = 0;\r\n    Time_MaxP: number = 45;//45\r\n\r\n    async onLoad() {\r\n        super.onLoad();\r\n    }\r\n\r\n    async onEnable() {\r\n        if (!this.IsInit) {\r\n            await this.LoadPanel();\r\n        }\r\n        this.GameStart();\r\n    }\r\n\r\n    async start() {\r\n        PlatformApi.instance.showInterstitialAd();\r\n        this.Timing();\r\n        this.TimingP();\r\n    }\r\n\r\n\r\n    Timing() {\r\n        this.Obj_Start = { num: 0 };\r\n        Tool_Animation.instance.Async_Function_Target(this.Time_Max, this.Obj_Start, () => {\r\n            console.log(\"无操作播放\");\r\n            Tool_Animation.instance.Anim_Frame_Play_Plus(this.BtnTip.getComponent(Animation), null, null, null, null, null, 3, 0, () => {\r\n                this.Timing();\r\n            });\r\n        })\r\n    }\r\n    TimStop() {\r\n        console.log(\"重置无操作播放计时\");\r\n        Tool_Animation.instance.Tween_Stop_Target(this.Obj_Start);\r\n        this.Timing();\r\n    }\r\n\r\n    TimingP() {\r\n        this.Obj_StartP = { num: 0 };\r\n        Tool_Animation.instance.Async_Function_Target(this.Time_MaxP, this.Obj_StartP, () => {\r\n            console.log(\"误操作播放\");\r\n            Tool_Animation.instance.Anim_Frame_Play_Plus(this.BtnTip.getComponent(Animation), null, null, null, null, null, 3, 0, () => {\r\n                this.TimingP();\r\n            });\r\n        })\r\n    }\r\n    TimStopP() {\r\n        console.log(\"重置误操作播放计时\");\r\n        Tool_Animation.instance.Tween_Stop_Target(this.Obj_StartP);\r\n        this.TimingP();\r\n    }\r\n\r\n\r\n\r\n    /**加载面板 */\r\n    async LoadPanel(): Promise<void> {\r\n        return new Promise(async (resolve, reject) => {\r\n            /**绑定关键节点 */\r\n            this.BtnSetting = find(\"BtnSetting\", this.node);\r\n            this.BtnTip = find(\"BtnTip\", this.node);\r\n            this.PanelTip = find(\"PanelTip\", this.node);\r\n            this.BtnTipClose = find(\"BtnTipClose\", this.PanelTip);\r\n            this.PanelVictory = find(\"PanelVictory\", this.node);\r\n            this.BtnNext = find(\"BtnNext\", this.PanelVictory);\r\n            this.BtnBreak = find(\"BtnBreak\", this.PanelVictory);\r\n            this.BtnGet = find(\"BtnGet\", this.PanelTip);\r\n            /**注册按钮事件 */\r\n            await this.OnBtn(this.Game_Script.AnimSwitch);\r\n            this.IsInit = true;\r\n            resolve();\r\n        });\r\n    }\r\n\r\n    /**注册按钮 */\r\n    async OnBtn(AnimSwitch: boolean = false) {\r\n        /**设置按钮 */\r\n        const BtnSettingCall = () => {\r\n            if (this.ValueMoveing) {\r\n                return;\r\n            }\r\n            this.Resoure_Data.Sound_Play(\"Audio/Sound/Btn\");\r\n            this.Game_Script.PanelSetting.active = true;\r\n            // PlatformApi.instance.showInterstitialAd();\r\n            this.TimStop();\r\n        }\r\n        /**提示按钮 */\r\n        const BtnTipCall = () => {\r\n            if (this.ValueMoveing) {\r\n                return;\r\n            }\r\n            this.Resoure_Data.Sound_Play(\"Audio/Sound/Btn\");\r\n            if (this.TipState) {\r\n                this.PanelTip.active = true;\r\n            } else {\r\n                const Call = () => {\r\n                    this.TipState = true;\r\n                    this.Game_Script.IsHint = true;\r\n                    this.PanelTip.active = true;\r\n                    this.Game_Script.PropNum--;\r\n                    this.Game_Script.DataSet();\r\n                    // this.UpdatePropUI();\r\n                }\r\n                if (this.Game_Script.PropNum > 0) {\r\n                    Call();\r\n                } else {\r\n                    PlatformApi.instance.showVideoAd(async () => {\r\n                        this.Resoure_Data.Music_Resume();\r\n                        this.Game_Script.PropNum += 2;\r\n                        Call();\r\n                    }, () => {\r\n                        this.Resoure_Data.Music_Resume();\r\n                    });\r\n                }\r\n            }\r\n            this.TimStop();\r\n        }\r\n        /**关闭提示界面 */\r\n        const BtnTipCloseCall = () => {\r\n            if (this.ValueMoveing) {\r\n                return;\r\n            }\r\n            this.Resoure_Data.Sound_Play(\"Audio/Sound/Btn\");\r\n            this.PanelTip.active = false;\r\n            this.UpdatePropUI();\r\n            this.TimStop();\r\n        }\r\n        /**下一关按钮 */\r\n        const BtnNextCall = () => {\r\n            if (this.ValueMoveing) {\r\n                return;\r\n            }\r\n            this.Resoure_Data.Sound_Play(\"Audio/Sound/Btn\");\r\n            this.GameStart();\r\n            this.TimStop();\r\n        }\r\n        /**关闭按钮 */\r\n        const BtnBreakCall = () => {\r\n            if (this.ValueMoveing) {\r\n                return;\r\n            }\r\n            this.Resoure_Data.Sound_Play(\"Audio/Sound/Btn\");\r\n            // this.node.active = false;\r\n            PlatformApi.instance.shareAppMessage(() => {\r\n                console.log(\"分享成功\");\r\n            }, () => {\r\n                console.log(\"分享失败\");\r\n            });\r\n            this.TimStop();\r\n        }\r\n        /**获取答案 */\r\n        const BtnGetCall = async () => {\r\n            if (this.ValueMoveing) {\r\n                return;\r\n            }\r\n            this.Resoure_Data.Sound_Play(\"Audio/Sound/Btn\");\r\n            if (this.GetState) {\r\n                return;\r\n            }\r\n            this.GetState = true;\r\n            let Grid = find(\"Window/Grid\", this.PanelTip);\r\n            PlatformApi.instance.showVideoAd(async () => {\r\n                this.Resoure_Data.Music_Resume();\r\n                for (let i = 8; i < Grid.children.length; i++) {\r\n                    Grid.children[i].getChildByName(\"Lock\").active = false;\r\n                    Grid.children[i].getChildByName(\"Label\").active = !Grid.children[i].getChildByName(\"Lock\").active;\r\n                }\r\n                this.BtnTipClose.getChildByName(\"No\").active = false;\r\n                this.BtnTipClose.getChildByName(\"Ok\").active = true;\r\n            }, () => {\r\n                this.Resoure_Data.Music_Resume();\r\n            });\r\n            this.TimStop();\r\n        }\r\n        /**设置按钮事件 */\r\n        Tool_Event.instance.On_Event_TOUCH_END(this.BtnSetting, BtnSettingCall);\r\n        Tool_Event.instance.On_Event_TOUCH_END(this.BtnTip, BtnTipCall);\r\n        Tool_Event.instance.On_Event_TOUCH_END(this.BtnTipClose, BtnTipCloseCall);\r\n        Tool_Event.instance.On_Event_TOUCH_END(this.BtnNext, BtnNextCall);\r\n        Tool_Event.instance.On_Event_TOUCH_END(this.BtnBreak, BtnBreakCall);\r\n        Tool_Event.instance.On_Event_TOUCH_END(this.BtnGet, BtnGetCall);\r\n        Tool_Event.instance.On_Event_TOUCH_END(this.PanelTip.getChildByName(\"Bg\"), () => {\r\n            if (this.ValueMoveing) {\r\n                return;\r\n            }\r\n            this.PanelTip.active = false;\r\n            this.UpdatePropUI();\r\n            this.TimStop();\r\n        });\r\n        /**设置按钮动画 */\r\n        Tool_Event.instance.Set_Btn_Event_Anim(this.BtnSetting, AnimSwitch);\r\n        Tool_Event.instance.Set_Btn_Event_Anim(this.BtnTip, AnimSwitch);\r\n        Tool_Event.instance.Set_Btn_Event_Anim(this.BtnTipClose, AnimSwitch);\r\n        Tool_Event.instance.Set_Btn_Event_Anim(this.BtnNext, AnimSwitch);\r\n        Tool_Event.instance.Set_Btn_Event_Anim(this.BtnBreak, AnimSwitch);\r\n        Tool_Event.instance.Set_Btn_Event_Anim(this.BtnGet, AnimSwitch);\r\n        let Key = find(\"Key\", this.node);\r\n        let Value = find(\"Value\", this.node);\r\n        for (let i = 0; i < Value.children.length; i++) {\r\n            let TouchNode = Value.children[i];\r\n            Tool_Event.instance.On_Event_TOUCH_END(TouchNode, () => {\r\n                if (this.ValueMoveing) {\r\n                    return;\r\n                }\r\n                if (this.KeyData == null || this.KeyData == undefined) {\r\n                    return;\r\n                }\r\n                if (Key.children[this.ValueIndex] == undefined) {\r\n                    return;\r\n                }\r\n\r\n                if (this.Resoure_Data.Vibration_Switch_Get()) {\r\n                    PlatformApi.instance.vibrateShort();\r\n                }\r\n\r\n                this.TimStop();\r\n                Tool_UI.instance.Node_Index_Set(TouchNode, -1);\r\n                /**点击 */\r\n                this.Resoure_Data.Sound_Play(\"Audio/Sound/Click\");\r\n                this.ValueMoveing = true;\r\n                let PosStart = TouchNode.position.clone();\r\n                let PosEnd = Tool_UI.instance.Get_Target_Node_Local_Pos(TouchNode, Key.children[this.ValueIndex]);\r\n                Tool_Animation.instance.Animation_Node_Move_Time(TouchNode, PosEnd, 0.25, async () => {\r\n                    let Char = TouchNode.getChildByName(\"Label\").getComponent(Label).string;\r\n                    let Result = this.GetResult(Char);\r\n                    if (Result.isValid) {\r\n                        this.TimStopP();\r\n                        /**匹配正确 */\r\n                        this.Resoure_Data.Sound_Play(\"Audio/Sound/Correct\");\r\n                        /**首字正确 */\r\n                        // if (this.ValueIndex % 4 == 1) {\r\n\r\n                        // }\r\n                        Key.children[this.ValueIndex - 1].getChildByName(\"Label\").getComponent(Label).string = Char;\r\n                        TouchNode.active = false;\r\n                        if (Result.isComplete) {\r\n                            /**匹配完成 */\r\n                            this.Resoure_Data.Sound_Play(\"Audio/Sound/isComplete\");\r\n                            for (let j = 4; j > 0; j--) {\r\n                                tween(Key.children[this.ValueIndex - j])\r\n                                    .by(0.25, { scale: v3(0.5, 0.5, 0) }, { easing: \"quadOut\" })\r\n                                    .by(0.25, { scale: v3(-0.5, -0.5, 0) }, { easing: \"quadOut\" })\r\n                                    .start();\r\n                                await Tool_Animation.instance.Async_Wait(0.05);\r\n                            }\r\n                        } else {\r\n                            this.ValueMoveing = false;\r\n                        }\r\n                        await Tool_Animation.instance.Async_Wait(0.25);\r\n                        if (this.ValueIndex == Key.children.length) {\r\n                            await Tool_Animation.instance.Async_Wait(0.6);\r\n                            /**胜利音效 */\r\n                            this.Resoure_Data.Sound_Play(\"Audio/Sound/Victory\");\r\n                            await Tool_Animation.instance.Async_Wait(0.2);\r\n                            console.log(\"成语胜利\");\r\n                            this.GameVictory();\r\n                            await Tool_Animation.instance.Async_Wait(1);\r\n                            this.ValueMoveing = false;\r\n                        } else {\r\n                            this.ValueMoveing = false;\r\n                        }\r\n                    } else {\r\n                        /**匹配错误 */\r\n                        this.Resoure_Data.Sound_Play(\"Audio/Sound/Wrong\");\r\n                        if (this.Resoure_Data.Vibration_Switch_Get()) {\r\n                            PlatformApi.instance.vibrateShort();\r\n                        }\r\n                        Tool_UI.instance.Set_Color(TouchNode.getChildByName(\"Bg\"), color(255, 0, 0, 255));\r\n\r\n\r\n                        let ScaleT: number = 0.6\r\n                        let ScaleP: number = 0.7\r\n\r\n                        tween(TouchNode)\r\n                            .by(0.05 * ScaleT, { position: v3(-25 * ScaleP, 0, 0) }, { easing: \"quadOut\" })\r\n                            .by(0.1 * ScaleT, { position: v3(50 * ScaleP, 0, 0) }, { easing: \"quadOut\" })\r\n                            .by(0.05 * ScaleT, { position: v3(-25 * ScaleP, 0, 0) }, { easing: \"quadOut\" })\r\n                            .call(() => {\r\n                                Tool_UI.instance.Set_Color(TouchNode.getChildByName(\"Bg\"), color(255, 255, 255, 255));\r\n                                Tool_Animation.instance.Animation_Node_Move_Time(TouchNode, PosStart, 0.25, () => {\r\n                                    this.ValueMoveing = false;\r\n                                });\r\n                                tween(TouchNode)\r\n                                    .to(0.25, { scale: v3(1, 1, 1) }, { easing: \"quadOut\" })\r\n                                    .start();\r\n                            })\r\n                            .start();\r\n                    }\r\n                });\r\n                tween(TouchNode)\r\n                    .to(0.25, { scale: v3(0.85, 0.9, 1) }, { easing: \"quadOut\" })\r\n                    .start();\r\n            });\r\n        }\r\n    }\r\n\r\n    /**游戏开始 */\r\n    async GameStart() {\r\n        /**初始化数据 */\r\n        await this.InitData();\r\n        this.Game_Script.IsHint = false;\r\n        this.PanelVictory.active = false;\r\n        this.PanelTip.active = false;\r\n        this.TipState = false;\r\n        this.GetState = false;\r\n\r\n        this.BtnTipClose.getChildByName(\"Ok\").active = false;\r\n        this.BtnTipClose.getChildByName(\"No\").active = true;\r\n\r\n        this.UpdatePropUI();\r\n        if (this.KeyData == null || this.KeyData == undefined) {\r\n            this.Game_Script.OnMessage(\"暂时没有新题目了\");\r\n            return;\r\n        }\r\n        this.node.getChildByName(\"Title\").getChildByName(\"Leves\").getComponent(Label).string = `我成语特牛·第${this.Game_Script.IdiomLevel + 1}关`; //`我成语特牛·第${this.Game_Script.IdiomLevel + 1}关`;\r\n        let Text: string[] = [];\r\n        for (let i = 0; i < this.KeyData.length; i++) {\r\n            for (let j = 0; j < this.KeyData[i].length; j++) {\r\n                Text.push(this.KeyData[i].substring(j, j + 1));\r\n            }\r\n        }\r\n        /**初始化提示界面 */\r\n        let Grid = find(\"Window/Grid\", this.PanelTip);\r\n        for (let i = 0; i < Grid.children.length; i++) {\r\n            Grid.children[i].getChildByName(\"Label\").getComponent(Label).string = Text[i];\r\n            Grid.children[i].getChildByName(\"Lock\").active = i >= 8 ? true : false;\r\n            Grid.children[i].getChildByName(\"Label\").active = !Grid.children[i].getChildByName(\"Lock\").active;\r\n        }\r\n        Tool_Other.instance.Sort_Random(Text);\r\n        console.log(Text);\r\n        let Key = find(\"Key\", this.node);\r\n        let Value = find(\"Value\", this.node);\r\n        Tool_UI.instance.Component_On(Value, Layout);\r\n        Value.getComponent(Layout).updateLayout();\r\n        for (let i = 0; i < Key.children.length; i++) {\r\n            Tool_Animation.instance.Tween_Stop_Target(Key.children[i]);\r\n            Key.children[i].getChildByName(\"Label\").getComponent(Label).string = \"\";\r\n            Key.children[i].scale = v3(1, 1, 1);\r\n        }\r\n        for (let i = 0; i < Value.children.length; i++) {\r\n            Tool_Animation.instance.Tween_Stop_Target(Value.children[i]);\r\n            Value.children[i].getChildByName(\"Label\").getComponent(Label).string = Text[i];\r\n            Tool_UI.instance.Set_UIOpacity(Value.children[i], 255);\r\n            // Tool_UI.instance.Set_Color(Value.children[i].getChildByName(\"Bg\"), color(255, 227, 167, 255));\r\n            Tool_UI.instance.Set_Color(Value.children[i].getChildByName(\"Bg\"), color(255, 255, 255, 255));\r\n            Value.children[i].scale = v3(1, 1, 1);\r\n            Value.children[i].active = true;\r\n            Tool_UI.instance.Set_UIOpacity(Value.children[i], 0);\r\n        }\r\n        /**入场节点 */\r\n        let EntryNodes: Node[] = [];\r\n        let PosEnd: Vec3[] = [];\r\n        this.scheduleOnce(async () => {\r\n            for (let i = 0; i < Value.children.length; i++) {\r\n                PosEnd.push(Value.children[i].position.clone());\r\n                EntryNodes.push(Value.children[i]);\r\n            }\r\n            Tool_UI.instance.Component_Off(Value, Layout);\r\n            for (let i = 0; i < EntryNodes.length; i++) {\r\n                Tool_UI.instance.Set_Pos_X(EntryNodes[i], -640);\r\n                Tool_UI.instance.Set_UIOpacity(EntryNodes[i], 255);\r\n                // Tool_UI.instance.Node_Index_Set(EntryNodes[i], 0);\r\n                Tool_Animation.instance.Animation_Node_Move_Time(EntryNodes[i], PosEnd[i], 0.2);\r\n                await Tool_Animation.instance.Async_Wait(0.02);\r\n            }\r\n        });\r\n\r\n        this.Resoure_Data.Sound_Play(\"Audio/Sound/Show\");\r\n        if (this.Resoure_Data.Vibration_Switch_Get()) {\r\n            for (let i = 0; i < 7; i++) {\r\n                PlatformApi.instance.vibrateShort();\r\n                await Tool_Animation.instance.Async_Wait(0.2);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    /**游戏胜利 */\r\n    async GameVictory() {\r\n        this.scheduleOnce(() => {\r\n            PlatformApi.instance.showInterstitialAd();\r\n        }, 0.8);\r\n        this.Game_Script.IdiomLevel++;\r\n        this.Game_Script.IdiomScore += this.Game_Script.IsHint ? 1 : 2;\r\n        /**保存数据 */\r\n        this.Game_Script.DataSet();\r\n        // find(\"WinBanner/Condition1/Correct\", this.PanelVictory).active = !this.Game_Script.IsHint\r\n        // find(\"WinBanner/Condition1/Wrong\", this.PanelVictory).active = this.Game_Script.IsHint;\r\n        // find(\"WinBanner/Stars/StarR\", this.PanelVictory).getComponent(Sprite).grayscale = this.Game_Script.IsHint;\r\n        // find(\"Light\", this.PanelVictory).getComponent(Animation).play();\r\n        this.PanelVictory.active = true;\r\n\r\n        if (this.Resoure_Data.Vibration_Switch_Get()) {\r\n            for (let i = 0; i < 5; i++) {\r\n                PlatformApi.instance.vibrateShort();\r\n                await Tool_Animation.instance.Async_Wait(0.2);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    /**刷新道具UI */\r\n    UpdatePropUI() {\r\n        const PropNum = this.BtnTip.getChildByName(\"PropNum\");\r\n        const BtnTipLabel = PropNum.getChildByName(\"Label\").getComponent(Label);\r\n        const BtnTipNull = this.BtnTip.getChildByName(\"PropNumNull\");\r\n        BtnTipLabel.string = `${this.Game_Script.PropNum}`;\r\n        if (this.Game_Script.PropNum > 0) {\r\n            BtnTipNull.active = false;\r\n            PropNum.active = true;\r\n        } else {\r\n            BtnTipNull.active = true;\r\n            PropNum.active = false;\r\n        }\r\n    }\r\n\r\n\r\n    /**初始数据 */\r\n    async InitData() {\r\n        await this.GetData();\r\n        this.ValueStr = \"\";\r\n        this.ValueIndex = 0;\r\n        this.ValueMoveing = false;\r\n    }\r\n\r\n    /**获取数据 */\r\n    async GetData() {\r\n        const dioms = await this.Resoure_Data.Load_Json(\"Json/dioms\");\r\n        const KeyData = dioms[\"dioms\"];\r\n        if (this.Game_Script.IdiomLevel >= KeyData.length) {\r\n            this.KeyData = null;\r\n            return;\r\n        }\r\n        this.KeyData = KeyData[this.Game_Script.IdiomLevel];\r\n    }\r\n\r\n    /**获取结果 */\r\n    GetResult(Char: string): { isValid: boolean, isComplete: boolean } {\r\n        // 拼接新字符形成候选字符串\r\n        const Candidate = this.ValueStr + Char;\r\n        // 检查是否是完整成语\r\n        const isComplete = this.KeyData.indexOf(Candidate);\r\n        // 检查是否有成语以这个候选字符串开头\r\n        const isValid = this.KeyData.some(Idiom => Idiom.startsWith(Candidate));\r\n        if (isValid) {\r\n            this.ValueIndex++;\r\n        }\r\n        if (isComplete !== -1) {\r\n            // 如果是完整成语，重置当前拼接状态\r\n            this.ValueStr = \"\";\r\n            return { isValid: true, isComplete: true };\r\n        } else if (isValid) {\r\n            // 如果是有效部分，更新当前拼接状态\r\n            this.ValueStr = Candidate;\r\n            return { isValid: true, isComplete: false };\r\n        } else {\r\n            // 无效输入，重置当前拼接状态\r\n            return { isValid: false, isComplete: false };\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n"]}