System.register(["./global-exports-CR3GRnjt.js"],(function(t){"use strict";var e,n,r,o,i;return{setters:[function(t){e=t.a,n=t.l,r=t.e,o=t.S,t.D,i=t.W}],execute:function(){function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A(r.key),r)}}function s(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function l(){return t("u",l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}),l.apply(this,arguments)}function c(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,f(t,e)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function h(e,n,r){return _()?t("aE",h=Reflect.construct.bind()):t("aE",h=function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&f(o,n.prototype),o}),h.apply(null,arguments)}function p(e){var n="function"==typeof Map?new Map:void 0;return t("ay",p=function(t){if(null===t||(e=t,-1===Function.toString.call(e).indexOf("[native code]")))return t;var e;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,r)}function r(){return h(t,arguments,u(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),f(r,t)}),p(e)}function v(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=v(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function A(t){var e=y(t,"string");return"symbol"==typeof e?e:String(e)}t({$:D,B:Re,D:kt,E:ke,F:Xn,G:C,H:w,I:Pt,J:tt,L:R,Q:function(){},R:B,T:function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},Y:M,_:c,a:s,a1:qe,a5:er,a7:L,aB:_e,aD:Qe,aE:h,aF:Rt,aG:Dt,aH:$e,aI:At,aK:ce,aL:Ne,aP:An,aQ:It,aR:function(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})},aS:function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o},ac:jn,ad:W,ae:nt,af:rt,ah:function(t,e,n){mn(an(t),e,n)},ai:mn,an:te,ap:ue,at:St,au:ee,av:mt,aw:wt,ax:me,ay:p,az:he,b:function(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i},c:function(t,e){e>=0&&t.length,t.length},e:xn,g:et,h:V,i:Kn,j:g,k:Ee,l:function(){},q:$t,r:Se,t:function(t){"__enums__"in t||Yt(t,"__enums__",null,!0)},u:l,w:G,x:Et,y:k,z:Ct});var b=e.document,E="https://github.com/cocos/cocos-engine/blob/"+r+"/EngineErrorMap.md",I=null,O=console.log.bind(console),m=O,N=O,T=function(t,e){if(!t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];console.log("ASSERT: "+P.apply(void 0,[e].concat(r)))}},S=O;function P(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.js.formatStr.apply(null,e)}function w(){return O.apply(void 0,arguments)}function C(){return m.apply(void 0,arguments)}function R(){return N.apply(void 0,arguments)}function D(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return T.apply(void 0,[t,e].concat(r))}function k(){return S.apply(void 0,arguments)}function M(t){if(O=m=N=T=S=function(){},t!==z.NONE){if(t>z.ERROR){var e=function(t){if(n.game.canvas){if(!I){var e=b.createElement("Div");e.setAttribute("id","logInfoDiv"),e.setAttribute("width","200");var r=n.game.canvas.height;e.setAttribute("height",""+r);var o=e.style;o.zIndex="99999",o.position="absolute",o.top=o.left="0",(I=b.createElement("textarea")).setAttribute("rows","20"),I.setAttribute("cols","30"),I.setAttribute("disabled","true");var i=I.style;i.backgroundColor="transparent",i.borderBottom="1px solid #cccccc",i.borderTopWidth=i.borderLeftWidth=i.borderRightWidth="0px",i.borderTopStyle=i.borderLeftStyle=i.borderRightStyle="none",i.padding="0px",i.margin="0px",e.appendChild(I),n.game.canvas.parentNode.appendChild(e)}I.value=I.value+t+"\r\n",I.scrollTop=I.scrollHeight}};N=function(){e("ERROR :  "+P.apply(void 0,arguments))},T=function(t,n){if(!t){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];e("ASSERT: "+P.apply(void 0,[n].concat(o)))}},t!==z.ERROR_FOR_WEB_PAGE&&(m=function(){e("WARN :  "+P.apply(void 0,arguments))}),t===z.INFO_FOR_WEB_PAGE&&(O=function(){e(P.apply(void 0,arguments))})}else console&&(console.error||(console.error=console.log),console.warn||(console.warn=console.log),N=console.error.bind?console.error.bind(console):function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return console.error.apply(console,e)},T=function(t,e){if(!t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i=P.apply(void 0,[e].concat(r));throw new Error(i)}});if(t!==z.ERROR&&(m=console.warn.bind?console.warn.bind(console):function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return console.warn.apply(console,e)}),t<=z.INFO&&(O=console.log.bind?console.log.bind(console):function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return console.log.apply(console,e)}),t<=z.VERBOSE&&"function"==typeof console.debug){var r=console.debug.bind(console);S=function(){return r.apply(void 0,arguments)}}}}function L(t){R(t.stack||t)}function j(t){return function(e){for(var n=t+" "+e+", please go to "+E+"#"+e+" to see details.",r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return 0===o.length?n:n+" Arguments: "+o.join(", ")}}var x=j("Log");function B(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];w(x.apply(void 0,[t].concat(n)))}var H=j("Debug");function W(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];k(H.apply(void 0,[t].concat(n)))}var U=j("Warning");function G(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];C(U.apply(void 0,[t].concat(n)))}var F=j("Error");function V(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];R(F.apply(void 0,[t].concat(n)))}var z,K,X,q,Y,Q,J,Z,$=j("Assert");function tt(t,e){if(!t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];D(!1,$.apply(void 0,[e].concat(r)))}}function et(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return F.apply(void 0,[t].concat(n))}function nt(){return!!n.profiler&&n.profiler.isShowingStats()}function rt(t){n.profiler&&(t?n.profiler.showStats():n.profiler.hideStats())}function ot(t,e){for(var n,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=performance.now(),s=requestAnimationFrame||window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;return void 0===s||null!=(n=globalThis.__globalXR)&&n.isWebXR?setTimeout.apply(void 0,[t,e].concat(o)):s((function n(){performance.now()-a<e?s(n):t.apply(void 0,o)}))}t("X",z),function(t){t[t.NONE=0]="NONE",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.INFO_FOR_WEB_PAGE=5]="INFO_FOR_WEB_PAGE",t[t.WARN_FOR_WEB_PAGE=6]="WARN_FOR_WEB_PAGE",t[t.ERROR_FOR_WEB_PAGE=7]="ERROR_FOR_WEB_PAGE"}(z||t("X",z={})),t("a8",Object.freeze({__proto__:null,get DebugMode(){return z},_resetDebugSetting:M,_throw:L,assert:D,assertID:tt,debug:k,debugID:W,error:R,errorID:V,getError:et,isDisplayStats:nt,log:w,logID:B,setDisplayStats:rt,warn:C,warnID:G})),t("a4",K),function(t){t[t.PORTRAIT=1]="PORTRAIT",t[t.PORTRAIT_UPSIDE_DOWN=2]="PORTRAIT_UPSIDE_DOWN",t[t.LANDSCAPE_LEFT=4]="LANDSCAPE_LEFT",t[t.LANDSCAPE_RIGHT=8]="LANDSCAPE_RIGHT",t[t.LANDSCAPE=12]="LANDSCAPE",t[t.AUTO=13]="AUTO"}(K||t("a4",K={}));var it,at,st=t("U",{});it=st,at=wx,Object.keys(at).forEach((function(t){"function"!=typeof at[t]?it[t]=at[t]:it[t]=at[t].bind(at)})),st.wx={},st.wx.onKeyDown=null==(X=wx.onKeyDown)?void 0:X.bind(wx),st.wx.onKeyUp=null==(q=wx.onKeyUp)?void 0:q.bind(wx),st.wx.onMouseDown=null==(Y=wx.onMouseDown)?void 0:Y.bind(wx),st.wx.onMouseMove=null==(Q=wx.onMouseMove)?void 0:Q.bind(wx),st.wx.onMouseUp=null==(J=wx.onMouseUp)?void 0:J.bind(wx),st.wx.onWheel=null==(Z=wx.onWheel)?void 0:Z.bind(wx);var lt,ct,ut=wx.getSystemInfoSync();lt=0,ct=null,ct=setInterval((function(){var t=wx.getSystemInfoSync();ut.screenWidth===t.screenWidth&&ut.screenHeight===t.screenHeight?++lt>=10&&null!==ct&&(clearInterval(ct),ct=null):lt=0,ut=t}),500),null==st.onWindowResize||st.onWindowResize((function(){ut=wx.getSystemInfoSync()})),st.getSystemInfoSync=function(){return ut};var ft=st.getSystemInfoSync();st.isDevTool="devtools"===ft.platform,Object.defineProperty(st,"isLandscape",{get:function(){var t=wx.getSystemInfoSync();return"string"==typeof t.deviceOrientation?t.deviceOrientation.startsWith("landscape"):t.screenWidth>t.screenHeight}});var _t,ht,pt=K.LANDSCAPE_RIGHT;if("android"!==ft.platform.toLocaleLowerCase()&&wx.onDeviceOrientationChange((function(t){"landscape"===t.value?pt=K.LANDSCAPE_RIGHT:"landscapeReverse"===t.value&&(pt=K.LANDSCAPE_LEFT)})),Object.defineProperty(st,"orientation",{get:function(){return st.isLandscape?pt:K.PORTRAIT}}),st.onAccelerometerChange=function(t){st.offAccelerometerChange(),_t=function(e){var n=e.x,r=e.y;if(st.isLandscape){var o=pt===K.LANDSCAPE_RIGHT?1:-1,i=n;n=-r*o,r=i*o}var a={x:n,y:r,z:e.z};t(a)}},st.offAccelerometerChange=function(){_t&&(wx.offAccelerometerChange(_t),_t=void 0)},st.startAccelerometer=function(t){_t&&wx.onAccelerometerChange(_t),wx.startAccelerometer(t)},st.createInnerAudioContext=(ht=wx,function(){var t=ht.createInnerAudioContext(),e=t.play,n=null;Object.defineProperty(t,"onPlay",{configurable:!0,value:function(t){n=t}}),Object.defineProperty(t,"play",{configurable:!0,value:function(){e.call(t),n&&setTimeout(n,0)}});var r=t.pause,o=null;Object.defineProperty(t,"onPause",{configurable:!0,value:function(t){o=t}}),Object.defineProperty(t,"pause",{configurable:!0,value:function(){r.call(t),o&&setTimeout(o,0)}});var i=t.stop,a=null;return Object.defineProperty(t,"onStop",{configurable:!0,value:function(t){a=t}}),Object.defineProperty(t,"stop",{configurable:!0,value:function(){i.call(t),a&&setTimeout(a,0)}}),t}),st.getSafeArea=function(){var t=wx.getSystemInfoSync().safeArea;return t||(t={left:0,top:0,bottom:ft.screenHeight,right:ft.screenWidth,width:ft.screenWidth,height:ft.screenHeight}),t},"windows"===ft.platform&&function(t,e){var n=/\d+\.\d+\.\d+/;if(!n.test(t)||!n.test(e))return G(16356),0;for(var r=t.split(".").map((function(t){return Number.parseInt(t)})),o=e.split(".").map((function(t){return Number.parseInt(t)})),i=0;i<3;++i){var a=r[i],s=o[i];if(a!==s)return a-s}return 0}(ft.SDKVersion,"2.16.0")<0){var vt=canvas;if(vt){var dt=vt.getContext("webgl"),gt=dt.useProgram.bind(dt);dt.useProgram=function(t){t&&gt(t)}}}var yt=t("aJ",2147483647);function At(t){return(t>0)-(t<0)}function bt(t,e){return t^(t^e)&-(t<e)}function Et(t){var e,n;return e=(t>65535)<<4,e|=n=((t>>>=e)>255)<<3,e|=n=((t>>>=n)>15)<<2,(e|=n=((t>>>=n)>3)<<1)|(t>>>=n)>>1}function It(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24}function Ot(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}function mt(t){return--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,1+(t|=t>>>16)}var Nt=new Array(256);!function(t){for(var e=0;e<256;++e){var n=e,r=e,o=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--o;t[e]=r<<o&255}}(Nt),t("a9",Object.freeze({__proto__:null,INT_BITS:32,INT_MAX:yt,INT_MIN:-1<<31,abs:function(t){var e=t>>31;return(t^e)-e},countTrailingZeros:Ot,deinterleave2:function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},deinterleave3:function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},interleave2:function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},interleave3:function(t,e,n){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},isPow2:function(t){return!(t&t-1||!t)},log10:function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},log2:Et,max:bt,min:function(t,e){return e^(t^e)&-(t<e)},nextCombination:function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>Ot(t)+1},nextPow2:mt,parity:function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1},popCount:It,prevPow2:function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},reverse:function(t){return Nt[255&t]<<24|Nt[t>>>8&255]<<16|Nt[t>>>16&255]<<8|Nt[t>>>24&255]},sign:At}));var Tt=t("as",function(){function t(t){this.i=0,this.array=t}var e=t.prototype;return e.remove=function(t){var e=this.array.indexOf(t);e>=0&&this.removeAt(e)},e.removeAt=function(t){this.array.splice(t,1),t<=this.i&&--this.i},e.fastRemove=function(t){var e=this.array.indexOf(t);e>=0&&this.fastRemoveAt(e)},e.fastRemoveAt=function(t){var e=this.array;e[t]=e[e.length-1],--e.length,t<=this.i&&--this.i},e.push=function(t){this.array.push(t)},s(t,[{key:"length",get:function(){return this.array.length},set:function(t){this.array.length=t,this.i>=t&&(this.i=t-1)}}]),t}());function St(t,e){t.splice(e,1)}function Pt(t,e){var n=t.length;e<0||e>=n||(t[e]=t[n-1],t.length=n-1)}function wt(t,e){var n=t.indexOf(e);return n>=0&&(St(t,n),!0)}function Ct(t,e){var n=t.indexOf(e);n>=0&&(t[n]=t[t.length-1],--t.length)}function Rt(t,e){var n=t.findIndex(e);if(n>=0){var r=t[n];return St(t,n),r}}function Dt(t,e){return t.indexOf(e)>=0}function kt(t){for(var e=0,n=arguments.length<=1?0:arguments.length-1;e<n;++e)t[e]=e+1<1||arguments.length<=e+1?void 0:arguments[e+1]}var Mt,Lt=Object.freeze({__proto__:null,MutableForwardIterator:Tt,appendObjectsAt:function(t,e,n){return t.splice.apply(t,[n,0].concat(e)),t},contains:Dt,copy:function(t){for(var e=t.length,n=new Array(e),r=0;r<e;r+=1)n[r]=t[r];return n},fastRemove:Ct,fastRemoveAt:Pt,fillItems:kt,remove:wt,removeArray:function(t,e){for(var n=0,r=e.length;n<r;n++)wt(t,e[n])},removeAt:St,removeIf:Rt,verifyType:function(t,e){if(t&&t.length>0)for(var n,r=g(t);!(n=r()).done;)if(!(n.value instanceof e))return B(1300),!1;return!0}}),jt=function(){function t(){this._poolHandle=-1,Bt.addContainer(this)}return t.prototype.destroy=function(){Bt.removeContainer(this)},t}(),xt=function(){function t(){this._pools=[],this._lastShrinkPassed=0,this.shrinkTimeSpan=5}var e=t.prototype;return e.addContainer=function(t){-1===t._poolHandle&&(t._poolHandle=this._pools.length,this._pools.push(t))},e.removeContainer=function(t){-1!==t._poolHandle&&(this._pools[this._pools.length-1]._poolHandle=t._poolHandle,Pt(this._pools,t._poolHandle),t._poolHandle=-1)},e.tryShrink=function(){for(var t=0;t<this._pools.length;t++)this._pools[t].tryShrink()},e.update=function(t){this._lastShrinkPassed+=t,this._lastShrinkPassed>this.shrinkTimeSpan&&(this.tryShrink(),this._lastShrinkPassed-=this.shrinkTimeSpan)},t}(),Bt=t("M",new xt),Ht=t("P",function(t){function e(e,n,r,o){var i;(i=t.call(this)||this)._freePool=[],i._ctor=e,i._dtor=r||null,i._elementsPerBatch=Math.max(n,1),i._shrinkThreshold=o?bt(o,1):i._elementsPerBatch,i._nextAvail=i._elementsPerBatch-1;for(var a=0;a<i._elementsPerBatch;++a)i._freePool.push(e());return i}c(e,t);var n=e.prototype;return n.alloc=function(){if(this._nextAvail<0){this._freePool.length=this._elementsPerBatch;for(var t=0;t<this._elementsPerBatch;t++)this._freePool[t]=this._ctor();this._nextAvail=this._elementsPerBatch-1}return this._freePool[this._nextAvail--]},n.free=function(t){this._freePool[++this._nextAvail]=t},n.freeArray=function(t){this._freePool.length=this._nextAvail+1,Array.prototype.push.apply(this._freePool,t),this._nextAvail+=t.length},n.tryShrink=function(){var t=this._nextAvail+1;if(!(t<=this._shrinkThreshold)){var e;if(e=t>>1>=this._shrinkThreshold?t>>1:Math.floor((t-this._shrinkThreshold+1)/2),this._dtor)for(var n=this._nextAvail-e+1;n<=this._nextAvail;++n)this._dtor(this._freePool[n]);this._nextAvail-=e,this._freePool.length=this._nextAvail+1}},n.destroy=function(){var e=arguments.length>0?arguments[0]:null;e&&G(14100);var n=e||this._dtor;if(n)for(var r=0;r<=this._nextAvail;r++)n(this._freePool[r]);this._freePool.length=0,this._nextAvail=-1,t.prototype.destroy.call(this)},e}(jt)),Wt=(t("a6",function(t){function e(e,n,r){var o;(o=t.call(this)||this)._count=0,o._fn=e,o._dtor=r||null,o._data=new Array(n),o._initSize=n;for(var i=0;i<n;++i)o._data[i]=e();return o}c(e,t);var n=e.prototype;return n.reset=function(){this._count=0},n.resize=function(t){if(t>this._data.length)for(var e=this._data.length;e<t;++e)this._data[e]=this._fn()},n.add=function(){return this._count>=this._data.length&&this.resize(this._data.length<<1),this._data[this._count++]},n.destroy=function(){if(this._dtor)for(var e=0;e<this._data.length;e++)this._dtor(this._data[e]);this._data.length=0,this._count=0,t.prototype.destroy.call(this)},n.tryShrink=function(){if(this._data.length>>2>this._count){var t=Math.max(this._initSize,this._data.length>>1);if(this._dtor)for(var e=t;e<this._data.length;e++)this._dtor(this._data[e]);this._data.length=t}},n.removeAt=function(t){if(!(t>=this._count)){var e=this._count-1,n=this._data[t];this._data[t]=this._data[e],this._data[e]=n,this._count-=1}},s(e,[{key:"length",get:function(){return this._count}},{key:"data",get:function(){return this._data}}]),e}(jt)),t("p",function(t){function e(e,n){var r;return(r=t.call(this)||this).length=0,r._initSize=0,r.array=new Array(e),r._initSize=e,r._compareFn=n,r}c(e,t);var n=e.prototype;return n.push=function(t){this.array[this.length++]=t},n.pop=function(){return this.array[--this.length]},n.get=function(t){return this.array[t]},n.clear=function(){this.length=0},n.destroy=function(){this.length=0,this.array.length=0,t.prototype.destroy.call(this)},n.tryShrink=function(){this.array.length>>2>this.length&&(this.array.length=Math.max(this._initSize,this.array.length>>1))},n.sort=function(){this.array.length=this.length,this.array.sort(this._compareFn)},n.concat=function(t){for(var e=0;e<t.length;++e)this.array[this.length++]=t[e]},n.fastRemove=function(t){if(!(t>=this.length||t<0)){var e=--this.length;this.array[t]=this.array[e]}},n.indexOf=function(t){for(var e=0,n=this.length;e<n;++e)if(this.array[e]===t)return e;return-1},e}(jt)),t("ao",function(){function t(t){this.id=0|998*Math.random(),this.prefix=t?t+".":""}return t.prototype.getNewId=function(){return this.prefix+(++this.id).toString()},t}()));Mt=Wt,Wt.global=new Mt("global");var Ut=new Wt("TmpCId."),Gt="undefined"==typeof Symbol?"__aliases__":Symbol("[[Aliases]]"),Ft="__classname__",Vt="__cid__";function zt(t){return"number"==typeof t||t instanceof Number}function Kt(t){return"string"==typeof t||t instanceof String}function Xt(t){for(var e in t)return!1;return!0}var qt,Yt=t("v",(qt={value:void 0,enumerable:!1,writable:!1,configurable:!0},function(t,e,n,r,o){qt.value=n,qt.writable=r,qt.enumerable=o,Object.defineProperty(t,e,qt),qt.value=void 0})),Qt=t("aq",function(){var t={get:void 0,set:void 0,enumerable:!1};return function(e,n,r,o,i,a){void 0===i&&(i=!1),void 0===a&&(a=!1),"boolean"==typeof o&&(B(1031),i=o,o=void 0),t.get=r,t.set=o,t.enumerable=i,t.configurable=a,Object.defineProperty(e,n,t),t.get=void 0,t.set=void 0}}()),Jt=function(){var t={get:void 0,enumerable:!1,configurable:!1};return function(e,n,r,o,i){t.get=r,t.enumerable=o,t.configurable=i,Object.defineProperty(e,n,t),t.get=void 0}}(),Zt=function(){var t={set:void 0,enumerable:!1,configurable:!1};return function(e,n,r,o,i){t.set=r,t.enumerable=o,t.configurable=i,Object.defineProperty(e,n,t),t.set=void 0}}();function $t(t){var e=Object.create(null);return t&&(e["."]=1,e["/"]=1,delete e["."],delete e["/"]),e}function te(t){if("function"==typeof t){var e=t.prototype;if(e&&e.hasOwnProperty(Ft)&&e[Ft])return e[Ft];var n="";if(t.name)n=t.name;else if(t.toString){var r,o=t.toString();(r="["===o.charAt(0)?/\[\w+\s*(\w+)\]/.exec(o):/^function\s*(\w+)/.exec(o))&&2===r.length&&(n=r[1])}return"Object"!==n?n:""}return t&&t.constructor?te(t.constructor):""}function ee(t,e,n,r){var o=/([^.]+)$/,i=o.exec(e)[0],a=o.exec(n)[0];function s(){return this[a]}r?Qt(t,i,s,(function(t){this[a]=t})):Jt(t,i,s)}function ne(t,e,n,r){for(var o in n)ee(t,e+"."+o,n[o],r)}var re=/(%d)|(%s)/,oe=/%s/;function ie(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(0===arguments.length)return"";if(0===n.length)return""+t;if("string"==typeof t&&re.test(t))for(var o,i=g(n);!(o=i()).done;){var a=o.value,s="number"==typeof a?re:oe;if(s.test(t)){var l=""+a;t=t.replace(s,l)}else t+=" "+a}else for(var c,u=g(n);!(c=u()).done;)t+=" "+c.value;return t}function ae(){for(var t=arguments.length-1,e=new Array(t),n=0;n<t;++n)e[n]=arguments[n+1];return e}function se(t,e){for(;t;){var n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=Object.getPrototypeOf(t)}return null}function le(t,e,n){var r=se(e,t);r&&Object.defineProperty(n,t,r)}function ce(t){t=t||{};for(var e=0;e<(arguments.length<=1?0:arguments.length-1);++e){var n=e+1<1||arguments.length<=e+1?void 0:arguments[e+1];if(n){if("object"!=typeof n){V(5402,n);continue}for(var r in n)r in t||le(r,n,t)}}return t}function ue(t){t=t||{};for(var e=0;e<(arguments.length<=1?0:arguments.length-1);++e){var n=e+1<1||arguments.length<=e+1?void 0:arguments[e+1];if(n){if("object"!=typeof n){V(5403,n);continue}for(var r in n)le(r,n,t)}}return t}function fe(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),t}function _e(t){var e=t.prototype,n=e&&Object.getPrototypeOf(e);return n&&n.constructor}function he(t,e){if(t&&e){if("function"!=typeof t)return!1;if("function"!=typeof e)return!1;if(t===e)return!0;for(;;){if(!(t=_e(t)))return!1;if(t===e)return!0}}return!1}function pe(t){for(var e=0,n=Object.keys(t);e<n.length;e++)delete t[n[e]]}var ve=$t(!0),de=$t(!0);function ge(t,e,n){return function(r,o){if(o.prototype.hasOwnProperty(t)&&delete e[o.prototype[t]],Yt(o.prototype,t,r),r){var i=e[r];!n&&i&&i!==o?V(16334,t,r,""):e[r]=o}}}var ye=ge("__cid__",ve,!1),Ae=ge("__classname__",de,!0);function be(t,e){if(Ae(t,e),!e.prototype.hasOwnProperty(Vt)){var n=t||Ut.getNewId();n&&ye(n,e)}}function Ee(t,e){var n=de[e],r=ve[e],o=!0;if(n&&n!==t&&(V(16335,e),o=!1),r&&r!==t&&(V(16336,e),o=!1),o){var i=t[Gt];i||(i=[],t[Gt]=i),i.push(e),de[e]=t,ve[e]=t}}function Ie(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,o=e;r<o.length;r++){var i=o[r].prototype,a=i[Vt];a&&delete ve[a];var s=i[Ft];s&&delete de[s];var l=i[Gt];if(l)for(var c=0;c<l.length;++c){var u=l[c];delete de[u],delete ve[u]}}}function Oe(t){return me(t)}function me(t){return ve[t]}function Ne(t){return de[t]}function Te(t){return Se(t)}function Se(t){if("function"==typeof t&&t.prototype.hasOwnProperty(Vt))return t.prototype[Vt];if(t&&t.constructor){var e=t.constructor.prototype;if(e&&e.hasOwnProperty(Vt))return t[Vt]}return""}var Pe=t("a3",function(){var t=e.prototype;function e(t,e){this.count=0;var n=void 0===e?t:e,r=void 0===e?null:t;this._pool=new Array(n),this._cleanup=r}return t.get=function(){return this._get()},t._get=function(){if(this.count>0){--this.count;var t=this._pool[this.count];return this._pool[this.count]=null,t}return null},t.put=function(t){var e=this._pool;if(this.count<e.length){if(this._cleanup&&!1===this._cleanup(t))return;e[this.count]=t,++this.count}},t.resize=function(t){t>=0&&(this._pool.length=t,this.count>t&&(this.count=t))},e}()),we={IDGenerator:Wt,Pool:Pe,array:Lt,isNumber:zt,isString:Kt,isEmptyObject:Xt,getPropertyDescriptor:se,addon:ce,mixin:ue,extend:fe,getSuper:_e,isChildClassOf:he,clear:pe,value:Yt,getset:Qt,get:Jt,set:Zt,unregisterClass:Ie,getClassName:te,setClassName:be,setClassAlias:Ee,getClassByName:Ne,getClassById:me,get _registeredClassNames(){return l({},de)},set _registeredClassNames(t){pe(de),Object.assign(de,t)},get _registeredClassIds(){return l({},ve)},set _registeredClassIds(t){pe(ve),Object.assign(ve,t)},_getClassId:Te,getClassId:Se,_setClassId:ye,_getClassById:Oe,obsolete:ee,obsoletes:ne,formatStr:ie,shiftArguments:ae,createMap:$t};n.js=we;var Ce=Object.freeze({__proto__:null,IDGenerator:Wt,Pool:Pe,_getClassById:Oe,_getClassId:Te,_idToClass:ve,_nameToClass:de,_setClassId:ye,addon:ce,array:Lt,clear:pe,copyAllProperties:function(t,e,n){for(var r=Object.getOwnPropertyNames(t),o=0,i=r.length;o<i;++o){var a=r[o];-1===n.indexOf(a)&&le(a,t,e)}},createMap:$t,extend:fe,formatStr:ie,get:Jt,getClassById:me,getClassByName:Ne,getClassId:Se,getClassName:te,getPropertyDescriptor:se,getSuper:_e,getset:Qt,isChildClassOf:he,isEmptyObject:Xt,isNumber:zt,isString:Kt,js:we,mixin:ue,obsolete:ee,obsoletes:ne,set:Zt,setClassAlias:Ee,setClassName:be,shiftArguments:ae,unregisterClass:Ie,value:Yt});function Re(t){if("__bitmask__"in t)return t;Yt(t,"__bitmask__",null,!0);for(var e=-1,n=Object.keys(t),r=0;r<n.length;r++){var o=n[r],i=t[o];if(-1===i)i=++e,t[o]=i;else if("number"==typeof i)e=i;else if("string"==typeof i&&Number.isInteger(parseFloat(o)))continue;var a=""+i;o!==a&&Yt(t,a,o)}return t}t("aa",Ce),Re.isBitMask=function(t){return t&&Object.prototype.hasOwnProperty.call(t,"__bitmask__")},Re.getList=function(t){return t.__bitmask__?t.__bitmask__:Re.update(t)},Re.update=function(t){Array.isArray(t.__bitmask__)||(t.__bitmask__=[]);var e=t.__bitmask__;for(var n in e.length=0,t){var r=t[n];Number.isInteger(r)&&e.push({name:n,value:r})}return e.sort((function(t,e){return t.value-e.value})),e},n.BitMask=Re;var De=Object.prototype.hasOwnProperty;function ke(t){return"__enums__"in t?t:(Yt(t,"__enums__",null,!0),ke.update(t))}function Me(t){De.call(t,"__enums__")}function Le(t){Me(t);var e=t.__enums__||[];e.length=0;var n=!0;for(var r in t){var o=t[r],i=Number.isInteger(o);i||(n=!1),(i||"string"==typeof o&&t[o]!==Number.parseInt(r))&&e.push({name:r,value:o})}return n&&e.sort((function(t,e){return t.value-e.value})),t.__enums__=e,e}ke.update=function(t){for(var e=-1,n=Object.keys(t),r=0;r<n.length;r++){var o=n[r],i=t[o];if(-1===i)i=++e,t[o]=i;else if("number"==typeof i)e=i;else if("string"==typeof i&&Number.isInteger(parseFloat(o)))continue;var a=""+i;o!==a&&Yt(t,a,o)}return Array.isArray(t.__enums__)&&Le(t),t},ke.isEnum=function(t){return t&&De.call(t,"__enums__")},ke.getList=function(t){return Me(t),t.__enums__?t.__enums__:Le(t)},ke.sortList=function(t,e){Me(t),Array.isArray(t.__enums__)&&t.__enums__.sort(e)},n.Enum=ke;var je,xe=t("V",function(){function t(){}var e=t.prototype;return e.clone=function(){return V(100,te(this)+".clone"),this},e.equals=function(){return!1},e.set=function(){V(100,te(this)+".set")},e.toString=function(){return""},t}());be("cc.ValueType",xe),n.ValueType=xe,t("S",je),function(t){t.PATH="path",t.ENGINE="engine",t.ASSETS="assets",t.SCRIPTING="scripting",t.PHYSICS="physics",t.RENDERING="rendering",t.LAUNCH="launch",t.SCREEN="screen",t.SPLASH_SCREEN="splashScreen",t.ANIMATION="animation",t.PROFILING="profiling",t.PLUGINS="plugins",t.XR="xr"}(je||t("S",je={}));var Be=t("N",function(){function t(){this._settings={},this._override={}}var e=t.prototype;return e.init=function(t,e){var n=this;for(var r in void 0===t&&(t=""),void 0===e&&(e={}),e){var o=e[r];if(o)for(var i in o)this.overrideSettings(r,i,o[i])}return t?new Promise((function(e,r){if(t.startsWith("http")){var o=new XMLHttpRequest;o.open("GET",t),o.responseType="text",o.onload=function(){n._settings=JSON.parse(o.response),e()},o.onerror=function(){r(new Error("request settings failed!"))},o.send(null)}else{var i=fsUtils.readJsonSync(t);i instanceof Error?r(i):(n._settings=i,e())}})):Promise.resolve()},e.overrideSettings=function(t,e,n){t in this._override||(this._override[t]={}),this._override[t][e]=n},e.querySettings=function(t,e){if(t in this._override){var n=this._override[t];if(n&&e in n)return n[e]}if(t in this._settings){var r=this._settings[t];if(r&&e in r)return r[e]}return null},t}());Be.Category=je;var He=t("s",new Be);n.settings=He;var We=t("A",{SUPPORT_TEXTURE_FORMATS:[".astc",".pkm",".pvr",".webp",".jpg",".jpeg",".bmp",".png"],KEY:{none:0,back:6,menu:18,backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause:19,capslock:20,escape:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,select:41,insert:45,Delete:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,num0:96,num1:97,num2:98,num3:99,num4:100,num5:101,num6:102,num7:103,num8:104,num9:105,"*":106,"+":107,"-":109,numdel:110,"/":111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,numlock:144,scrolllock:145,";":186,semicolon:186,equal:187,"=":187,",":188,comma:188,dash:189,".":190,period:190,forwardslash:191,grave:192,"[":219,openbracket:219,backslash:220,"]":221,closebracket:221,quote:222,dpadLeft:1e3,dpadRight:1001,dpadUp:1003,dpadDown:1004,dpadCenter:1005},RAD:Math.PI/180,DEG:180/Math.PI,REPEAT_FOREVER:Number.MAX_VALUE-1,FLT_EPSILON:1.192092896e-7,ORIENTATION_PORTRAIT:K.PORTRAIT,ORIENTATION_PORTRAIT_UPSIDE_DOWN:K.PORTRAIT_UPSIDE_DOWN,ORIENTATION_LANDSCAPE:K.LANDSCAPE,ORIENTATION_LANDSCAPE_LEFT:K.LANDSCAPE_LEFT,ORIENTATION_LANDSCAPE_RIGHT:K.LANDSCAPE_RIGHT,ORIENTATION_AUTO:K.AUTO,ENABLE_TILEDMAP_CULLING:!0,TOUCH_TIMEOUT:5e3,ENABLE_TRANSPARENT_CANVAS:!1,ENABLE_WEBGL_ANTIALIAS:!0,ENABLE_FLOAT_OUTPUT:!1,CLEANUP_IMAGE_CACHE:!1,ENABLE_MULTI_TOUCH:!0,MAX_LABEL_CANVAS_POOL_SIZE:20,ENABLE_WEBGL_HIGHP_STRUCT_VALUES:!1,BATCHER2D_MEM_INCREMENT:144,CUSTOM_PIPELINE_NAME:"Builtin",init:function(){this.CLEANUP_IMAGE_CACHE=!0;var t=He.querySettings(je.ENGINE,"macros");if(t)for(var e in t)We[e]=t[e]}});n.macro=We;for(var Ue=t("aA",/^(?:cc|dragonBones|sp|ccsg)\..+/),Ge=new Array(123),Fe=0;Fe<123;++Fe)Ge[Fe]=64;for(var Ve=0;Ve<64;++Ve)Ge["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charCodeAt(Ve)]=Ve;var ze=t("am",Ge);function Ke(t,e,n){function r(t,e,n,r){var o=Object.getOwnPropertyDescriptor(t,e);if(o)o.get&&n&&(t[n]=o.get),o.set&&r&&(t[r]=o.set);else{var i=t[n];Qt(t,e,i,t[r])}}for(var o,i=t.prototype,a=0,s=e.length;a<s;++a){var l=(o=e[a])[0].toUpperCase()+o.slice(1);r(i,o,"get"+l,"set"+l)}for(o in n){var c=n[o];r(i,o,c[0],c[1])}}function Xe(t,e,n,r){var o=t[e];o?Array.isArray(o)?r?(o.push(o[0]),o[0]=n):o.push(n):t[e]=r?[n,o]:[o,n]:t[e]=n}function qe(t,e){if("function"==typeof t.contains)return t.contains(e);if("function"==typeof t.compareDocumentPosition)return!!(16&t.compareDocumentPosition(e));var n=e.parentNode;if(n)do{if(n===t)return!0;n=n.parentNode}while(null!==n);return!1}function Ye(t){return"object"==typeof window&&"function"==typeof Node?t instanceof Node:!!t&&"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName}function Qe(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t&&ot((function(){t.apply(void 0,n)}),0)}function Je(t){return!(!t||t.constructor!==Object)&&Xt(t)}function Ze(t,e,n){if(e>n){var r=e;e=n,n=r}return t<e?e:t<n?t:n}function $e(t){return t*We.RAD}function tn(t){return t*We.DEG}n.misc={BUILTIN_CLASSID_RE:Ue,BASE64_VALUES:ze,propertyDefine:Ke,pushToMap:Xe,contains:qe,isDomNode:Ye,callInNextTick:Qe,isPlainEmptyObj_DEV:Je,clampf:Ze,degreesToRadians:$e,radiansToDegrees:tn},t("ab",Object.freeze({__proto__:null,BASE64_VALUES:ze,BUILTIN_CLASSID_RE:Ue,callInNextTick:Qe,clampf:Ze,contains:qe,degreesToRadians:$e,isDomNode:Ye,isPlainEmptyObj_DEV:Je,propertyDefine:Ke,pushToMap:Xe,radiansToDegrees:tn,tryCatchFunctor_EDITOR:function(t){return Function("target","try {\n  target."+t+"();\n}\ncatch (e) {\n  cc._throw(e);\n}")}}));var en="$_$";function nn(t,e){var n=e?Object.create(e):{};return Yt(t,"__attrs__",n),n}function rn(t){if("function"!=typeof t)return nn(t,an(t.constructor));for(var e,r=n.Class.getInheritanceChain(t),o=r.length-1;o>=0;o--){var i=r[o];i.hasOwnProperty("__attrs__")&&i.__attrs__||nn(i,(e=r[o+1])&&e.__attrs__)}return nn(t,(e=r[0])&&e.__attrs__),t.__attrs__}function on(t,e){var n=an(t),r=e+en,o={};for(var i in n)i.startsWith(r)&&(o[i.slice(r.length)]=n[i]);return o}function an(t){return t.hasOwnProperty("__attrs__")&&t.__attrs__||rn(t)}function sn(t,e,n,r){an(t)[e+en+n]=r}var ln=function(){function t(t,e){this.name=t,this.default=e}return t.prototype.toString=function(){return this.name},t}(),cn=t("m",new ln("Integer",0));n.Integer=cn,n.CCInteger=cn;var un=t("o",new ln("Float",0));n.Float=un,n.CCFloat=un;var fn=t("C",new ln("Boolean",!1));n.Boolean=fn,n.CCBoolean=fn;var _n=t("f",new ln("String",""));function hn(t,e){return function(n,r){var o='"'+te(n)+"."+r+'"',i=on(n,r),a=i.type;if(a===cn||a===un?a="Number":a!==_n&&a!==fn||(a=""+a),a===t){if(i.hasOwnProperty("default")){var s=i.default;if(void 0!==s&&!Array.isArray(s)&&!Je(s)){var l=typeof s,c=t.toLowerCase();if(l===c)if("object"===c){if(!s||s instanceof i.ctor)return;G(3605,o,te(i.ctor))}else"Number"!==t&&G(3606,e,o,t);else{if("function"===l)return;t===_n.default&&null==s?G(3607,o):G(3611,e,o,l)}delete i.type}}}else G(3604,o)}}n.String=_n,n.CCString=_n;var pn=Object.freeze({__proto__:null,CCBoolean:fn,CCFloat:un,CCInteger:cn,CCString:_n,DELIMETER:en,PrimitiveType:ln,attr:on,createAttrs:rn,createAttrsSingle:nn,getClassAttrs:an,getObjTypeChecker_ET:function(t){return function(e,r){hn("Object","type")(e,r);var o=an(e)[r+en+"default"],i=n.Class.getDefault(o);if(!Array.isArray(i)&&he(t,n.ValueType)){var a=te(t),s=ie('No need to specify the "type" of "%s.%s" because %s is a child class of ValueType.',te(e),r,a);o?w(s):G(3612,s,a,te(e),r,a)}}},getTypeChecker_ET:hn,setClassAttr:sn}),vn={default:{},serializable:{},editorOnly:{},formerlySerializedAs:{}};function dn(t,e,n,r){if(!t.get&&!t.set&&t.hasOwnProperty("default")){var o="_N$"+e;t.get=function(){return this[o]},t.set=function(t){var e=this[o];this[o]=t,n.call(this,e)};var i={};for(var a in r[o]=i,vn){var s=vn[a];t.hasOwnProperty(a)&&(i[a]=t[a],s.canUsedInGet||delete t[a])}}}function gn(t,e,r,o){if(Array.isArray(e)){if(!(e.length>0))return V(5508,r,o);t.type=e=e[0]}"function"==typeof e&&(e===String?t.type=n.String:e===Boolean?t.type=n.Boolean:e===Number&&(t.type=n.Float))}function yn(t,e,n){var r=t||void 0===e?{_short:!0}:{_short:!0,default:e};return n&&(r.type=n),r}function An(t,e){if(!t||t.constructor!==Object){if(Array.isArray(t)&&t.length>0)return yn(e,[],t);if("function"==typeof t){var r=t;return yn(e,he(r,n.ValueType)?new r:null,r)}return t instanceof ln?yn(e,void 0,t):yn(e,t)}return null}function bn(t,e){for(var n in t){var r=t[n],o=An(r,!1);if(o&&(r=t[n]=o),r){var i=r.notify;i&&dn(r,n,i,t),"type"in r&&gn(r,r.type,e,n)}}}var En,In=[];function On(){return In[In.length-1]}function mn(t,e,n){t[""+e+en+"type"]="Enum",t[""+e+en+"enumList"]=ke.getList(n)}n._RF={push:function(t,e,n,r){void 0===n&&(n=e,e=""),In.push({uuid:e,script:n,module:t,exports:t.exports,beh:null,importMeta:r})},pop:function(){var t=In.pop(),e=t.module,n=e.exports;if(n===t.exports){for(var r in n)return;e.exports=n=t.cls}},peek:On},t("aO",En),function(t){t[t.STANDALONE=1]="STANDALONE",t[t.IMPLICIT_VISIBLE=2]="IMPLICIT_VISIBLE",t[t.IMPLICIT_SERIALIZABLE=4]="IMPLICIT_SERIALIZABLE"}(En||t("aO",En={}));var Nn=en,Tn="__ctors__",Sn=(t("aj","Enum"),t("ak","BitMask"));function Pn(t,e){t.indexOf(e)<0&&t.push(e)}function wn(t,e){Pn(t.__props__,e)}function Cn(t,e,n,r){wn(t,n),Wn(t,r,e,n)}function Rn(t,e,n,r){var o=r.get;r.set,o&&(Wn(t,r,e,n),sn(t,n,"serializable",!1))}function Dn(t){return"function"==typeof t?t():t}function kn(t,e,n){var r=n.ctor;return Yt(r,Tn,!0,!0),r.prototype,e&&(r.$super=e),be(t,r),r}function Mn(t,e,r){var o=n.Component,i=On();if(i&&he(e,o)){if(he(i.cls,o))return V(3615),null;t=t||i.script}var a=kn(t,e,r);if(i)if(he(e,o)){var s=i.uuid;s&&ye(s,a),i.cls=a}else he(i.cls,o)||(i.cls=a);return a}function Ln(t,e,n,r){if(t.__props__=[],r&&r.__props__&&(t.__props__=r.__props__.slice()),n)for(var o in bn(n,e),n){var i=n[o];i.get||i.set?Rn(t,e,o,i):Cn(t,e,o,i)}var a=an(t);t.__values__=t.__props__.filter((function(t){return!1!==a[""+t+Nn+"serializable"]}))}function jn(t){var e=t.name,r=t.extends,o=Mn(e,r,t);e||(e=n.js.getClassName(o)),o._sealed=!0,r&&(r._sealed=!1),Ln(o,e,t.properties,r);var i=t.editor;return i&&he(r,n.Component)&&n.Component._registerEditorProps(o,i),o}function xn(t){return null==t||null==t.hasOwnProperty?void 0:t.hasOwnProperty("__values__")}jn._isCCClass=function(t){return null==t||null==t.hasOwnProperty?void 0:t.hasOwnProperty(Tn)},jn.fastDefine=function(t,e,n){be(t,e);for(var r=e.__props__=e.__values__=Object.keys(n),o=an(e),i=0;i<r.length;i++){var a=r[i];o[a+Nn+"visible"]=!1,o[a+Nn+"default"]=n[a]}},jn.Attr=pn,jn.attr=on,jn.isCCClassOrFastDefined=xn,jn.getInheritanceChain=function(t){for(var e=[];t=_e(t);)t!==Object&&e.push(t);return e};var Bn,Hn={Integer:"Number",Float:"Number",Boolean:"Boolean",String:"String"};function Wn(t,e,n,r){var o=null,i="";function a(){return i=r+Nn,o=an(t)}"type"in e&&void 0===e.type&&G(3660,r,n);var s=e.type;s&&(Hn[s]?(o||a())[i+"type"]=s:"Object"===s||("object"==typeof s?ke.isEnum(s)?mn(o||a(),r,s):Re.isBitMask(s)&&((o||a())[i+"type"]=Sn,o[i+"bitmaskList"]=Re.getList(s)):"function"==typeof s&&((o||a())[i+"type"]="Object",o[i+"ctor"]=s))),"default"in e&&((o||a())[i+"default"]=e.default);var l,c=function(t,n){if(t in e){var r=e[t];typeof r===n&&((o||a())[i+t]=r)}};e.editorOnly&&((o||a())[i+"editorOnly"]=!0),e.__internalFlags&En.STANDALONE?l=!0===e.serializable||!!(e.__internalFlags&En.IMPLICIT_SERIALIZABLE):!1===e.serializable&&(l=!1),void 0!==l&&((o||a())[i+"serializable"]=l),c("formerlySerializedAs","string");var u=e.range;u&&Array.isArray(u)&&u.length>=2&&((o||a())[i+"min"]=u[0],o[i+"max"]=u[1],u.length>2&&(o[i+"step"]=u[2])),c("step","number"),c("userData","object")}jn.isArray=function(t){return t=Dn(t),Array.isArray(t)},jn.getDefault=Dn,jn.escapeForJS=function(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},jn.IDENTIFIER_RE=/^[A-Za-z_$][0-9A-Za-z_$]*$/,jn.getNewValueTypeCode=o,n.Class=jn,t("d",Bn),function(t){t[t.Destroyed=1]="Destroyed",t[t.RealDestroyed=2]="RealDestroyed",t[t.ToDestroy=4]="ToDestroy",t[t.DontSave=8]="DontSave",t[t.EditorOnly=16]="EditorOnly",t[t.Dirty=32]="Dirty",t[t.DontDestroy=64]="DontDestroy",t[t.Destroying=128]="Destroying",t[t.Deactivating=256]="Deactivating",t[t.LockedInEditor=512]="LockedInEditor",t[t.HideInHierarchy=1024]="HideInHierarchy",t[t.IsOnEnableCalled=2048]="IsOnEnableCalled",t[t.IsEditorOnEnableCalled=4096]="IsEditorOnEnableCalled",t[t.IsPreloadStarted=8192]="IsPreloadStarted",t[t.IsOnLoadCalled=16384]="IsOnLoadCalled",t[t.IsOnLoadStarted=32768]="IsOnLoadStarted",t[t.IsStartCalled=65536]="IsStartCalled",t[t.IsRotationLocked=131072]="IsRotationLocked",t[t.IsScaleLocked=262144]="IsScaleLocked",t[t.IsAnchorLocked=524288]="IsAnchorLocked",t[t.IsSizeLocked=1048576]="IsSizeLocked",t[t.IsPositionLocked=2097152]="IsPositionLocked",t[t.PersistentMask=-4192741]="PersistentMask",t[t.AllHideMasks=1560]="AllHideMasks"}(Bn||t("d",Bn={}));var Un=[];function Gn(t,e){var r,o=t instanceof n.Node||t instanceof n.Component,i=o?"_id":null,a={};for(r in t)if(t.hasOwnProperty(r)){if(r===i)continue;switch(typeof t[r]){case"string":a[r]="";break;case"object":case"function":a[r]=null}}if(jn._isCCClass(e))for(var s=n.Class.Attr.getClassAttrs(e),l=e.__props__,c=0;c<l.length;c++){var u=""+(r=l[c]);if(u in s){if(o&&"_id"===r)continue;switch(typeof s[u]){case"string":a[r]="";break;case"object":case"function":a[r]=null;break;case"undefined":a[r]=void 0}}}return function(t){for(var e in a)t[e]=a[e]}}var Fn=t("K",function(){function t(t){void 0===t&&(t=""),this._objFlags=0,this._name=t}t._deferredDestroy=function(){for(var t=Un.length,e=0;e<t;++e){var n=Un[e];n._objFlags&Bn.Destroyed||n._destroyImmediate()}t===Un.length?Un.length=0:Un.splice(0,t)};var e=t.prototype;return e.destroy=function(){return this._objFlags&Bn.Destroyed?(G(5e3),!1):!(this._objFlags&Bn.ToDestroy||(this._objFlags|=Bn.ToDestroy,Un.push(this),0))},e._destruct=function(){var t,e=this.constructor;Object.prototype.hasOwnProperty.call(e,"__destruct__")?t=e.__destruct__:(t=Gn(this,e),Yt(e,"__destruct__",t,!0)),t(this)},e._destroyImmediate=function(){var t;this._objFlags&Bn.Destroyed?V(5e3):(null==(t=this._onPreDestroy)||t.call(this),this._destruct(),this._objFlags|=Bn.Destroyed)},s(t,[{key:"name",get:function(){return this._name},set:function(t){this._name=t}},{key:"hideFlags",get:function(){return this._objFlags&Bn.AllHideMasks},set:function(t){var e=t&Bn.AllHideMasks;this._objFlags=this._objFlags&~Bn.AllHideMasks|e}},{key:"isValid",get:function(){return!(this._objFlags&Bn.Destroyed)}}]),t}());Fn.prototype._deserialize=null,jn.fastDefine("cc.Object",Fn,{_name:"",_objFlags:0});var Vn={};for(var zn in Bn)"string"==typeof zn&&"number"==typeof Bn[zn]&&(Vn[zn]=Bn[zn]);function Kn(t){return t instanceof Fn}function Xn(t,e){return"object"==typeof t?!(!t||t._objFlags&(e?Bn.Destroyed|Bn.ToDestroy:Bn.Destroyed)):void 0!==t}Yt(Fn,"Flags",Vn),n.isValid=Xn,n.Object=Fn;var qn=Pt;function Yn(){}var Qn=function(){function t(){this.callback=Yn,this.target=void 0,this.once=!1}var e=t.prototype;return e.set=function(t,e,n){this.callback=t||Yn,this.target=e,this.once=!!n},e.reset=function(){this.target=void 0,this.callback=Yn,this.once=!1},e.check=function(){return!(Kn(this.target)&&!Xn(this.target,!0))},t}(),Jn=new Ht((function(){return new Qn}),32),Zn=function(){function t(){this.callbackInfos=[],this.isInvoking=!1,this.containCanceled=!1}var e=t.prototype;return e.removeByCallback=function(t){for(var e=0;e<this.callbackInfos.length;++e){var n=this.callbackInfos[e];n&&n.callback===t&&(n.reset(),Jn.free(n),qn(this.callbackInfos,e),--e)}},e.removeByTarget=function(t){for(var e=0;e<this.callbackInfos.length;++e){var n=this.callbackInfos[e];n&&n.target===t&&(n.reset(),Jn.free(n),qn(this.callbackInfos,e),--e)}},e.cancel=function(t){var e=this.callbackInfos[t];e&&(e.reset(),this.isInvoking?this.callbackInfos[t]=null:qn(this.callbackInfos,t),Jn.free(e)),this.containCanceled=!0},e.cancelAll=function(){for(var t=0;t<this.callbackInfos.length;t++){var e=this.callbackInfos[t];e&&(e.reset(),Jn.free(e),this.callbackInfos[t]=null)}this.containCanceled=!0},e.purgeCanceled=function(){for(var t=this.callbackInfos.length-1;t>=0;--t)this.callbackInfos[t]||qn(this.callbackInfos,t);this.containCanceled=!1},e.clear=function(){this.cancelAll(),this.callbackInfos.length=0,this.isInvoking=!1,this.containCanceled=!1},t}(),$n=new Ht((function(){return new Zn}),16),tr=t("al",function(){function t(){this._callbackTable=$t(!0),this._offCallback=void 0}var e=t.prototype;return e.on=function(t,e,n,r){if(!this.hasEventListener(t,e,n)){var o=this._callbackTable[t];o||(o=this._callbackTable[t]=$n.alloc());var i=Jn.alloc();i.set(e,n,r),o.callbackInfos.push(i)}return e},e.hasEventListener=function(t,e,n){var r=this._callbackTable&&this._callbackTable[t];if(!r)return!1;var o=r.callbackInfos;if(!e){if(r.isInvoking){for(var i=0;i<o.length;++i)if(o[i])return!0;return!1}return o.length>0}for(var a=0;a<o.length;++a){var s=o[a];if(s&&s.check()&&s.callback===e&&s.target===n)return!0}return!1},e.removeAll=function(t){var e=typeof t;if("string"===e||"number"===e){var n=this._callbackTable&&this._callbackTable[t];n&&(n.isInvoking?n.cancelAll():(n.clear(),$n.free(n),delete this._callbackTable[t]))}else if(t)for(var r in this._callbackTable){var o=this._callbackTable[r];if(o.isInvoking)for(var i=o.callbackInfos,a=0;a<i.length;++a){var s=i[a];s&&s.target===t&&o.cancel(a)}else o.removeByTarget(t)}},e.off=function(t,e,n){var r,o=this._callbackTable&&this._callbackTable[t];if(o){var i=o.callbackInfos;if(e)for(var a=0;a<i.length;++a){var s=i[a];if(s&&s.callback===e&&s.target===n){o.cancel(a);break}}else this.removeAll(t)}null==(r=this._offCallback)||r.call(this)},e.emit=function(t,e,n,r,o,i){var a=this._callbackTable&&this._callbackTable[t];if(a){var s=!a.isInvoking;a.isInvoking=!0;for(var l=a.callbackInfos,c=0,u=l.length;c<u;++c){var f=l[c];if(f){var _=f.callback,h=f.target;f.once&&this.off(t,_,h),f.check()?h?_.call(h,e,n,r,o,i):_(e,n,r,o,i):this.off(t,_,h)}}s&&(a.isInvoking=!1,a.containCanceled&&a.purgeCanceled())}},e.clear=function(){for(var t in this._callbackTable){var e=this._callbackTable[t];e&&(e.clear(),$n.free(e),delete this._callbackTable[t])}},e._registerOffCallback=function(t){this._offCallback=t},t}());function er(t){for(var e=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this)._callbackTable=$t(!0),e}c(e,t);var n=e.prototype;return n.once=function(t,e,n){return this.on(t,e,n,!0)},n.targetOff=function(t){this.removeAll(t)},e}(t),n=tr.prototype,r=Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n)),o=0;o<r.length;++o){var i=r[o];if(!(i in e.prototype)){var a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e.prototype,i,a)}}return e}var nr,rr,or,ir,ar,sr,lr,cr=t("n",er((function(){})));n.EventTarget=cr,t("a0",function(){function t(){this._delegates=[]}var e=t.prototype;return e.add=function(t){this._delegates.includes(t)||this._delegates.push(t)},e.hasListener=function(t){return this._delegates.includes(t)},e.remove=function(t){Ct(this._delegates,t)},e.dispatch=function(){for(var t=arguments,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Promise.all(this._delegates.map((function(e){return e.apply(void 0,t)})).filter(Boolean))},t}()),t("O",nr),function(t){t.UNKNOWN="unknown",t.WECHAT="wechat",t.ANDROID="androidbrowser",t.IE="ie",t.EDGE="edge",t.QQ="qqbrowser",t.MOBILE_QQ="mqqbrowser",t.UC="ucbrowser",t.UCBS="ucbs",t.BROWSER_360="360browser",t.BAIDU_APP="baiduboxapp",t.BAIDU="baidubrowser",t.MAXTHON="maxthon",t.OPERA="opera",t.OUPENG="oupeng",t.MIUI="miuibrowser",t.FIREFOX="firefox",t.SAFARI="safari",t.CHROME="chrome",t.LIEBAO="liebao",t.QZONE="qzone",t.SOUGOU="sogou",t.HUAWEI="huawei"}(nr||t("O",nr={})),t("aN",rr),function(t){t.UNKNOWN="unknown",t.ENGLISH="en",t.CHINESE="zh",t.FRENCH="fr",t.ITALIAN="it",t.GERMAN="de",t.SPANISH="es",t.DUTCH="du",t.RUSSIAN="ru",t.KOREAN="ko",t.JAPANESE="ja",t.HUNGARIAN="hu",t.PORTUGUESE="pt",t.ARABIC="ar",t.NORWEGIAN="no",t.POLISH="pl",t.TURKISH="tr",t.UKRAINIAN="uk",t.ROMANIAN="ro",t.BULGARIAN="bg",t.HINDI="hi"}(rr||t("aN",rr={})),t("aM",or),function(t){t[t.NONE=0]="NONE",t[t.LAN=1]="LAN",t[t.WWAN=2]="WWAN"}(or||t("aM",or={})),t("a2",ir),function(t){t.UNKNOWN="Unknown",t.IOS="iOS",t.ANDROID="Android",t.WINDOWS="Windows",t.LINUX="Linux",t.OSX="OS X",t.OHOS="OHOS",t.OPENHARMONY="OpenHarmony"}(ir||t("a2",ir={})),t("aC",ar),function(t){t.UNKNOWN="UNKNOWN",t.EDITOR_PAGE="EDITOR_PAGE",t.EDITOR_CORE="EDITOR_CORE",t.MOBILE_BROWSER="MOBILE_BROWSER",t.DESKTOP_BROWSER="DESKTOP_BROWSER",t.WIN32="WIN32",t.ANDROID="ANDROID",t.IOS="IOS",t.MACOS="MACOS",t.OHOS="OHOS",t.OPENHARMONY="OPENHARMONY",t.WECHAT_GAME="WECHAT_GAME",t.WECHAT_MINI_PROGRAM="WECHAT_MINI_PROGRAM",t.XIAOMI_QUICK_GAME="XIAOMI_QUICK_GAME",t.ALIPAY_MINI_GAME="ALIPAY_MINI_GAME",t.TAOBAO_CREATIVE_APP="TAOBAO_CREATIVE_APP",t.TAOBAO_MINI_GAME="TAOBAO_MINI_GAME",t.BYTEDANCE_MINI_GAME="BYTEDANCE_MINI_GAME",t.OPPO_MINI_GAME="OPPO_MINI_GAME",t.VIVO_MINI_GAME="VIVO_MINI_GAME",t.HUAWEI_QUICK_GAME="HUAWEI_QUICK_GAME",t.MIGU_MINI_GAME="MIGU_MINI_GAME",t.HONOR_MINI_GAME="HONOR_MINI_GAME"}(ar||t("aC",ar={})),t("ar",sr),function(t){t.WEBP="WEBP",t.IMAGE_BITMAP="IMAGE_BITMAP",t.WEB_VIEW="WEB_VIEW",t.VIDEO_PLAYER="VIDEO_PLAYER",t.SAFE_AREA="SAFE_AREA",t.HPE="HPE",t.INPUT_TOUCH="INPUT_TOUCH",t.EVENT_KEYBOARD="EVENT_KEYBOARD",t.EVENT_MOUSE="EVENT_MOUSE",t.EVENT_TOUCH="EVENT_TOUCH",t.EVENT_ACCELEROMETER="EVENT_ACCELEROMETER",t.EVENT_GAMEPAD="EVENT_GAMEPAD",t.EVENT_HANDLE="EVENT_HANDLE",t.EVENT_HMD="EVENT_HMD",t.EVENT_HANDHELD="EVENT_HANDHELD",t.WASM="WASM"}(sr||t("ar",sr={})),lr=ar.WECHAT_GAME;var ur=function(t){function e(){var e,n;(n=t.call(this)||this)._initPromise=[];var r,o=st.getSystemInfoSync();switch(n.networkType=or.LAN,n.isNative=!1,n.isBrowser=!1,n.isLittleEndian=(r=new ArrayBuffer(2),new DataView(r).setInt16(0,256,!0),256===new Int16Array(r)[0]),n.nativeLanguage=o.language,n.language=o.language.substring(0,2),o.platform.toLocaleLowerCase()){case"android":n.os=ir.ANDROID;break;case"ios":n.os=ir.IOS;break;case"windows":n.os=ir.WINDOWS;break;case"mac":n.os=ir.OSX;break;default:n.os=ir.UNKNOWN}var a=o.system.toLowerCase();"android p"===a&&(a="android p 9.0");var s=/[\d.]+/.exec(a);n.osVersion=s?s[0]:a,n.osMainVersion=parseInt(n.osVersion),n.platform=lr,n.isMobile=n.os===ir.ANDROID||n.os===ir.IOS||n.os===ir.UNKNOWN,n.browserType=nr.UNKNOWN,n.browserVersion="",n.isXR=!1;var l=n.os===ir.WINDOWS&&!st.isDevTool;return n._featureMap=((e={})[sr.WEBP]=!1,e[sr.IMAGE_BITMAP]=!1,e[sr.WEB_VIEW]=!1,e[sr.VIDEO_PLAYER]=i,e[sr.SAFE_AREA]=i,e[sr.HPE]=!1,e[sr.INPUT_TOUCH]=!l,e[sr.EVENT_KEYBOARD]=l,e[sr.EVENT_MOUSE]=l,e[sr.EVENT_TOUCH]=!0,e[sr.EVENT_ACCELEROMETER]=!l,e[sr.EVENT_GAMEPAD]=!1,e[sr.EVENT_HANDLE]=n.isXR,e[sr.EVENT_HMD]=n.isXR,e[sr.EVENT_HANDHELD]=!1,e[sr.WASM]=!0,e),n._initPromise.push(n._supportsWebpPromise()),n._registerEvent(),n}c(e,t);var n=e.prototype;return n._supportsWebpPromise=function(){var t=this;return this._supportsWebp().then((function(e){t._setFeature(sr.WEBP,e)}))},n._supportsWebp=function(){var t=this;return new Promise((function(e){if(t.os!==ir.ANDROID)try{var n=document.createElement("img"),r=setTimeout((function(){e(!1)}),500);n.onload=function(){clearTimeout(r);var t=n.width>0&&n.height>0;e(t)},n.onerror=function(){clearTimeout(r),e(!1)},n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA"}catch(t){e(!1)}else e(!1)}))},n._registerEvent=function(){var t=this;st.onHide((function(){t.emit("hide")})),st.onShow((function(){t.emit("show")}))},n._setFeature=function(t,e){return this._featureMap[t]=e},n.init=function(){return Promise.all(this._initPromise)},n.hasFeature=function(t){return this._featureMap[t]},n.getBatteryLevel=function(){return st.getBatteryInfoSync().level/100},n.triggerGC=function(){null==st.triggerGC||st.triggerGC()},n.openURL=function(){},n.now=function(){return Date.now?Date.now():+new Date},n.restartJSVM=function(){},n.exit=function(){null==st.exitMiniProgram||st.exitMiniProgram()},n.close=function(){this.exit()},e}(cr),fr=(t("W",new ur),function(){function t(){this._finalizationRegistry=null,this._gcObjects=new WeakMap}var e=t.prototype;return e.registerGCObject=function(t){return t},e.init=function(){},e.finalizationRegistryCallback=function(){},e.destroy=function(){},t}()),_r=t("Z",new fr);t("ag",function(){function t(){return _r.registerGCObject(this)}return t.prototype.destroy=function(){},t}())}}}));
